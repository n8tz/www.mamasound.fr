{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/MapOf.react_rtween_helpers_css_demux_____js.gen.js","webpack:///./src/MapOf.react_rtween_helpers_css_demux_typed_____js.gen.js","webpack:///./src/TweenAxis.js","webpack:///./src/TweenRef.js","webpack:///./src/TweenerContext.js","webpack:///./src/asTweener.js","webpack:///./src/helpers/Inertia.js","webpack:///./src/helpers/css/cssUtils.js","webpack:///./src/helpers/css/demux sync ^\\.\\/([^\\\\\\/]+)\\.js$","webpack:///./src/helpers/css/demux/$all.js","webpack:///./src/helpers/css/demux/backgroundColor.js","webpack:///./src/helpers/css/demux/filter.js","webpack:///./src/helpers/css/demux/transform.js","webpack:///./src/helpers/css/demux/typed sync ^\\.\\/([^\\\\\\/]+)\\.js$","webpack:///./src/helpers/css/demux/typed/color.js","webpack:///./src/helpers/css/demux/typed/int.js","webpack:///./src/helpers/css/demux/typed/multi.js","webpack:///./src/helpers/css/demux/typed/number.js","webpack:///./src/helpers/css/index.js","webpack:///./src/helpers/tweenTools.js","webpack:///./src/index.js","webpack:///./src/utils.js","webpack:///./src/withTweener.js","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"d3-ease\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"prop-types\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/get\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"is\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"rtween\"","webpack:///external \"color-rgba\"","webpack:///external \"shortid\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/objectSpread\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\""],"names":["req","_exports","root","require","keys","forEach","key","mod","name","match","i","modExport","substr","split","length","Object","$all","backgroundColor","filter","transform","color","int","multi","number","setTarget","anims","target","map","tween","TweenAxis","state","_tweenLines","axe","_previousTweener","rmScrollableAnim","_previousScrollable","props","children","scrollFirst","scrollableWindow","inertia","size","defaultPosition","items","tweener","_previousInertia","initAxis","_lastTL","addScrollableAnim","_previousTweens","React","Component","propTypes","PropTypes","string","isRequired","array","any","TweenRef","__tweenableId","shortid","generate","rmTweenRef","setRootRef","undefined","prevProps","prevState","snapshot","id","style","initial","pos","noRef","reset","isRoot","tweenLines","onClick","onDoubleClick","parentTweener","is","scrollY","reduce","h","hasOwnProperty","isValidElement","cloneElement","tweenRef","e","TweenerContext","createContext","isBrowserSide","Function","isArray","_live","lastTm","_running","SimpleObjectProto","constructor","Runner","run","tl","ctx","duration","cb","apply","go","push","cpos","Date","now","setTimeout","_tick","o","tm","delta","Math","min","splice","asTweener","argz","BaseComponent","prototype","shift","opts","wheelRatio","arguments","_updateNodeInertia","_","current","ln","activeInertia","_inertiaRaf","cancelAnimationFrame","x","active","holding","scrollLeft","update","y","scrollTop","slice","requestAnimationFrame","refs","muxByTarget","box","z","_rafLoop","bind","__isTweener","targets","t","tweenRefOriginCss","iMapOrigin","_updateTweenRefs","iStyle","iMap","noref","mapReset","makeTweenable","tweenableMap","initials","tweenRefs","tweenRefTargets","muxDataByTarget","tweenRefCSS","tweenRefMaps","tweenRefOrigin","deMuxTween","assign","transform_head","muxToCss","opacity","ref","node","indexOf","rootRef","anim","then","skipInit","sl","muxed","rTween","deMuxLine","applyTweenState","runningAnims","live","propId","propValue","rtweensByProp","rtween","mount","rtweensByStateProp","tweenEnabled","tweenRefInitialData","axes","tweenRefDemuxed","window","addEventListener","onResize","_updateBox","to","easing","tick","from","scrollPos","max","goTo","initialScrollPos","targetPos","scrollableArea","Inertia","value","_inertia","_scrollableArea","_scrollableWindow","makeScrollable","dim","nextDescr","wayPoints","_getAxis","setBounds","found","console","warn","newPos","ms","ease","Promise","resolve","reject","oldPos","setPos","componentDidScroll","_runScrollGoTo","easingFn","scrollEnabled","scrollHook","_registerScrollListeners","scrollable","utils","findReactParents","hookScrollableTargets","ReactDom","findDOMNode","document","getElementById","_static","rendered","rootNode","getRootNode","debounceTm","debounceTr","scrollLoad","lastScrollEvt","_parentTweener","addWheelEvent","onScroll","prevent","deltaY","deltaX","originalEvent","_doDispatch","elementFromPoint","clientX","clientY","stopPropagation","preventDefault","lastStartTm","cLock","dX","parents","dY","parentsState","addEvent","dragList","touch","descr","getScrollableNodes","element","getComputedStyle","test","getPropertyValue","abs","xDispatched","vX","yDispatched","vY","cState","_lastPos","_startPos","dragDirectionLock","startMove","inertiaFrame","applyInertia","isAxisOut","componentShouldScroll","hold","scrollHeight","offsetHeight","scrollWidth","offsetWidth","release","enableMouseDrag","doRegister","findIndex","item","offsetLeft","dispatch","axis","v","dx","dy","Comps","headTarget","nodeInertia","dispatchScroll","tmap","p","postPone","m","updateRefStyle","inited","getTweenableRef","removeEventListener","rmWheelEvent","removeEvent","delayedMotionTarget","goToMotionStateId","scrollableAnim","__isFirst","k","pushAnim","displayName","String","fromCharCode","signOf","sign","NaN","floor","round","consts","velocityResetTm","clickTm","velSign","lastVelocity","loopsTarget","log","loopsVelSum","pow","targetDist","refFPS","targetDuration","inertiaByNode","nodes","opt","conf","config","currentStop","lastInertiaPos","stops","inertiaFn","easePolyOut","targetWayPointIndex","at","nextValue","loop","shouldLoop","teleport","inertiaStartTm","onInertiaEnd","targetWayPoint","loopDist","inertiaLastTm","_doSnap","forceSnap","maxDuration","mid","i2","maxJump","d","willSnap","infinite","baseTS","startTS","lastIVelocity","lastAccel","posDiff","sinceLastPos","iVel","expandShorthandProperty","property","type","childProps","properties","values","isShorthandProperty","isValidDeclaration","canAnimate","getProperty","expand","exports","prop","ret","Array","subProp","unitsRe","RegExp","join","floatCut","l","defaultUnits","left","right","top","bottom","width","height","defaultValue","demux","tweenable","data","forceUnits","parseFloat","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filters","fkey","dkey","fValue","translateX","translateY","translateZ","scale","rotate","skewX","skewY","scaleZ","rotateX","rotateY","rotateZ","perspective","transforms","vect","rgba","alias","center","offset","count","defaultBox","unit","muxer","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","transformOrigin","zIndex","css","demuxers","deMuxedTween","fTween","excluded","tweenLine","line","demuxedTween","start","iDuration","inverseValues","object","val","reverse","addCss","sources","source","addAllType","v1","v2","values1","values2","r","parseInt","extractCss","inverse","shiftTransforms","unshift","Tweenable","isBrowser","_dom","prefix","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","me","finger","desc","Dom","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","identifier","pageX","pageY","_startTs","timeStamp","dragstart","call","stopped","drag","preventNextClick","stopImmediatePropagation","mouseDrag","dropped","getDraggable","locks","dragEnd","freeDraggable","addOverflowEvent","addFlowListener","fn","flow","orient","horizontalOverflow","verticalOverflow","bubble","attachEvent","related","detachEvent","rmDragFn","arr","scope","_createElement","tag","parent","a","createElement","_createElementAttr","createAttribute","setAttributeNode","$id","applyCss","cls","addCls","events","$scope","content","innerHTML","appendChild","createTextNode","isElement","__createElement","tagName","HTMLElement","passive","elem","dims","offsetTop","offsetParent","_addEventListener","_rmEventListener","onwheel","support","onmousewheel","addWheelListener","callback","useCapture","_addWheelListener","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaMode","spinX","spinY","pixelX","pixelY","eventName","_wheelList","srcElement","delatZ","returnValue","normalized","rmWheelListener","_EventListener","fiberNode","comps","startsWith","stateNode","parentNode","withTweener","TweenerToProps","forwardedRef","withRef","forwardRef"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD,IAAIA,GAAJ;AAAA,IAASC,QAAQ,GAAG,EAApB;AAAA,IAAwBC,IAAxB;AACnDF,GAAG,GAAGG,wFAAN;AAEAH,GAAG,CAACI,IAAJ,GAAWC,OAAX,CAAmB,UAAUC,GAAV,EAAe;AAC9B,MAAIC,GAAJ;AAAA,MACIC,IAAI,GAACF,GAAG,CAACG,KAAJ,CAAW,sBAAX,CADT;AAAA,MAEIC,CAAC,GAAC,CAFN;AAAA,MAGIC,SAAS,GAACV,QAHd;AAIAO,MAAI,GAAGA,IAAI,IAAEA,IAAI,CAAC,CAAD,CAAV,IAAeF,GAAG,CAACM,MAAJ,CAAW,CAAX,CAAtB;AACAJ,MAAI,GAAGA,IAAI,CAACK,KAAL,CAAW,GAAX,CAAP;AACAN,KAAG,GAAIP,GAAG,CAACM,GAAD,CAAV;;AAEA,SAAMI,CAAC,GAACF,IAAI,CAACM,MAAL,GAAY,CAApB;AACGH,aAAS,GAACA,SAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,GAAmBC,SAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,IAAoB,EAAjD,EAAqDA,CAAC,EAAtD;AADH;;AAEAC,WAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,GAAqBK,MAAM,CAACX,IAAP,CAAYG,GAAZ,EAAiBO,MAAjB,KAA4B,CAA5B,IAAiCP,GAAG,WAApC,IAAgDA,GAArE;AACH,CAZD;AAcC,IAAMS,IAAI,GAAGf,QAAQ,CAACe,IAAtB;AAEA,IAAMC,eAAe,GAAGhB,QAAQ,CAACgB,eAAjC;AAEA,IAAMC,MAAM,GAAGjB,QAAQ,CAACiB,MAAxB;AAEA,IAAMC,SAAS,GAAGlB,QAAQ,CAACkB,SAA3B;AAEQlB,uEAAf,E;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD,IAAID,GAAJ;AAAA,IAASC,QAAQ,GAAG,EAApB;AAAA,IAAwBC,IAAxB;AACnDF,GAAG,GAAGG,8FAAN;AAEAH,GAAG,CAACI,IAAJ,GAAWC,OAAX,CAAmB,UAAUC,GAAV,EAAe;AAC9B,MAAIC,GAAJ;AAAA,MACIC,IAAI,GAACF,GAAG,CAACG,KAAJ,CAAW,sBAAX,CADT;AAAA,MAEIC,CAAC,GAAC,CAFN;AAAA,MAGIC,SAAS,GAACV,QAHd;AAIAO,MAAI,GAAGA,IAAI,IAAEA,IAAI,CAAC,CAAD,CAAV,IAAeF,GAAG,CAACM,MAAJ,CAAW,CAAX,CAAtB;AACAJ,MAAI,GAAGA,IAAI,CAACK,KAAL,CAAW,GAAX,CAAP;AACAN,KAAG,GAAIP,GAAG,CAACM,GAAD,CAAV;;AAEA,SAAMI,CAAC,GAACF,IAAI,CAACM,MAAL,GAAY,CAApB;AACGH,aAAS,GAACA,SAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,GAAmBC,SAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,IAAoB,EAAjD,EAAqDA,CAAC,EAAtD;AADH;;AAEAC,WAAS,CAACH,IAAI,CAACE,CAAD,CAAL,CAAT,GAAqBK,MAAM,CAACX,IAAP,CAAYG,GAAZ,EAAiBO,MAAjB,KAA4B,CAA5B,IAAiCP,GAAG,WAApC,IAAgDA,GAArE;AACH,CAZD;AAcC,IAAMa,KAAK,GAAGnB,QAAQ,CAACmB,KAAvB;AAEA,IAAMC,IAAG,GAAGpB,QAAQ,OAApB;;AAEA,IAAMqB,KAAK,GAAGrB,QAAQ,CAACqB,KAAvB;AAEA,IAAMC,MAAM,GAAGtB,QAAQ,CAACsB,MAAxB;AAEQtB,uEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBA;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AAEA;;AAEA,SAASuB,SAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAoC;AACnC,SAAOD,KAAK,CAACE,GAAN,CACN,UAAAC,KAAK;AAAA,0FACDA,KADC;AAEJF,YAAM,EAANA;AAFI;AAAA,GADC,CAAP;AAMA;;IAEoBG,S;;;;;;;;;;;;;;;;;UAQpBC,K,GAAmB,E;;;;;;2CAEI;AAAA;;AAEtB,UAAK,KAAKC,WAAV,EAAwB;AACvBhB,cAAM,CAACX,IAAP,CAAY,KAAK2B,WAAjB,EACO1B,OADP,CACe,UAAA2B,GAAG;AAAA,iBAAI,MAAI,CAACC,gBAAL,CAAsBC,gBAAtB,CAAuC,MAAI,CAACH,WAAL,CAAiBC,GAAjB,CAAvC,EAA8DA,GAA9D,CAAJ;AAAA,SADlB;AAGA;;AACD,aAAO,KAAKC,gBAAZ;AACA,aAAO,KAAKE,mBAAZ;AACA;;;6BAEQ;AAAA;;AAAA,wBAMA,KAAKC,KANL;AAAA,UAEHC,QAFG,eAEHA,QAFG;AAAA,UAGHL,GAHG,eAGHA,GAHG;AAAA,UAGEM,WAHF,eAGEA,WAHF;AAAA,UAIHC,gBAJG,eAIHA,gBAJG;AAAA,UAIeC,OAJf,eAIeA,OAJf;AAAA,UAIwBC,IAJxB,eAIwBA,IAJxB;AAAA,UAI8BC,eAJ9B,eAI8BA,eAJ9B;AAAA,0CAKHC,KALG;AAAA,UAKHA,KALG,kCAKK,EALL;AAOR,aAAO,2DAAC,wDAAD,CAAgB,QAAhB,QAEL,UAAAC,OAAO,EAAI;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAK,CAAC,MAAI,CAACC,gBAAN,IAA0B,MAAI,CAACA,gBAAL,KAA0BL,OAAzD,EAAmE;AAAC;AACnE,gBAAI,CAACK,gBAAL,GAAwBL,OAAxB;AACAI,iBAAO,CAACE,QAAR,CAAiBd,GAAjB,EAAsB;AAAEQ,mBAAO,EAAPA,OAAF;AAAWC,gBAAI,EAAJA,IAAX;AAAiBF,4BAAgB,EAAhBA,gBAAjB;AAAmCG,2BAAe,EAAfA,eAAnC;AAAoDJ,uBAAW,EAAXA;AAApD,WAAtB;AACA;;AACD,YAAK,CAAC,MAAI,CAACL,gBAAN,IAA0B,MAAI,CAACA,gBAAL,KAA0BW,OAAzD,EAAmE;AAAC;AACnE,gBAAI,CAACX,gBAAL,IAAyB,MAAI,CAACc,OAA9B,IAAyC,MAAI,CAACd,gBAAL,CAAsBC,gBAAtB,CAAuC,MAAI,CAACa,OAA5C,EAAqDf,GAArD,CAAzC;AACA,cAAKW,KAAK,CAAC7B,MAAX,EACC,MAAI,CAACiC,OAAL,GAAeH,OAAO,CAACI,iBAAR,CAA0BL,KAA1B,EAAiCX,GAAjC,EAAsCS,IAAtC,CAAf;AACD,gBAAI,CAACR,gBAAL,GAAwBW,OAAxB;AACA,gBAAI,CAACK,eAAL,GAAwBN,KAAxB;AACA,SAND,MAOK,IAAK,MAAI,CAACM,eAAL,KAAyBN,KAA9B,EAAsC;AAC1C,gBAAI,CAACI,OAAL,IAAgBH,OAAO,CAACV,gBAAR,CAAyB,MAAI,CAACa,OAA9B,EAAuCf,GAAvC,CAAhB;AACA,gBAAI,CAACe,OAAL,GAAe,IAAf;AACA,cAAKJ,KAAK,CAAC7B,MAAX,EACC,MAAI,CAACiC,OAAL,GAAeH,OAAO,CAACI,iBAAR,CAA0BL,KAA1B,EAAiCX,GAAjC,EAAsCS,IAAtC,CAAf;AACD,gBAAI,CAACQ,eAAL,GAAuBN,KAAvB;AACA;;AACD,eAAO,2DAAC,4CAAD,CAAO,QAAP,OAAP;AACA,OAjCI,CAAP;AAoCA;;;;EAhEqCO,4CAAK,CAACC,S;;AAAxBtB,S,CACbuB,S,GAAY;AAClBpB,KAAG,EAAcqB,iDAAS,CAACC,MAAV,CAAiBC,UADhB;AAElBZ,OAAK,EAAYU,iDAAS,CAACG,KAFT;AAGlBhB,SAAO,EAAUa,iDAAS,CAACI,GAHT;AAIlBf,iBAAe,EAAEW,iDAAS,CAAC9B,MAJT;AAKlBkB,MAAI,EAAaY,iDAAS,CAACI;AALT,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCpB;;;;;;;;;;;;;AAcA;AACA;AAEA;AAEA;;AAEA,SAASjC,SAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAoC;AACnC,SAAOD,KAAK,CAACE,GAAN,CACN,UAAAC,KAAK;AAAA,0FACDA,KADC;AAEJF,YAAM,EAANA;AAFI;AAAA,GADC,CAAP;AAMA;;IAEoBgC,Q;;;;;;;;;;;;;;;;;UAIpB5B,K,GAAmB,E;UACnB6B,a,GAAmBC,8CAAO,CAACC,QAAR,E;;;;;;2CAEI;AAAA;;AAEtB,UAAK,KAAK9B,WAAV,EAAwB;AACvBhB,cAAM,CAACX,IAAP,CAAY,KAAK2B,WAAjB,EACO1B,OADP,CACe,UAAA2B,GAAG;AAAA,iBAAI,MAAI,CAACC,gBAAL,CAAsBC,gBAAtB,CAAuC,MAAI,CAACH,WAAL,CAAiBC,GAAjB,CAAvC,EAA8DA,GAA9D,CAAJ;AAAA,SADlB;AAGA;;AACD,UAAK,KAAKC,gBAAV,EAA6B;AAC5B,aAAKA,gBAAL,CAAsB6B,UAAtB,CAAiC,KAAKH,aAAtC;;AACA,aAAK1B,gBAAL,CAAsB8B,UAAtB,CAAiCC,SAAjC;AACA;;AACD,aAAO,KAAK/B,gBAAZ;AACA,aAAO,KAAKE,mBAAZ;AACA;;;uCAEmB8B,S,EAAWC,S,EAAWC,Q,EAAW,CACpD;;;6BAEQ;AAAA;;AAAA,wBASA,KAAK/B,KATL;AAAA,UAEHC,QAFG,eAEHA,QAFG;AAAA,uCAGH+B,EAHG;AAAA,UAGHA,EAHG,+BAGa,KAAKT,aAHlB;AAAA,UAIHU,KAJG,eAIHA,KAJG;AAAA,UAIIC,OAJJ,eAIIA,OAJJ;AAAA,UAIaC,GAJb,eAIaA,GAJb;AAAA,UAIkBC,KAJlB,eAIkBA,KAJlB;AAAA,UAIyBC,KAJzB,eAIyBA,KAJzB;AAAA,UAIgC7B,OAJhC,eAIgCA,OAJhC;AAAA,UAKH8B,MALG,eAKHA,MALG;AAAA,UAMHC,UANG,eAMHA,UANG;AAAA,4CAOHC,OAPG;AAAA,UAOHA,OAPG,oCAOavC,QAAQ,IAAIA,QAAQ,CAACD,KAArB,IAA8BC,QAAQ,CAACD,KAAT,CAAewC,OAP1D;AAAA,8CAQHC,aARG;AAAA,UAQHA,aARG,sCAQaxC,QAAQ,IAAIA,QAAQ,CAACD,KAArB,IAA8BC,QAAQ,CAACD,KAAT,CAAeyC,aAR1D;AAUR,aAAO,2DAAC,uDAAD,CAAgB,QAAhB,QAEL,UAAAC,aAAa,EAAI;AAAC;AAGjBA,qBAAa,GAAGlC,OAAO,IAAIkC,aAA3B;;AAEA,YAAK,MAAI,CAAC7C,gBAAL,KAA0B6C,aAA1B,IAA2C,MAAI,CAAC3C,mBAAL,KAA6BwC,UAA7E,EAA0F;AAEzF,cAAK,MAAI,CAAC5C,WAAV,EAAwB;AACvBhB,kBAAM,CAACX,IAAP,CAAY,MAAI,CAAC2B,WAAjB,EACO1B,OADP,CACe,UAAA2B,GAAG;AAAA,qBAAI,MAAI,CAACC,gBAAL,CAAsBC,gBAAtB,CAAuC,MAAI,CAACH,WAAL,CAAiBC,GAAjB,CAAvC,EAA8DA,GAA9D,CAAJ;AAAA,aADlB;AAGA;;AACD,cAAK2C,UAAU,IAAII,yCAAE,CAACvB,KAAH,CAASmB,UAAT,CAAnB,EACC,MAAI,CAAC5C,WAAL,GAAmB;AAAEiD,mBAAO,EAAEF,aAAa,CAAC9B,iBAAd,CAAgCxB,SAAS,CAACmD,UAAD,EAAaP,EAAb,CAAzC;AAAX,WAAnB,CADD,KAGC,MAAI,CAACrC,WAAL,GAAmB4C,UAAU,IAC5B5D,MAAM,CAACX,IAAP,CAAYuE,UAAZ,EACOM,MADP,CACc,UAAEC,CAAF,EAAKlD,GAAL;AAAA,mBAAekD,CAAC,CAAClD,GAAD,CAAD,GAAS8C,aAAa,CAAC9B,iBAAd,CAAgCxB,SAAS,CAACmD,UAAU,CAAC3C,GAAD,CAAX,EAAkBoC,EAAlB,CAAzC,EAAgEpC,GAAhE,CAAT,EAA+EkD,CAA9F;AAAA,WADd,EACgH,EADhH,CADD;AAID,cAAK,MAAI,CAACjD,gBAAL,KAA0B6C,aAA/B,EACC,MAAI,CAAC7C,gBAAL,IAAyB,MAAI,CAACA,gBAAL,CAAsB6B,UAAtB,CAAiC,MAAI,CAACH,aAAtC,CAAzB;;AAGD,cAAK,MAAI,CAACvB,KAAL,CAAW+C,cAAX,CAA0B,QAA1B,CAAL,EAA2C;AAC1C,kBAAI,CAAClD,gBAAL,IAAyB,MAAI,CAACA,gBAAL,CAAsB8B,UAAtB,CAAiCC,SAAjC,CAAzB;AACApB,mBAAO,CAACmB,UAAR,CAAmBK,EAAnB;AACA;;AAED,gBAAI,CAACnC,gBAAL,GAA2B6C,aAA3B;AACA,gBAAI,CAAC3C,mBAAL,GAA2BwC,UAA3B;AAEA;;AACD,YAAKzB,4CAAK,CAACkC,cAAN,CAAqB/C,QAArB,CAAL,EAAsC;AACrCA,kBAAQ,GAAGa,4CAAK,CAACmC,YAAN,CACVhD,QADU,iFAGNyC,aAAa,CAACQ,QAAd,CAAuBlB,EAAvB,EAA2BC,KAAK,IAAIhC,QAAQ,CAACD,KAAT,CAAeiC,KAAnD,EAA0DC,OAA1D,EAAmEC,GAAnE,EAAwEC,KAAxE,EAA+EC,KAA/E,CAHM;AAITI,yBAAa,EAAEA,aAAa,IAAK,UAAAU,CAAC;AAAA,qBAAIV,aAAa,CAACU,CAAD,EAAIT,aAAJ,CAAjB;AAAA,aAJzB;AAKTF,mBAAO,EAAQA,OAAO,IAAK,UAAAW,CAAC;AAAA,qBAAIX,OAAO,CAACW,CAAD,EAAIT,aAAJ,CAAX;AAAA;AALnB,aAAX;AASA;;AACD,eAAOzC,QAAP;AACA,OA9CI,CAAP;AAiDA;;;;EApFoCa,4CAAK,CAACC,S;;AAAvBO,Q,CAEbN,S,GAAY,E;;;;;;;;;;;;;AChCpB;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;AAEA,IAAMoC,cAAc,GAAGtC,4CAAK,CAACuC,aAAN,CAAoB,IAApB,CAAvB;AACeD,6EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAKA,IAAIE,aAAa,GAAc,IAAIC,QAAJ,CAAa,qDAAb,CAAD,EAA9B;AAAA,IACIC,OAAO,GAAmBb,0CAAE,CAACvB,KADjC;AAAA,IAEIqC,KAFJ;AAAA,IAEWC,MAFX;AAAA,IAEmBC,QAAQ,GAAG,EAF9B;;AAIA,IAAMC,iBAAiB,GAAI,EAAD,CAAKC,WAA/B;AAEA,IAAMC,MAAM,GAAG;AACdC,KAAG,EAAI,aAAWC,EAAX,EAAeC,GAAf,EAAoBC,QAApB,EAA8BC,EAA9B,EAAmC;AACzC,QAAIC,KAAK,GAAG,SAARA,KAAQ,CAAEjC,GAAF,EAAO9B,IAAP;AAAA,aAAiB2D,EAAE,CAACK,EAAH,CAAMlC,GAAG,GAAG9B,IAAZ,EAAkB4D,GAAlB,CAAjB;AAAA,KAAZ;;AACAN,YAAQ,CAACW,IAAT,CAAc;AAAEF,WAAK,EAALA,KAAF;AAASF,cAAQ,EAARA,QAAT;AAAmBK,UAAI,EAAE,CAAzB;AAA4BJ,QAAE,EAAFA;AAA5B,KAAd;;AACAH,MAAE,CAACK,EAAH,CAAM,CAAN,EAASJ,GAAT,EAAc,IAAd,EAHyC,CAGrB;;AAEpB,QAAK,CAACR,KAAN,EAAc;AACbA,WAAK,GAAI,IAAT;AACAC,YAAM,GAAGc,IAAI,CAACC,GAAL,EAAT,CAFa,CAGb;;AACAC,gBAAU,CAAC,KAAKC,KAAN,EAAa,EAAb,CAAV;AACA;AACD,GAZa;AAadA,OAAK,EAAE,SAASA,KAAT,GAAiB;AACvB,QAAIrG,CAAC,GAAI,CAAT;AAAA,QAAYsG,CAAZ;AAAA,QAAeC,EAAE,GAAGL,IAAI,CAACC,GAAL,EAApB;AAAA,QAAgCK,KAAK,GAAGD,EAAE,GAAGnB,MAA7C;AACAA,UAAM,GAAGmB,EAAT;;AACA,WAAQvG,CAAC,GAAGqF,QAAQ,CAACjF,MAArB,EAA6BJ,CAAC,EAA9B,EAAmC;AAClCqF,cAAQ,CAACrF,CAAD,CAAR,CAAYiG,IAAZ,GAAmBQ,IAAI,CAACC,GAAL,CAASF,KAAK,GAAGnB,QAAQ,CAACrF,CAAD,CAAR,CAAYiG,IAA7B,EAAmCZ,QAAQ,CAACrF,CAAD,CAAR,CAAY4F,QAA/C,CAAnB,CADkC,CAC0C;;AAC5EP,cAAQ,CAACrF,CAAD,CAAR,CAAY8F,KAAZ,CACCT,QAAQ,CAACrF,CAAD,CAAR,CAAYiG,IADb,EACmBZ,QAAQ,CAACrF,CAAD,CAAR,CAAY4F,QAD/B,EAFkC,CAKlC;;;AACA,UAAKP,QAAQ,CAACrF,CAAD,CAAR,CAAYiG,IAAZ,IAAoBZ,QAAQ,CAACrF,CAAD,CAAR,CAAY4F,QAArC,EAAgD;AAE/CP,gBAAQ,CAACrF,CAAD,CAAR,CAAY6F,EAAZ,IAAkBO,UAAU,CAACf,QAAQ,CAACrF,CAAD,CAAR,CAAY6F,EAAb,CAA5B;AACAR,gBAAQ,CAACsB,MAAT,CAAgB3G,CAAhB,EAAmB,CAAnB,GAAuBA,CAAC,EAAxB;AACA;AAED;;AACD,QAAKqF,QAAQ,CAACjF,MAAd,EACCgG,UAAU,CAACC,KAAD,EAAQ,EAAR,CAAV,CADD,KAEK;AACJ;AACAlB,WAAK,GAAG,KAAR;AACA;AACD;AAnCa,CAAf;AAuCA;;;;;;AAKe,SAASyB,SAAT,GAA8B;AAAA;;AAAA,oCAAPC,IAAO;AAAPA,QAAO;AAAA;;AAE5C,MAAIC,aAAa,GAAG,CAAC,CAACD,IAAI,CAAC,CAAD,CAAL,IAAYA,IAAI,CAAC,CAAD,CAAJ,CAAQE,SAAR,YAA6BvE,4CAAK,CAACC,SAA/C,IAA4DoE,IAAI,CAAC,CAAD,CAAJ,KAAYrE,4CAAK,CAACC,SAA/E,KAA6FoE,IAAI,CAACG,KAAL,EAAjH;AAAA,MACIC,IAAI,GAAY,CAAC,CAACJ,IAAI,CAAC,CAAD,CAAL,IAAYA,IAAI,CAAC,CAAD,CAAJ,YAAmBvB,iBAAhC,KAAsDuB,IAAI,CAACG,KAAL,EAAtD,IAAsE,EAD1F;;AAGA,MAAK,CAACF,aAAN,EAAsB;AACrB,WAAO,UAAWA,aAAX,EAA2B;AACjC,aAAOF,SAAS,CAACE,aAAD,EAAgBG,IAAhB,CAAhB;AACA,KAFD;AAGA;;AAEDA,MAAI,GAAG,+EACHA,IADA;AAEHC,cAAU,EAAE;AAFT,IAAJ;AAKA;AAAA;AAAA;AAAA;;AAGC,6BAAc;AAAA;;AAAA;;AACb,oNAASC,SAAT;;AADa,YAg0BdC,kBAh0Bc,GAg0BO,YAAM;AAC1B,YAAIC,CAAC,GAAG,MAAKA,CAAb;AAAA,YAAgBC,OAAhB;AAAA,YAAyBC,EAAE,GAAGF,CAAC,CAACG,aAAF,CAAgBpH,MAA9C;AAEA,YAAK,MAAKqH,WAAV,EACCC,oBAAoB,CAAC,MAAKD,WAAN,CAApB;;AAED,aAAM,IAAIzH,CAAC,GAAG,CAAd,EAAiBuH,EAAE,GAAGvH,CAAtB,EAAyBA,CAAC,EAA1B,EAA+B;AAC9BsH,iBAAO,GAAGD,CAAC,CAACG,aAAF,CAAgBxH,CAAhB,CAAV;;AACA,cAAKsH,OAAO,CAACxF,OAAR,CAAgB6F,CAAhB,CAAkBC,MAAlB,IAA4BN,OAAO,CAACxF,OAAR,CAAgB6F,CAAhB,CAAkBE,OAAnD,EAA6D;AAC5DP,mBAAO,CAACtG,MAAR,CAAe8G,UAAf,GAA4B,CAAC,CAACR,OAAO,CAACxF,OAAR,CAAgB6F,CAAhB,CAAkBI,MAAlB,EAA9B;AACA;;AACD,cAAKT,OAAO,CAACxF,OAAR,CAAgBkG,CAAhB,CAAkBJ,MAAlB,IAA4BN,OAAO,CAACxF,OAAR,CAAgBkG,CAAhB,CAAkBH,OAAnD,EAA6D;AAC5DP,mBAAO,CAACtG,MAAR,CAAeiH,SAAf,GAA2B,CAAC,CAACX,OAAO,CAACxF,OAAR,CAAgBkG,CAAhB,CAAkBD,MAAlB,EAA7B;AACA;;AAED,cAAK,CAACT,OAAO,CAACxF,OAAR,CAAgB6F,CAAhB,CAAkBC,MAAnB,IAA6B,CAACN,OAAO,CAACxF,OAAR,CAAgBkG,CAAhB,CAAkBJ,MAAhD,IAA0D,CAACN,OAAO,CAACxF,OAAR,CAAgB6F,CAAhB,CAAkBE,OAA7E,IAAwF,CAACP,OAAO,CAACxF,OAAR,CAAgBkG,CAAhB,CAAkBH,OAAhH,EAA0H;AACzHR,aAAC,CAACG,aAAF,CAAgBU,KAAhB,CAAsBlI,CAAtB,EAAyB,CAAzB;;AACAA,aAAC;AACDuH,cAAE;AACF;AACD;;AACD,YAAKA,EAAE,KAAK,CAAZ,EACC,MAAKE,WAAL,GAAmBU,qBAAqB,CAAC,MAAKf,kBAAN,CAAxC,CADD,KAEK,MAAKK,WAAL,GAAmB,IAAnB;AACL,OAx1Ba;;AAEb,YAAKJ,CAAL,GAAmB;AAClBe,YAAI,EAAS,EADK;AAElBC,mBAAW,EAAE;AAFK,OAAnB;AAIA,YAAKhB,CAAL,CAAOiB,GAAP,GAAmB;AAClBX,SAAC,EAAE,GADe;AAElBK,SAAC,EAAE,GAFe;AAGlBO,SAAC,EAAE;AAHe,OAAnB;AAKA,YAAKlB,CAAL,CAAOmB,QAAP,GAAmB,MAAKA,QAAL,CAAcC,IAAd,4FAAnB;AACA,YAAKC,WAAL,GAAmB,IAAnB;AAZa;AAcb;;AAjBF;AAAA;AAAA,uCAmB8B;AAAA;;AAC5B,YAAIrB,CAAC,GAAG,KAAKA,CAAb;;AAD4B,2CAAVsB,OAAU;AAAVA,iBAAU;AAAA;;AAE5BA,eAAO,CAAChJ,OAAR,CACC,UAAEiJ,CAAF,EAAS;AACR,gBAAI,CAAChE,QAAL,CAAcgE,CAAd,EAAiBvB,CAAC,CAACwB,iBAAF,CAAoBD,CAApB,CAAjB,EAAyCvB,CAAC,CAACyB,UAAF,CAAaF,CAAb,CAAzC,EAA0D,IAA1D,EAAgE,IAAhE,EAAsE,IAAtE;AACA,SAHF;;AAKA,aAAKG,gBAAL;AACA;AAED;;;;;;;;;;;;AA7BD;AAAA;AAAA,+BAwCWrF,EAxCX,EAwCesF,MAxCf,EAwCuBC,IAxCvB,EAwC6BpF,GAxC7B,EAwCkCqF,KAxClC,EAwCyCC,QAxCzC,EAwCoD;AAAC;AACnD,aAAKC,aAAL;AAEA,YAAI/B,CAAC,GAAc,KAAKA,CAAxB;AAAA,YACIgC,YAAY,GAAG,EADnB;AAGA,YAAIC,QAAQ,GAAG,EAAf;AACA,YAAK,CAACjC,CAAC,CAACkC,SAAF,CAAY7F,EAAZ,CAAN,EACC2D,CAAC,CAACmC,eAAF,CAAkBxD,IAAlB,CAAuBtC,EAAvB;;AAGD,YAAK2D,CAAC,CAACkC,SAAF,CAAY7F,EAAZ,MAAoB2D,CAAC,CAACyB,UAAF,CAAapF,EAAb,MAAqBuF,IAArB,IAA6BE,QAAjD,CAAL,EAAkE;AACjE;AAEA9B,WAAC,CAACyB,UAAF,CAAapF,EAAb,IAAmBuF,IAAnB;AACAD,gBAAM,GAAaA,MAAM,IAAI,EAA7B;AACAC,cAAI,GAAeA,IAAI,IAAI,EAA3B;;AAEA,cAAKE,QAAL,EAAgB;AACf9B,aAAC,CAACgB,WAAF,CAAc3E,EAAd,IAAwB,EAAxB;AACA2D,aAAC,CAACoC,eAAF,CAAkB/F,EAAlB,IAAwB,EAAxB;AACArD,kBAAM,CAACX,IAAP,CAAY2H,CAAC,CAACqC,WAAF,CAAchG,EAAd,CAAZ,EAA8B;AAA9B,aACO/D,OADP,CAEO,UAAAC,GAAG;AAAA,qBAAKoJ,MAAM,CAACpJ,GAAD,CAAN,GAAcoJ,MAAM,CAACpJ,GAAD,CAAN,IAAe,EAAlC;AAAA,aAFV;AAIAyH,aAAC,CAACsC,YAAF,CAAejG,EAAf,IAAqB2F,YAAY,GAAG,+EAAKhC,CAAC,CAACuC,cAAF,CAAiBlG,EAAjB,CAAR,CAAjC;AACAsF,kBAAM,kFACFA,MADE,EACSa,gEAAU,CAACZ,IAAD,EAAOI,YAAP,EAAqBC,QAArB,EACCjC,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,CADD,EACwB2D,CAAC,CAACgB,WAAF,CAAc3E,EAAd,CADxB,EAC2C,IAD3C,CADnB,CAAN;AAIArD,kBAAM,CAACyJ,MAAP,CAAczC,CAAC,CAACqC,WAAF,CAAchG,EAAd,CAAd,EAAiC2D,CAAC,CAACwB,iBAAF,CAAoBnF,EAApB,CAAjC;AACA,WAbD,MAcK;AACJ;AACA,mBAAO2D,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,EAAsBqG,cAA7B;AACAf,kBAAM,GAAG,+EAAKA,MAAR,EAAmBa,gEAAU,CAACZ,IAAD,EAAOI,YAAP,EAAqBC,QAArB,EAA+BjC,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,CAA/B,EAAsD2D,CAAC,CAACgB,WAAF,CAAc3E,EAAd,CAAtD,EAAyE,IAAzE,CAA7B,CAAN,CAHI,CAIJ;;AACArD,kBAAM,CAACX,IAAP,CAAY2H,CAAC,CAACuC,cAAF,CAAiBlG,EAAjB,CAAZ,EACO/D,OADP,CAEO,UAAAC,GAAG;AAAA,qBAAKyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,KAA2ByH,CAAC,CAACuC,cAAF,CAAiBlG,EAAjB,EAAqB9D,GAArB,CAAhC;AAAA,aAFV,EALI,CASJ;;AACAS,kBAAM,CAACX,IAAP,CAAY4J,QAAZ,EACO3J,OADP,CAEO,UAAAC,GAAG;AAAA,qBAAKyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,IAA0ByE,0CAAE,CAACxD,MAAH,CAAUwG,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,CAAV,IACEyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,CADF,GAEE0J,QAAQ,CAAC1J,GAAD,CAFzC;AAAA,aAFV,EAVI,CAgBJ;;AACAS,kBAAM,CAACX,IAAP,CAAY2J,YAAZ,EACO1J,OADP,CAEO,UAAAC,GAAG;AAAA,qBAAKyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,KAA2ByJ,YAAY,CAACzJ,GAAD,CAA5C;AAAA,aAFV;AAKAS,kBAAM,CAACX,IAAP,CAAY2H,CAAC,CAACsC,YAAF,CAAejG,EAAf,CAAZ,EAA+B;AAA/B,aACO/D,OADP,CAEO,UAAAC,GAAG,EAAI;AACN;AACA,kBAAKyH,CAAC,CAACuC,cAAF,CAAiBlG,EAAjB,EAAqBe,cAArB,CAAoC7E,GAApC,KAA4C,CAACyJ,YAAY,CAAC5E,cAAb,CAA4B7E,GAA5B,CAAlD,EAAqF;AACpF,uBAAOyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,CAAP;AACA,uBAAOyH,CAAC,CAACgB,WAAF,CAAc3E,EAAd,EAAkB9D,GAAlB,CAAP;AACA;AACD,aARR;AAUAyH,aAAC,CAACuC,cAAF,CAAiBlG,EAAjB,mFAA+B2F,YAA/B;AACAhC,aAAC,CAACwB,iBAAF,CAAoBnF,EAApB,mFAA+BsF,MAA/B;AACA,WAvDgE,CAyDjE;AACA;;;AAEAgB,wEAAQ,CAAC3C,CAAC,CAACsC,YAAF,CAAejG,EAAf,CAAD,EAAqB2D,CAAC,CAACqC,WAAF,CAAchG,EAAd,CAArB,EAAwC2D,CAAC,CAACgB,WAAF,CAAc3E,EAAd,CAAxC,EAA2D2D,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,CAA3D,EAAkF2D,CAAC,CAACiB,GAApF,CAAR;AACA,SA7DD,MA8DK,IAAK,CAACjB,CAAC,CAACkC,SAAF,CAAY7F,EAAZ,CAAN,EAAwB;AAC5B2D,WAAC,CAACyB,UAAF,CAAapF,EAAb,IAAmBuF,IAAnB;AACAD,gBAAM,GAAaA,MAAM,IAAI,EAA7B;AACAC,cAAI,GAAeA,IAAI,IAAI,EAA3B;AAEA5B,WAAC,CAACkC,SAAF,CAAY7F,EAAZ,IAAwB,IAAxB;AACA2D,WAAC,CAACgB,WAAF,CAAc3E,EAAd,IAAwB2D,CAAC,CAACgB,WAAF,CAAc3E,EAAd,KAAqB,EAA7C;AACA2D,WAAC,CAACoC,eAAF,CAAkB/F,EAAlB,IAAwB2D,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,KAAyB,EAAjD;AAGAsF,gBAAM,GAAG,+EAAKA,MAAR,EAAmBa,gEAAU,CAACZ,IAAD,EAAOI,YAAP,EAAqBC,QAArB,EAA+BjC,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,CAA/B,EAAsD2D,CAAC,CAACgB,WAAF,CAAc3E,EAAd,CAAtD,EAAyE,IAAzE,CAA7B,CAAN,CAV4B,CAW5B;AACA;;AACA2D,WAAC,CAACuC,cAAF,CAAiBlG,EAAjB,IAA0B2F,YAA1B;AACAhC,WAAC,CAACwB,iBAAF,CAAoBnF,EAApB,mFAA+BsF,MAA/B;AACA3B,WAAC,CAACqC,WAAF,CAAchG,EAAd,IAA0BsF,MAA1B;AACA3B,WAAC,CAACsC,YAAF,CAAejG,EAAf,IAA0B2D,CAAC,CAACsC,YAAF,CAAejG,EAAf,KAAsB,EAAhD,CAhB4B,CAmB5B;AACA;AACA;AACA;AACA;AACA;;AACA,cAAK2F,YAAY,CAAC5E,cAAb,CAA4B,SAA5B,KAA0C4C,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmBe,cAAnB,CAAkC,SAAlC,CAA/C,EAA8F;AAC7F4C,aAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmBuG,OAAnB,IAA8BX,QAAQ,CAACW,OAAvC;AACA,WA3B2B,CA4B5B;;;AACAZ,sBAAY,GAAGhJ,MAAM,CAACyJ,MAAP,gFAAmBzC,CAAC,CAACsC,YAAF,CAAejG,EAAf,CAAnB,GAAyC4F,QAAzC,EAAmDD,YAAY,IAAI,EAAnE,CAAf,CA7B4B,CA8B5B;AACA;;AACAhJ,gBAAM,CAACX,IAAP,CAAY2J,YAAZ,EACO1J,OADP,CAEO,UAAAC,GAAG;AAAA,mBAAKyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,IAA0B,CAACyH,CAAC,CAACsC,YAAF,CAAejG,EAAf,EAAmB9D,GAAnB,KAA2B,CAA5B,IAAiCyJ,YAAY,CAACzJ,GAAD,CAA5E;AAAA,WAFV;AAIAyJ,sBAAY,GAAGhC,CAAC,CAACsC,YAAF,CAAejG,EAAf,CAAf;AACAsG,wEAAQ,CAACX,YAAD,EAAeL,MAAf,EAAuB3B,CAAC,CAACgB,WAAF,CAAc3E,EAAd,CAAvB,EAA0C2D,CAAC,CAACoC,eAAF,CAAkB/F,EAAlB,CAA1C,EAAiE2D,CAAC,CAACiB,GAAnE,CAAR;AAEA,SAhHiD,CAiHlD;;;AACA,YAAKY,KAAL,EACC,OAAO;AACNvF,eAAK,EAAE,+EAAK0D,CAAC,CAACqC,WAAF,CAAchG,EAAd,CAAP;AADC,SAAP,CADD,KAKC,OAAO;AACNC,eAAK,EAAE,+EAAK0D,CAAC,CAACqC,WAAF,CAAchG,EAAd,CAAP,CADC;AAENwG,aAAG,EAAI,aAAAC,IAAI;AAAA,mBAAK9C,CAAC,CAACe,IAAF,CAAO1E,EAAP,IAAayG,IAAlB;AAAA,WAFL,CAIN;AACA;;AALM,SAAP;AAOD;AAtKF;AAAA;AAAA,iCAwKazG,EAxKb,EAwKkB;AAChB,YAAK,KAAK2D,CAAL,CAAOkC,SAAP,CAAiB7F,EAAjB,CAAL,EAA4B;AAC3B,eAAK2D,CAAL,CAAOmC,eAAP,CAAuB7C,MAAvB,CAA8B,KAAKU,CAAL,CAAOmC,eAAP,CAAuBY,OAAvB,CAA+B1G,EAA/B,CAA9B,EAAkE,CAAlE;;AACA,iBAAO,KAAK2D,CAAL,CAAOkC,SAAP,CAAiB7F,EAAjB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOgB,WAAP,CAAmB3E,EAAnB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOoC,eAAP,CAAuB/F,EAAvB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOyB,UAAP,CAAkBpF,EAAlB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOuC,cAAP,CAAsBlG,EAAtB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOqC,WAAP,CAAmBhG,EAAnB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,CAAP;AACA,iBAAO,KAAK2D,CAAL,CAAOe,IAAP,CAAY1E,EAAZ,CAAP;AACA;AAED;AArLF;AAAA;AAAA,iCAuLaA,EAvLb,EAuLkB;AAChB,aAAK2D,CAAL,CAAOgD,OAAP,GAAiB3G,EAAjB;AACA,OAzLF,CA2LC;AACA;AACA;;AACA;;;;;;;;AA9LD;AAAA;AAAA,+BAqMW4G,IArMX,EAqMiBC,IArMjB,EAqMuBC,QArMvB,EAqMkC;AAAA;;AAChC,YAAIC,EAAJ;AAAA,YAAQ7G,OAAR;AAAA,YAAiB8G,KAAjB;AAAA,YAAwBpB,QAAQ,GAAG,EAAnC;;AACA,YAAKpE,OAAO,CAACoF,IAAD,CAAZ,EAAqB;AACpBG,YAAE,GAAGH,IAAL;AACA,SAFD,MAGK;AACJG,YAAE,GAAQH,IAAI,CAACvJ,KAAf;AACA6C,iBAAO,GAAG0G,IAAI,CAAC1G,OAAf;AACA;;AAED,YAAK,EAAE6G,EAAE,YAAYE,8CAAhB,CAAL,EAA+B;AAC9B;AACAF,YAAE,GAAGG,+DAAS,CAACH,EAAD,EAAKnB,QAAL,EAAe,KAAKjC,CAAL,CAAOoC,eAAtB,EAAuC,KAAKpC,CAAL,CAAOgB,WAA9C,CAAd;AACAoC,YAAE,GAAG,IAAIE,8CAAJ,CAAWF,EAAX,EAAe,KAAKpD,CAAL,CAAOsC,YAAtB,CAAL;AACAtJ,gBAAM,CAACX,IAAP,CAAY4J,QAAZ,EACO3J,OADP,CAEO,UAAA+D,EAAE;AAAA,mBACDrD,MAAM,CAACyJ,MAAP,CAAc,MAAI,CAACzC,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,CAAd,iFACI4F,QAAQ,CAAC5F,EAAD,CADZ,EAEI,MAAI,CAAC2D,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,CAFJ,EADC;AAAA,WAFT;AASA,SAvB+B,CA0BhC;;;AACA,aAAK0F,aAAL;AAGA,SAACoB,QAAD,IAAa5G,OAAb,IAAwBvD,MAAM,CAACX,IAAP,CAAYkE,OAAZ,EAAqB3C,GAArB,CACvB,UAAEyC,EAAF;AAAA,iBAAU,MAAI,CAACmH,eAAL,CAAqBnH,EAArB,EAAyBE,OAAO,CAACF,EAAD,CAAhC,EAAsC4G,IAAI,CAACvG,KAA3C,CAAV;AAAA,SADuB,CAAxB;AAKA0G,UAAE,CAAChF,GAAH,CAAO,KAAK4B,CAAL,CAAOsC,YAAd,EAA4B,YAAM;AACjC,cAAI3J,CAAC,GAAG,MAAI,CAACqH,CAAL,CAAOyD,YAAP,CAAoBV,OAApB,CAA4BK,EAA5B,CAAR;;AACA,cAAKzK,CAAC,IAAI,CAAC,CAAX,EACC,MAAI,CAACqH,CAAL,CAAOyD,YAAP,CAAoBnE,MAApB,CAA2B3G,CAA3B,EAA8B,CAA9B;AAEDuK,cAAI,IAAIA,IAAI,CAACE,EAAD,CAAZ;AACA,SAND,EAnCgC,CAyC7B;;AACH,aAAKpD,CAAL,CAAOyD,YAAP,CAAoB9E,IAApB,CAAyByE,EAAzB;;AAGA,YAAK,CAAC,KAAKpD,CAAL,CAAO0D,IAAb,EAAoB;AACnB,eAAK1D,CAAL,CAAO0D,IAAP,GAAc,IAAd,CADmB,CAEnB;;AACA5C,+BAAqB,CAAC,KAAKd,CAAL,CAAOmB,QAAP,GAAkB,KAAKnB,CAAL,CAAOmB,QAAP,IAAmB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAtC,CAArB;AACA;;AACD,eAAOgC,EAAP;AAEA;AAzPF;AAAA;AAAA,6CA2PyBO,MA3PzB,EA2PiCC,SA3PjC,EA2P4ClK,KA3P5C,EA2PoD;AAClD,aAAKsG,CAAL,CAAO6D,aAAP,GAA0C,KAAK7D,CAAL,CAAO6D,aAAP,IAAwB,EAAlE;AACA,aAAK7D,CAAL,CAAO8D,MAAP,GAA0C,KAAK9D,CAAL,CAAO8D,MAAP,IAAiB,IAAIR,8CAAJ,EAA3D;AACA,aAAKtD,CAAL,CAAO6D,aAAP,CAAqBF,MAArB,IAA0C,KAAK3D,CAAL,CAAO6D,aAAP,CAAqBF,MAArB,KAAgC,EAA1E;AACA,aAAK3D,CAAL,CAAO6D,aAAP,CAAqBF,MAArB,EAA6BC,SAA7B,IAA0C,KAAK5D,CAAL,CAAO6D,aAAP,CAAqBF,MAArB,EAA6BC,SAA7B,KACzC,IAAIN,8CAAJ,EADD;;AAGA,aAAKtD,CAAL,CAAO6D,aAAP,CAAqBF,MAArB,EAA6BC,SAA7B,EAAwCG,KAAxC,CAA8CrK,KAA9C;AACA;AAnQF;AAAA;AAAA,8CAqQ0BiK,MArQ1B,EAqQkCC,SArQlC,EAqQ6ClK,KArQ7C,EAqQqD;AACnD,aAAKsG,CAAL,CAAOgE,kBAAP,GAA+C,KAAKhE,CAAL,CAAOgE,kBAAP,IAA6B,EAA5E;AACA,aAAKhE,CAAL,CAAO8D,MAAP,GAA+C,KAAK9D,CAAL,CAAO8D,MAAP,IAAiB,IAAIR,8CAAJ,EAAhE;AACA,aAAKtD,CAAL,CAAOgE,kBAAP,CAA0BL,MAA1B,IAA+C,KAAK3D,CAAL,CAAOgE,kBAAP,CAA0BL,MAA1B,KAAqC,EAApF;AACA,aAAK3D,CAAL,CAAOgE,kBAAP,CAA0BL,MAA1B,EAAkCC,SAAlC,IAA+C,KAAK5D,CAAL,CAAOgE,kBAAP,CAA0BL,MAA1B,EAAkCC,SAAlC,KAC9C,IAAIN,8CAAJ,EADD;;AAGA,aAAKtD,CAAL,CAAOgE,kBAAP,CAA0BL,MAA1B,EAAkCC,SAAlC,EAA6CG,KAA7C,CAAmDrK,KAAnD;AACA;AA7QF;AAAA;AAAA,sCA+QiB;AAAA;;AACf,YAAK,CAAC,KAAKsG,CAAL,CAAOiE,YAAb,EAA4B;AAC3B,eAAKjE,CAAL,CAAO6D,aAAP,GAA6B,EAA7B;AACA,eAAK7D,CAAL,CAAOgE,kBAAP,GAA6B,EAA7B;AACA,eAAKhE,CAAL,CAAOqC,WAAP,GAA6B,EAA7B;AACA,eAAKrC,CAAL,CAAOkC,SAAP,GAA6B,EAA7B;AACA,eAAKlC,CAAL,CAAOsC,YAAP,GAA6B,EAA7B;AACA,eAAKtC,CAAL,CAAOyB,UAAP,GAA6B,EAA7B;AACA,eAAKzB,CAAL,CAAOkE,mBAAP,GAA6B,EAA7B;AACA,eAAKlE,CAAL,CAAOiE,YAAP,GAA6B,IAA7B;AACA,eAAKjE,CAAL,CAAOuC,cAAP,GAA6B,EAA7B;AACA,eAAKvC,CAAL,CAAOwB,iBAAP,GAA6B,EAA7B;AACA,eAAKxB,CAAL,CAAOmE,IAAP,GAA6B,EAA7B;AACA,eAAKnE,CAAL,CAAOoC,eAAP,GAA6B,KAAKpC,CAAL,CAAOoC,eAAP,IAA0B,EAAvD;AACA,eAAKpC,CAAL,CAAOoE,eAAP,GAA6B,KAAKpE,CAAL,CAAOoE,eAAP,IAA0B,EAAvD;AACA,eAAKpE,CAAL,CAAOmC,eAAP,GAA6B,KAAKnC,CAAL,CAAOmC,eAAP,IAA0B,EAAvD;AACA,eAAKnC,CAAL,CAAOyD,YAAP,GAA6B,KAAKzD,CAAL,CAAOyD,YAAP,IAAuB,EAApD;AAEA9F,uBAAa,IAAI0G,MAAM,CAACC,gBAAP,CAChB,QADgB,EAEhB,KAAKtE,CAAL,CAAOuE,QAAP,GAAkB,YAAM;AAAC;AACxB,kBAAI,CAACC,UAAL;;AACA,kBAAI,CAAC9C,gBAAL;AACA,WALe,CAAjB;AAMA;AACD,OAxSF,CA0SC;AACA;AACA;;AAEA;;;;;;;;;AA9SD;AAAA;AAAA,qCAsTiBzH,GAtTjB,EAsTsBwK,EAtTtB,EAsT0BvF,EAtT1B,EAsT0D;AAAA;;AAAA,YAA5BwF,MAA4B,uEAAnB,UAAApE,CAAC;AAAA,iBAAIA,CAAJ;AAAA,SAAkB;AAAA,YAAXqE,IAAW;AAAA,YAALnG,EAAK;AACxD,YAAIoG,IAAI,GAAK,KAAK5E,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB4K,SAA9B;AAAA,YACI9L,MAAM,GAAG0L,EAAE,GAAGG,IADlB;;AAGA5G,gBAAQ,CAACW,IAAT,CACC;AACCF,eAAK,EAAK,eAAEjC,GAAF,EAAOsI,GAAP,EAAgB;AACzB,gBAAIxE,CAAC,GAAIsE,IAAI,GAAIF,MAAM,CAAClI,GAAG,GAAGsI,GAAP,CAAP,GAAsB/L,MAAtC;;AACA,gBAAK,MAAI,CAACiH,CAAL,CAAOiE,YAAZ,EAA2B;AAC1B;AACA,oBAAI,CAACjE,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB2C,UAAjB,CAA4BtE,OAA5B,CACC,UAAA8K,EAAE;AAAA,uBAAIA,EAAE,CAAC2B,IAAH,CAAQzE,CAAR,EAAW,MAAI,CAACN,CAAL,CAAOsC,YAAlB,CAAJ;AAAA,eADH;;AAGAqC,kBAAI,IAAIA,IAAI,CAACrE,CAAD,CAAZ;AACA;AACD,WAVF;AAWC/B,kBAAQ,EAAEW,EAXX;AAYCN,cAAI,EAAM,CAZX;AAaCJ,YAAE,EAAFA;AAbD,SADD;;AAkBA,YAAK,CAACV,KAAN,EAAc;AACbA,eAAK,GAAI,IAAT;AACAC,gBAAM,GAAGc,IAAI,CAACC,GAAL,EAAT,CAFa,CAGb;;AACAC,oBAAU,CAACZ,MAAM,CAACa,KAAR,EAAe,EAAf,CAAV;AACA;AACD;AAlVF;AAAA;AAAA,iCAoV6B;AAAA,YAAlB/E,GAAkB,uEAAZ,SAAY;AAC3B,YAAI+F,CAAC,GAAG,KAAKA,CAAb;AAEAA,SAAC,CAACmE,IAAF,CAAOlK,GAAP,IAAc+F,CAAC,CAACmE,IAAF,CAAOlK,GAAP,KAAe;AAC5B2C,oBAAU,EAAQ,EADU;AAE5BiI,mBAAS,EAASjF,IAAI,CAACoF,gBAAL,IAAyBpF,IAAI,CAACoF,gBAAL,CAAsB/K,GAAtB,CAAzB,IAAuD,CAF7C;AAG5BgL,mBAAS,EAAS,CAHU;AAI5BzK,0BAAgB,EAAE,CAJU;AAK5B0K,wBAAc,EAAI,CALU;AAM5BzK,iBAAO,EAAW,IAAI0K,yDAAJ;AACaC,iBAAK,EAAExF,IAAI,CAACoF,gBAAL,IAAyBpF,IAAI,CAACoF,gBAAL,CAAsB/K,GAAtB,CAAzB,IAAuD;AAD3E,aAEiB2F,IAAI,CAACuE,IAAL,IAAavE,IAAI,CAACuE,IAAL,CAAUlK,GAAV,CAAb,IAA+B2F,IAAI,CAACuE,IAAL,CAAUlK,GAAV,EAAeQ,OAA9C,IAAyD,EAF1E;AANU,SAA7B;AAYA,eAAOuF,CAAC,CAACmE,IAAF,CAAOlK,GAAP,CAAP;AACA;AApWF;AAAA;AAAA,qCAsWgB;AACd,YAAI+F,CAAC,GAAG,KAAKA,CAAb;AAAA,YAAgBjG,KAAK,GAAG,EAAxB;AACAiG,SAAC,CAACmE,IAAF,IAAUnL,MAAM,CAACX,IAAP,CAAY2H,CAAC,CAACmE,IAAd,EACO7L,OADP,CAEO,UAAA2B,GAAG;AAAA,iBAAKF,KAAK,CAACE,GAAD,CAAL,GAAa+F,CAAC,CAACmE,IAAF,CAAOlK,GAAP,EAAYgL,SAAZ,IAAyBjF,CAAC,CAACmE,IAAF,CAAOlK,GAAP,EAAY4K,SAAvD;AAAA,SAFV,CAAV;AAIA,eAAO9K,KAAP;AACA;AA7WF;AAAA;AAAA,+BA+WWE,GA/WX,QA+WgJ;AAAA,YAArHoL,QAAqH,QAA9H5K,OAA8H;AAAA,uCAA3GyK,cAA2G;AAAA,YAA3FI,eAA2F,oCAAzE,CAAyE;AAAA,YAApDC,iBAAoD,QAAtE/K,gBAAsE;AAAA,YAAjCG,eAAiC,QAAjCA,eAAiC;AAAA,YAAhBJ,WAAgB,QAAhBA,WAAgB;;AAC9I,aAAKwH,aAAL;AACA,aAAKyD,cAAL;;AACA,YAAIxF,CAAC,GAAkB,KAAKA,CAA5B;AAAA,YACIyF,GAAG,GAAgBzF,CAAC,CAACmE,IAAF,CAAOlK,GAAP,CADvB;AAAA,YAEI4K,SAAS,GAAUY,GAAG,GAAGA,GAAG,CAACZ,SAAP,GAAmBlK,eAAe,IAAI,CAFhE;AAAA,YAGIuK,cAAc,GAAK9F,IAAI,CAAC0F,GAAL,CAASW,GAAG,IAAIA,GAAG,CAACP,cAAX,IAA6B,CAAtC,EAAyCI,eAAzC,CAHvB;AAAA,YAII9K,gBAAgB,GAAG4E,IAAI,CAAC0F,GAAL,CAASW,GAAG,IAAIA,GAAG,CAACjL,gBAAX,IAA+B,CAAxC,EAA2C+K,iBAA3C,CAJvB;AAAA,YAKIN,SAAS,GAAUQ,GAAG,GAAGA,GAAG,CAACR,SAAP,GAAmBJ,SAL7C;AAAA,YAMIpK,OAAO,GAAY4K,QAAQ,KAAK,KAAb,KAClBI,GAAG,GAAGA,GAAG,CAAChL,OAAP,GAAiB,IAAI0K,yDAAJ,gFACiBE,QAAQ,IAAI,EAD7B;AAEaD,eAAK,EAAEP;AAFpB,WADF,CANvB;AAAA,YAWIa,SAAS,kFACJL,QAAQ,IAAI,EADR;AAER9K,qBAAW,EAAXA,WAFQ;AAGRqC,oBAAU,EAAE6I,GAAG,IAAIA,GAAG,CAAC7I,UAAX,IAAyB,EAH7B;AAIRiI,mBAAS,EAATA,SAJQ;AAKRI,mBAAS,EAATA,SALQ;AAMRxK,iBAAO,EAAPA,OANQ;AAORD,0BAAgB,EAAhBA,gBAPQ;AAQR0K,wBAAc,EAAdA;AARQ,UAXb;;AAuBAO,WAAG,GAAG,KAAKzF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,IAAmByL,SAAzB,CA1B8I,CA2B9I;;AACCL,gBAAD,KAAeI,GAAG,CAAChL,OAAJ,CAAYuF,CAAZ,CAAc2F,SAAd,GAA0BN,QAAQ,CAACM,SAAlD;AACA;AA5YF;AAAA;AAAA,wCA8YoB1C,IA9YpB,EA8YkD;AAAA;;AAAA,YAAxBhJ,GAAwB,uEAAlB,SAAkB;AAAA,YAAPS,IAAO;;AAChD,YAAI0I,EAAJ;AAAA,YACIpD,CAAC,GAAU,KAAKA,CADpB;AAAA,YAEIiC,QAAQ,GAAG,EAFf;AAAA,YAGIwD,GAAG,GAAQ,KAAKG,QAAL,CAAc3L,GAAd,CAHf;;AAKA,YAAK4D,OAAO,CAACoF,IAAD,CAAZ,EAAqB;AACpBG,YAAE,GAAGH,IAAL;AACA,SAFD,MAGK;AACJG,YAAE,GAAKH,IAAI,CAACvJ,KAAZ;AACAgB,cAAI,GAAGuI,IAAI,CAAClK,MAAZ;AACA;;AAED,YAAK,EAAEqK,EAAE,YAAYE,8CAAhB,CAAL,EAA+B;AAC9BF,YAAE,GAAGG,+DAAS,CAACH,EAAD,EAAKnB,QAAL,EAAe,KAAKjC,CAAL,CAAOoC,eAAtB,EAAuC,KAAKpC,CAAL,CAAOgB,WAA9C,CAAd;AACAoC,YAAE,GAAG,IAAIE,8CAAJ,CAAWF,EAAX,EAAepD,CAAC,CAACsC,YAAjB,CAAL;AACAtJ,gBAAM,CAACX,IAAP,CAAY4J,QAAZ,EACO3J,OADP,CAEO,UAAA+D,EAAE,EAAI;AACL,kBAAI,CAAC2D,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,IAA0B,MAAI,CAAC2D,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,KAA2B,EAArD,EACCrD,MAAM,CAACyJ,MAAP,CAAc,MAAI,CAACzC,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,CAAd,iFACI4F,QAAQ,CAAC5F,EAAD,CADZ,EAEI,MAAI,CAAC2D,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,CAFJ,EADD;AAKA,WARR;AAUA;;AAED,aAAK0F,aAAL;AACA,aAAKyD,cAAL,GA9BgD,CAgChD;;AACAC,WAAG,CAAC7I,UAAJ,CAAe+B,IAAf,CAAoByE,EAApB;AACAqC,WAAG,CAACZ,SAAJ,GAAqBY,GAAG,CAACZ,SAAJ,IAAiB,CAAtC;AACAY,WAAG,CAACP,cAAJ,GAAqBO,GAAG,CAACP,cAAJ,IAAsB,CAA3C;AACAO,WAAG,CAACP,cAAJ,GAAqB9F,IAAI,CAAC0F,GAAL,CAASW,GAAG,CAACP,cAAb,EAA6B9B,EAAE,CAAC7E,QAAhC,CAArB;AACAkH,WAAG,CAAChL,OAAJ,CAAYoL,SAAZ,CAAsB,CAAtB,EAAyBJ,GAAG,CAACP,cAA7B;AACA9B,UAAE,CAAC2B,IAAH,CAAQU,GAAG,CAACZ,SAAZ,EAAuB,KAAK7E,CAAL,CAAOsC,YAA9B;;AACA,aAAKZ,gBAAL,GAvCgD,CAwChD;;;AACA,eAAO0B,EAAP;AACA;AAxbF;AAAA;AAAA,uCA0bmBA,EA1bnB,EA0byC;AAAA,YAAlBnJ,GAAkB,uEAAZ,SAAY;;AACvC,YAAI+F,CAAC,GAAK,KAAKA,CAAf;AAAA,YAAkB8F,KAAlB;AAAA,YACIL,GAAG,GAAG,KAAKG,QAAL,CAAc3L,GAAd,CADV;;AAEA,YAAItB,CAAC,GAAK8M,GAAG,CAAC7I,UAAJ,CAAemG,OAAf,CAAuBK,EAAvB,CAAV;;AACA,YAAKzK,CAAC,IAAI,CAAC,CAAX,EAAe;AACd8M,aAAG,CAAC7I,UAAJ,CAAe0C,MAAf,CAAsB3G,CAAtB,EAAyB,CAAzB;AACA8M,aAAG,CAACP,cAAJ,GAAqB9F,IAAI,CAAC0F,GAAL,OAAA1F,IAAI,kFAAQqG,GAAG,CAAC7I,UAAJ,CAAehD,GAAf,CAAmB,UAAAyE,EAAE;AAAA,mBAAIA,EAAE,CAACE,QAAP;AAAA,WAArB,CAAR,UAA+C,CAA/C,GAAzB;AACAkH,aAAG,CAAChL,OAAJ,CAAYoL,SAAZ,CAAsB,CAAtB,EAAyBJ,GAAG,CAACP,cAAJ,IAAsB,CAA/C;AACA9B,YAAE,CAAC2B,IAAH,CAAQ,CAAR,EAAW,KAAK/E,CAAL,CAAOsC,YAAlB;AACAwD,eAAK,GAAG,IAAR;AACA;;AACD,SAACA,KAAD,IAAUC,OAAO,CAACC,IAAR,CAAa,uBAAb,CAAV;AACA;AAtcF;AAAA;AAAA,+BAwcWC,MAxcX,EAwcmD;AAAA;;AAAA,YAAhCC,EAAgC,uEAA3B,CAA2B;AAAA,YAAxBjM,GAAwB,uEAAlB,SAAkB;AAAA,YAAPkM,IAAO;AACjD,eAAO,IAAIC,OAAJ,CACL,UAAEC,OAAF,EAAWC,MAAX,EAAuB;AAEvB,cAAK,MAAI,CAACtG,CAAL,CAAOmE,IAAP,IAAe,MAAI,CAACnE,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,CAApB,EAAuC;AACtC,gBAAIsM,MAAM,GAAG,MAAI,CAACvG,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBgL,SAA9B;AAAA,gBACIuB,MAAM,GAAG,SAATA,MAAS,CAAAhK,GAAG,EAAI;AAEf;AACA,oBAAI,CAACwD,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBgL,SAAjB,GAA6B,MAAI,CAACjF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB4K,SAAjB,GAA6BrI,GAA1D;;AACA,kBAAK,MAAI,CAACwD,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBQ,OAAtB,EAAgC;AAC/B,sBAAI,CAACuF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBQ,OAAjB,CAAyB+L,MAAzB,CAAgChK,GAAhC,EAD+B,CAE/B;;AACA;;AACD,oBAAI,CAACiK,kBAAL,IAA2B,MAAI,CAACA,kBAAL,CAAwB,CAAC,CAACjK,GAA1B,EAA+BvC,GAA/B,CAA3B;;AACA,oBAAI,CAACyH,gBAAL;AACA,aAXL;;AAcAuE,kBAAM,GAAuB7G,IAAI,CAAC0F,GAAL,CAAS,CAAT,EAAYmB,MAAZ,CAA7B;AACAA,kBAAM,GAAuB7G,IAAI,CAACC,GAAL,CAAS4G,MAAT,EAAiB,MAAI,CAACjG,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBiL,cAAjB,IAAmC,CAApD,CAA7B;AACA,kBAAI,CAAClF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBgL,SAAjB,GAA6BgB,MAA7B;;AAEA,gBAAK,CAACC,EAAN,EAAW;AACV,oBAAI,CAAClG,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB2C,UAAjB,CAA4BtE,OAA5B,CACC,UAAA8K,EAAE;AAAA,uBAAIA,EAAE,CAAC2B,IAAH,CAAQkB,MAAR,EAAgB,MAAI,CAACjG,CAAL,CAAOsC,YAAvB,CAAJ;AAAA,eADH;;AAGAkE,oBAAM,CAACP,MAAD,CAAN;AACAI,qBAAO;AACP,aAND,MAOK;AACJ,oBAAI,CAACK,cAAL,CAAoBzM,GAApB,EAAyBgM,MAAzB,EAAiCC,EAAjC,EAAqCS,qCAAQ,CAACR,IAAD,CAA7C,EAAqDK,MAArD,EAA6DH,OAA7D;AACA;;AAED,gBAAK,CAAC,MAAI,CAACrG,CAAL,CAAO0D,IAAb,EAAoB;AACnB,oBAAI,CAAC1D,CAAL,CAAO0D,IAAP,GAAc,IAAd;AACA5C,mCAAqB,CAAC,MAAI,CAACd,CAAL,CAAOmB,QAAR,CAArB;AACA,aAjCqC,CAkCtC;;AACA;AACD,SAvCK,CAAP;AAwCA;AAjfF;AAAA;AAAA,uCAmfkB;AAChB,YAAK,CAAC,KAAKnB,CAAL,CAAO4G,aAAb,EAA6B;AAC5B,eAAK5G,CAAL,CAAO4G,aAAP,GAAuB,IAAvB;AACA,eAAK5G,CAAL,CAAO6G,UAAP,GAAuB,EAAvB;AACA,eAAK7G,CAAL,CAAOG,aAAP,GAAuB,EAAvB;;AACA,eAAK2G,wBAAL;AACA;AACD;AA1fF;AAAA;AAAA,yCA4fqBhE,IA5frB,EA4f4B;AAAA;;AAC1B,YAAIiE,UAAU,GAAGC,+CAAK,CAACC,gBAAN,CAAuBnE,IAAvB,CAAjB;AACAiE,kBAAU,GAAO,KAAKG,qBAAL,IAA8B,KAAKA,qBAAL,CAA2BH,UAA3B,CAA9B,IAAwEA,UAAzF;AAEA,eAAOA,UAAU,CAACnN,GAAX,CACN,UAAAyC,EAAE;AAAA,iBAAKW,0CAAE,CAACzB,MAAH,CAAUc,EAAV,IACE,MAAI,CAAC2D,CAAL,CAAOe,IAAP,CAAY1E,EAAZ,KAAmB8K,iDAAQ,CAACC,WAAT,CAAqB,MAAI,CAACpH,CAAL,CAAOe,IAAP,CAAY1E,EAAZ,CAArB,CAAnB,IAA4D,MAAI,CAAC0E,IAAL,CAAU1E,EAAV,CAA5D,IAA6EgL,QAAQ,CAACC,cAAT,CAAwBjL,EAAxB,CAD/E,GAEEA,EAFP;AAAA,SADI,CAAP;AAIA;AApgBF;AAAA;AAAA,iDAsgB4B;AAAA;;AAC1B,YAAIkL,OAAO,GAAG,KAAKrJ,WAAnB;AAAA,YACI8B,CAAC,GAAS,KAAKA,CADnB;;AAEA,YAAK,KAAKA,CAAL,CAAOwH,QAAZ,EAAuB;AACtB,cAAIC,QAAQ,GAAK,KAAKC,WAAL,EAAjB;AAAA,cACIC,UAAU,GAAG,CADjB;AAAA,cAEIC,UAAU,GAAG,CAFjB;AAAA,cAGIC,UAAU,GAAG;AAAEvH,aAAC,EAAE,CAAL;AAAQK,aAAC,EAAE;AAAX,WAHjB;AAAA,cAIImH,aAJJ;;AAKA,cAAK,CAAC,KAAKC,cAAN,IAAwBpK,aAA7B,EAA6C;AAE5C,gBAAK,CAAC8J,QAAN,EACC1B,OAAO,CAACC,IAAR,CAAa,sCAAb,EADD,KAGCgB,+CAAK,CAACgB,aAAN,CACCP,QADD,EAEC,KAAKzH,CAAL,CAAOiI,QAAP,GAAkB,UAAEzK,CAAF,EAAS;AAAC;AAC3B,kBAAIsB,GAAG,GAASD,IAAI,CAACC,GAAL,EAAhB;AAAA,kBAA4BoJ,OAA5B;AACAL,wBAAU,CAAClH,CAAX,IAAgBnD,CAAC,CAAC2K,MAAlB;AACAN,wBAAU,CAACvH,CAAX,IAAgB9C,CAAC,CAAC4K,MAAlB;AACAN,2BAAa,GAAGtK,CAAC,CAAC6K,aAAlB,CAJ0B,CAK1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAH,qBAAO,GAAQ,MAAI,CAACI,WAAL,CAAiBjB,QAAQ,CAACkB,gBAAT,CAA0BT,aAAa,CAACU,OAAxC,EAAiDV,aAAa,CAACW,OAA/D,CAAjB,EAA0FZ,UAAU,CAACvH,CAAX,GAAe,CAAzG,EAA4GuH,UAAU,CAAClH,CAAX,GAAe,CAA3H,CAAf;AACAkH,wBAAU,CAAClH,CAAX,GAAe,CAAf;AACAkH,wBAAU,CAACvH,CAAX,GAAe,CAAf;AACAqH,wBAAU,GAAK,CAAf;AACAC,wBAAU,GAAKE,aAAa,GAAG7L,SAA/B;;AACA,kBAAKiM,OAAL,EAAe;AACd1K,iBAAC,CAAC6K,aAAF,CAAgBK,eAAhB;AACAlL,iBAAC,CAAC6K,aAAF,CAAgBM,cAAhB;AACA,eAtByB,CAuB1B;AACA;AACA;AACA;;;AACA;AAGA,aAhCF;AAmCD,gBAAIC,WAAJ,EACIC,KADJ,EACWC,EADX,EAEIC,OAFJ,EAEaC,EAFb,EAGIC,YAHJ;AAIA,gBAAK,CAACxB,QAAN,EACC1B,OAAO,CAACC,IAAR,CAAa,oCAAb,EADD,KAGCgB,+CAAK,CAACkC,QAAN,CACCzB,QADD,EACW,KAAKzH,CAAL,CAAOmJ,QAAP,GAAkB;AAC3B,2BAAa,mBAAE3L,CAAF,EAAK4L,KAAL,EAAYC,KAAZ,EAAuB;AAAC;AACpC,oBAAIxO,OAAJ,EACIyF,CADJ,EAEIK,CAFJ,EAEOhI,CAFP,EAEU2D,KAFV;AAIAyM,uBAAO,GAAQ,MAAI,CAACO,kBAAL,CAAwB9L,CAAC,CAAC7D,MAA1B,CAAf,CALmC,CAMnC;;AACAiP,2BAAW,GAAI/J,IAAI,CAACC,GAAL,EAAf;AACAgK,kBAAE,GAAa,CAAf;AACAE,kBAAE,GAAa,CAAf;AACAC,4BAAY,GAAG,EAAf,CAVmC,CAWnC;AACA;;AACA,qBAAMtQ,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGoQ,OAAO,CAAChQ,MAAzB,EAAiCJ,CAAC,EAAlC,EAAuC;AACtCkC,yBAAO,GAAGkO,OAAO,CAACpQ,CAAD,CAAjB,CADsC,CAEtC;;AACA,sBAAKkC,OAAO,CAACwG,WAAR,IAAuBxG,OAAO,CAACmF,CAAR,CAAU4G,aAAtC,EAAsD;AACrDtG,qBAAC,GAAGzF,OAAO,CAAC+K,QAAR,CAAiB,SAAjB,CAAJ;AACAjF,qBAAC,GAAG9F,OAAO,CAAC+K,QAAR,CAAiB,SAAjB,CAAJ,CAFqD,CAGrD;AACA;AACA;AACA;AACA;AACA,mBARD,MASK,IAAK5I,0CAAE,CAACuM,OAAH,CAAW1O,OAAX,CAAL,EAA2B;AAC/ByB,yBAAK,GAAGkN,gBAAgB,CAAC3O,OAAD,EAAU,IAAV,CAAxB;;AACA,wBAAK,gBAAgB4O,IAAhB,CACJnN,KAAK,CAACoN,gBAAN,CAAuB,UAAvB,IACEpN,KAAK,CAACoN,gBAAN,CAAuB,YAAvB,CADF,GAEEpN,KAAK,CAACoN,gBAAN,CAAuB,YAAvB,CAHE,CAAL,EAG2C;AAC1CT,kCAAY,CAACtQ,CAAD,CAAZ,GAAkB;AACjBgI,yBAAC,EAAE9F,OAAO,CAAC+F,SADM;AAEjBN,yBAAC,EAAEzF,OAAO,CAAC4F,UAFM,CAGjB;;AAHiB,uBAAlB,CAD0C,CAM1C;AACA;AACA;AACD;AAED;;AACD,sBAAI,CAACV,kBAAL,GA1CmC,CA2CnC;AACA;;AACA,eA9C0B;AA+C3B,uBAAa,eAAEvC,CAAF,EAAK4L,KAAL,EAAYC,KAAZ,EAAuB;AAAC;AACpC,oBAAKT,WAAW,IAAI,EAAEA,WAAW,GAAG/J,IAAI,CAACC,GAAL,KAAa,GAA3B,IAAkCM,IAAI,CAACuK,GAAL,CAASX,EAAT,IAAe,EAAjD,IAAuD5J,IAAI,CAACuK,GAAL,CAASb,EAAT,IAAe,EAAxE,CAApB,EAAiG;AACjG;AACCtL,qBAAC,CAACmL,cAAF;AACAnL,qBAAC,CAACkL,eAAF;AACA;AACD,eArD0B;AAsD3B,sBAAa,cAAElL,CAAF,EAAK4L,KAAL,EAAYC,KAAZ,EAAuB;AAAC;AACpC,oBAAIxO,OAAJ,EACIyF,CADJ,EACO8H,MADP,EACewB,WADf,EAC4BC,EAD5B,EAEIlJ,CAFJ,EAEOwH,MAFP,EAEe2B,WAFf,EAE4BC,EAF5B,EAGIC,MAHJ,EAGYrR,CAHZ;AAKAmQ,kBAAE,GAAG,EAAEO,KAAK,CAACY,QAAN,CAAe3J,CAAf,GAAmB+I,KAAK,CAACa,SAAN,CAAgB5J,CAArC,CAAL;AACA0I,kBAAE,GAAG,EAAEK,KAAK,CAACY,QAAN,CAAetJ,CAAf,GAAmB0I,KAAK,CAACa,SAAN,CAAgBvJ,CAArC,CAAL;AAEA,oBAAKiI,WAAW,GAAG/J,IAAI,CAACC,GAAL,KAAa,GAA3B,IAAkCM,IAAI,CAACuK,GAAL,CAASX,EAAT,IAAe,EAAjD,IAAuD5J,IAAI,CAACuK,GAAL,CAASb,EAAT,IAAe,EAA3E,EAA+E;AAC9E;AAEDc,2BAAW,GAAG,CAACd,EAAf;AACAgB,2BAAW,GAAG,CAACd,EAAf;;AACA,oBAAKpJ,IAAI,CAACuK,iBAAV,EAA8B;AAC7B,sBAAKtB,KAAK,KAAK,GAAV,IAAiB,CAACA,KAAD,IAAUzJ,IAAI,CAACuK,GAAL,CAASX,EAAE,GAAG,EAAd,IAAoB5J,IAAI,CAACuK,GAAL,CAASb,EAAT,CAApD,EAAmE;AAClED,yBAAK,GAAS,GAAd;AACAC,sBAAE,GAAY,CAAd;AACAc,+BAAW,GAAG,IAAd;AACA,mBAJD,MAKK,IAAKf,KAAK,KAAK,GAAV,IAAiB,CAACA,KAAD,IAAUzJ,IAAI,CAACuK,GAAL,CAASb,EAAE,GAAG,EAAd,IAAoB1J,IAAI,CAACuK,GAAL,CAASX,EAAT,CAApD,EAAmE;AACvEH,yBAAK,GAAS,GAAd;AACAG,sBAAE,GAAY,CAAd;AACAc,+BAAW,GAAG,IAAd;AACA;AACD,iBAzBkC,CA0BnC;;;AACA,qBAAMnR,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGoQ,OAAO,CAAChQ,MAAzB,EAAiCJ,CAAC,EAAlC,EAAuC;AACtCkC,yBAAO,GAAGkO,OAAO,CAACpQ,CAAD,CAAjB,CADsC,CAEtC;;AACA,sBAAKkC,OAAO,CAACwG,WAAR,IAAuBxG,OAAO,CAACmF,CAAR,CAAU4G,aAAtC,EAAsD;AAErDtG,qBAAC,GAAGzF,OAAO,CAAC+K,QAAR,CAAiB,SAAjB,CAAJ;AACAjF,qBAAC,GAAG9F,OAAO,CAAC+K,QAAR,CAAiB,SAAjB,CAAJ;;AAEA,wBAAK,CAACqD,YAAY,CAACtQ,CAAD,CAAlB,EAAwB;AACvBsQ,kCAAY,CAACtQ,CAAD,CAAZ,GAAkB;AAAE2H,yBAAC,EAAEA,CAAC,CAACuE,SAAP;AAAkBlE,yBAAC,EAAEA,CAAC,CAACkE;AAAvB,uBAAlB;AACAvE,uBAAC,CAAC7F,OAAF,CAAU2P,SAAV;AACAzJ,uBAAC,CAAClG,OAAF,CAAU2P,SAAV;AACA,uBAAC9J,CAAC,CAAC+J,YAAH,IAAmBxP,OAAO,CAACyP,YAAR,CAAqBhK,CAArB,EAAwB,SAAxB,CAAnB;AACA,uBAACK,CAAC,CAAC0J,YAAH,IAAmBxP,OAAO,CAACyP,YAAR,CAAqB3J,CAArB,EAAwB,SAAxB,CAAnB;AACA;;AACDyH,0BAAM,GAAGU,EAAE,IAAKA,EAAE,GAAGjO,OAAO,CAACmF,CAAR,CAAUiB,GAAV,CAAcX,CAApB,IAA0BA,CAAC,CAAC9F,gBAAF,IAAsB8F,CAAC,CAAC4E,cAAlD,CAAN,IAA2E,CAApF;AACAiD,0BAAM,GAAGa,EAAE,IAAKA,EAAE,GAAGnO,OAAO,CAACmF,CAAR,CAAUiB,GAAV,CAAcN,CAApB,IAA0BA,CAAC,CAACnG,gBAAF,IAAsBmG,CAAC,CAACuE,cAAlD,CAAN,IAA2E,CAApF;;AACA,wBAAK,CAAC0E,WAAD,IAAgB,CAAC/O,OAAO,CAAC0P,SAAR,CAAkB,SAAlB,EAA6BtB,YAAY,CAACtQ,CAAD,CAAZ,CAAgB2H,CAAhB,GAAoB8H,MAAjD,EAAyD,IAAzD,CAAjB,KACA,CAACvN,OAAO,CAAC2P,qBAAT,IAAkC3P,OAAO,CAAC2P,qBAAR,CAA8B,SAA9B,EAAyCpC,MAAzC,CADlC,CAAL,EAC2F;AAC1F9H,uBAAC,CAAC7F,OAAF,CAAUgQ,IAAV,CAAexB,YAAY,CAACtQ,CAAD,CAAZ,CAAgB2H,CAAhB,GAAoB8H,MAAnC;AACAwB,iCAAW,GAAG,IAAd;AACA,qBAlBoD,CAmBrD;AACA;;;AACA,wBAAK,CAACE,WAAD,IAAgB,CAACjP,OAAO,CAAC0P,SAAR,CAAkB,SAAlB,EAA6BtB,YAAY,CAACtQ,CAAD,CAAZ,CAAgBgI,CAAhB,GAAoBwH,MAAjD,EAAyD,IAAzD,CAAjB,KACA,CAACtN,OAAO,CAAC2P,qBAAT,IAAkC3P,OAAO,CAAC2P,qBAAR,CAA8B,SAA9B,EAAyCrC,MAAzC,CADlC,CAAL,EAC2F;AAC1FxH,uBAAC,CAAClG,OAAF,CAAUgQ,IAAV,CAAexB,YAAY,CAACtQ,CAAD,CAAZ,CAAgBgI,CAAhB,GAAoBwH,MAAnC;AACA2B,iCAAW,GAAG,IAAd;AACA;AACD,mBA1BD,MA2BK,IAAK9M,0CAAE,CAACuM,OAAH,CAAW1O,OAAX,CAAL,EAA2B;AAC/BmP,0BAAM,GAAGf,YAAY,CAACtQ,CAAD,CAArB;;AACA,wBAAKqR,MAAL,EAAc;AACb,0BAAK,CAACF,WAAD,KACFd,EAAE,GAAG,CAAL,IAAUnO,OAAO,CAAC+F,SAAR,KAAsB,CAAjC,IAECoI,EAAE,GAAG,CAAL,IAAUnO,OAAO,CAAC+F,SAAR,KAAuB/F,OAAO,CAAC6P,YAAR,GAAuB7P,OAAO,CAAC8P,YAH9D,CAAL,EAIE;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAlBY,CAkBX;;;AACF,0BAAK,CAACf,WAAD,KACFd,EAAE,GAAG,CAAL,IAAUjO,OAAO,CAAC4F,UAAR,KAAuB,CAAlC,IAECqI,EAAE,GAAG,CAAL,IAAUjO,OAAO,CAAC4F,UAAR,KAAwB5F,OAAO,CAAC+P,WAAR,GAAsB/P,OAAO,CAACgQ,WAH9D,CAAL,EAIE;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAjB,mCAAW,GAAG,IAAd;AACA,uBAlCY,CAkCX;;AACF;AAED;AAED;;AACD,oBAAKE,WAAW,IAAIF,WAApB,EAAkC;AACjCpM,mBAAC,CAACkL,eAAF;AACAlL,mBAAC,CAACmL,cAAF,GAFiC,CAGjC;AACA,iBAvGkC,CAwGnC;AACA;;AACA,eAhK0B;AAmK3B,yBAAW,iBAAEnL,CAAF,EAAK4L,KAAL,EAAYC,KAAZ,EAAuB;AACjC,oBAAIxO,OAAJ,EACIyF,CADJ,EACO8H,MADP,EACewB,WADf,EAC4BC,EAD5B,EAEIlJ,CAFJ,EAEOwH,MAFP,EAEe2B,WAFf,EAE4BC,EAF5B,EAGIC,MAHJ,EAGYrR,CAHZ;AAKAkQ,qBAAK,GAAG5M,SAAR,CANiC,CAOjC;AACA;AACA;;AAEA,qBAAMtD,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGoQ,OAAO,CAAChQ,MAAzB,EAAiCJ,CAAC,EAAlC,EAAuC;AACtCkC,yBAAO,GAAGkO,OAAO,CAACpQ,CAAD,CAAjB,CADsC,CAEtC;;AACA,sBAAKkC,OAAO,CAACwG,WAAR,IAAuBxG,OAAO,CAACmF,CAAR,CAAU4G,aAAjC,IAAkDqC,YAAY,CAACtQ,CAAD,CAAnE,EAAyE;AACxEkC,2BAAO,CAAC+K,QAAR,CAAiB,SAAjB,EAA4BnL,OAA5B,CAAoCqQ,OAApC;;AACAjQ,2BAAO,CAAC+K,QAAR,CAAiB,SAAjB,EAA4BnL,OAA5B,CAAoCqQ,OAApC;AACA,mBANqC,CAOtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AACD/B,uBAAO,GAAGE,YAAY,GAAG,IAAzB;AACA;AA/L0B,aAD7B,EAkMC,IAlMD,EAmMCrJ,IAAI,CAACmL,eAnMN;AAqMD;;AACD,eAAK/K,CAAL,CAAOgL,UAAP,GAAoB,CAAC,CAACvD,QAAtB;AACA,SA5PD,MA6PK;AACJ,eAAKzH,CAAL,CAAOgL,UAAP,GAAoB,IAApB;AACA;AACD,OAzwBF,CA2wBD;AACA;AACA;;AA7wBC;AAAA;AAAA,mCAgxBevF,GAhxBf,EAgxBoBxL,GAhxBpB,EAgxB0B;AAAA;;AACxB,YAAIqG,CAAC,GAAGmF,GAAG,CAAChL,OAAJ,CAAYiG,MAAZ,EAAR;;AAEA,aAAKV,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB2C,UAAjB,CAA4BtE,OAA5B,CACC,UAAA8K,EAAE,EAAI;AACL,iBAAI,CAACpD,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiBgL,SAAjB,GAA6B,OAAI,CAACjF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,EAAiB4K,SAAjB,GAA6BvE,CAA1D;AACA8C,YAAE,CAAC2B,IAAH,CAAQzE,CAAR,EAAW,OAAI,CAACN,CAAL,CAAOsC,YAAlB;AACA,SAJF,EAHwB,CASxB;AACA;;;AACA,aAAKmE,kBAAL,IAA2B,KAAKA,kBAAL,CAAwBnG,CAAxB,EAA2BrG,GAA3B,CAA3B;;AACA,aAAKyH,gBAAL;;AACA,YAAK+D,GAAG,CAAChL,OAAJ,CAAY8F,MAAZ,IAAsBkF,GAAG,CAAChL,OAAJ,CAAY+F,OAAvC,EAAiD;AAChDiF,aAAG,CAAC4E,YAAJ,GAAmBtL,UAAU,CAAC,KAAKuL,YAAL,CAAkBlJ,IAAlB,CAAuB,IAAvB,EAA6BqE,GAA7B,EAAkCxL,GAAlC,CAAD,CAA7B;AACA,SAFD,MAGK;AACJwL,aAAG,CAAC4E,YAAJ,GAAmB,IAAnB,CADI,CAEJ;AACA;AACD;AApyBF;AAAA;AAAA,wCAuyBmB;AAAC;AAClB,YAAIrK,CAAC,GAAG,KAAKA,CAAb;AAAA,YAAgBO,MAAM,GAAG,KAAzB;AACAP,SAAC,CAACmE,IAAF,IACAnL,MAAM,CAACX,IAAP,CAAY2H,CAAC,CAACmE,IAAd,EACO7L,OADP,CAEO,UAAA2B,GAAG;AAAA,iBAAKsG,MAAM,GAAGA,MAAM,IAAIP,CAAC,CAACmE,IAAF,CAAOlK,GAAP,KAAe+F,CAAC,CAACmE,IAAF,CAAOlK,GAAP,EAAYQ,OAAZ,CAAoB8F,MAA3D;AAAA,SAFV,CADA;AAKA,eAAOA,MAAP;AACA;AA/yBF;AAAA;AAAA,2CAizBuBuC,IAjzBvB,EAizB8B;AAC5B,YAAI9C,CAAC,GAAG,KAAKA,CAAb;AAAA,YACIrH,CAAC,GAAGqH,CAAC,CAACG,aAAF,CAAgB8K,SAAhB,CAA0B,UAAAC,IAAI;AAAA,iBAAKA,IAAI,CAACvR,MAAL,KAAgBmJ,IAArB;AAAA,SAA9B,CADR;;AAEA,YAAKnK,CAAC,KAAK,CAAC,CAAZ,EAAgB;AACfqH,WAAC,CAACG,aAAF,CAAgBxB,IAAhB,CACC;AACClE,mBAAO,EAAE;AACR6F,eAAC,EAAE,IAAI6E,yDAAJ,CAAY;AAAEL,mBAAG,EAAEhC,IAAI,CAAC8H,WAAL,GAAmB9H,IAAI,CAACqI,UAA/B;AAA2C/F,qBAAK,EAAEtC,IAAI,CAACrC;AAAvD,eAAZ,CADK;AAERE,eAAC,EAAE,IAAIwE,yDAAJ,CAAY;AAAEL,mBAAG,EAAEhC,IAAI,CAAC4H,YAAL,GAAoB5H,IAAI,CAAC6H,YAAhC;AAA8CvF,qBAAK,EAAEtC,IAAI,CAAClC;AAA1D,eAAZ;AAFK,aADV;AAKCjH,kBAAM,EAAGmJ;AALV,WADD;;AAQAnK,WAAC,GAAGqH,CAAC,CAACG,aAAF,CAAgBpH,MAAhB,GAAyB,CAA7B;AACA;;AACD,eAAOiH,CAAC,CAACG,aAAF,CAAgBxH,CAAhB,EAAmB8B,OAA1B;AAEA;AAj0BF;AAAA;AAAA,qCA61BiB0E,KA71BjB,EA61B0C;AAAA,YAAlBlF,GAAkB,uEAAZ,SAAY;AACxC,YAAIiO,OAAJ;AAAA,YACIzC,GAAG,GAAM,KAAKzF,CAAL,CAAOmE,IAAP,CAAYlK,GAAZ,CADb;AAAA,YAEIsM,MAAM,GAAGd,GAAG,IAAIA,GAAG,CAACZ,SAFxB;AAAA,YAGIoB,MAAM,GAAGM,MAAM,GAAGpH,KAHtB;;AAKA,YAAKsG,GAAG,IAAIc,MAAM,KAAKN,MAAvB,EAAgC;AAE/B;AACAR,aAAG,CAAChL,OAAJ,CAAY2Q,QAAZ,CAAqBjM,KAArB,EAA4B,GAA5B;AACA,WAACsG,GAAG,CAAC4E,YAAL,IAAqB,KAAKC,YAAL,CAAkB7E,GAAlB,EAAuBxL,GAAvB,CAArB,CAJ+B,CAM/B;AACA;;AAED,eAAOiO,OAAP;AACA;AA72BF;AAAA;AAAA,gCA+2BYmD,IA/2BZ,EA+2BkBC,CA/2BlB,EA+2BqB3B,GA/2BrB,EA+2B2B;AACzB,YAAI3J,CAAC,GAAK,KAAKA,CAAf;AAAA,YACIyF,GAAG,GAAGzF,CAAC,CAACmE,IAAF,IAAUnE,CAAC,CAACmE,IAAF,CAAOkH,IAAP,CADpB;AAAA,YAEI7O,GAAG,GAAGmN,GAAG,GAAG2B,CAAH,GAAO7F,GAAG,IAAKA,GAAG,CAACZ,SAAJ,GAAgByG,CAF5C;AAGA,eAAO,CAAC7F,GAAD,IAASjJ,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAIiJ,GAAG,CAACP,cAAvC;AACA;AAp3BF;AAAA;AAAA,kCAs3BcvL,MAt3Bd,EAs3BsB4R,EAt3BtB,EAs3B0BC,EAt3B1B,EAs3B8BhL,OAt3B9B,EAs3BwC;AACtC,YAAIlE,KAAJ;AAAA,YACImP,KADJ;AAAA,YAEIC,UAAU,GAAG/R,MAFjB;AAAA,YAGIgS,WAHJ;AAAA,YAIIhT,CAJJ,CADsC,CAOtC;AACA;;AAEA8S,aAAK,GAAG,KAAKnC,kBAAL,CAAwBoC,UAAxB,CAAR,CAVsC,CAWtC;;AACA,aAAM/S,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAG8S,KAAK,CAAC1S,MAAvB,EAA+BJ,CAAC,EAAhC,EAAqC;AACpC;AACA,cAAK8S,KAAK,CAAC9S,CAAD,CAAL,CAAS0I,WAAd,EAA4B;AAC3B,gBAAK,CAACoK,KAAK,CAAC9S,CAAD,CAAL,CAAS4R,SAAT,CAAmB,SAAnB,EAA8BgB,EAA9B,CAAD,KAAuC,CAACE,KAAK,CAAC9S,CAAD,CAAL,CAAS6R,qBAAV,IAAmCiB,KAAK,CAAC9S,CAAD,CAAL,CAAS6R,qBAAT,CAA+B,SAA/B,EAA0Ce,EAA1C,CAA1E,CAAL,EAAgI;AAC/HE,mBAAK,CAAC9S,CAAD,CAAL,CAASiT,cAAT,CAAwBL,EAAxB,EAA4B,SAA5B,EAAuC/K,OAAvC;AACA+K,gBAAE,GAAG,CAAL;AACA;;AACD,gBAAK,CAACE,KAAK,CAAC9S,CAAD,CAAL,CAAS4R,SAAT,CAAmB,SAAnB,EAA8BiB,EAA9B,CAAD,KAAuC,CAACC,KAAK,CAAC9S,CAAD,CAAL,CAAS6R,qBAAV,IAAmCiB,KAAK,CAAC9S,CAAD,CAAL,CAAS6R,qBAAT,CAA+B,SAA/B,EAA0CgB,EAA1C,CAA1E,CAAL,EAAgI;AAC/HC,mBAAK,CAAC9S,CAAD,CAAL,CAASiT,cAAT,CAAwBJ,EAAxB,EAA4B,SAA5B,EAAuChL,OAAvC;AACAgL,gBAAE,GAAG,CAAL;AACA;AACD,WATD,CAUA;AAVA,eAWK,IAAKxO,0CAAE,CAACuM,OAAH,CAAWkC,KAAK,CAAC9S,CAAD,CAAhB,CAAL,EAA4B;AAChC2D,mBAAK,GAAGkN,gBAAgB,CAACiC,KAAK,CAAC9S,CAAD,CAAN,EAAW,IAAX,CAAxB;;AACA,kBAAK,gBAAgB8Q,IAAhB,CACJnN,KAAK,CAACoN,gBAAN,CAAuB,UAAvB,IACEpN,KAAK,CAACoN,gBAAN,CAAuB,YAAvB,CADF,GAEEpN,KAAK,CAACoN,gBAAN,CAAuB,YAAvB,CAHE,CAAL,EAKE;AACD,oBACE8B,EAAE,GAAG,CAAL,IAAUC,KAAK,CAAC9S,CAAD,CAAL,CAASiI,SAAT,KAAuB,CAAlC,IAEC4K,EAAE,GAAG,CAAL,IAAUC,KAAK,CAAC9S,CAAD,CAAL,CAASiI,SAAT,KAAwB6K,KAAK,CAAC9S,CAAD,CAAL,CAAS+R,YAAT,GAAwBe,KAAK,CAAC9S,CAAD,CAAL,CAASgS,YAHrE,EAIE;AACD,yBADC,CAED;AACA;AACA,iBATA,CASC;AACF;AACA;AACA;AACA;;AACA,eArB+B,CAuBhC;AACA;AACA;;AACA;;AACD,cAAK,CAACY,EAAD,IAAO,CAACC,EAAb,EACC;AACD;;AACD,aAAKzL,kBAAL;;AACA,YAAK,CAACwL,EAAD,IAAO,CAACC,EAAb,EACC,OAAO,IAAP;AACD,OAh7BF,CAk7BD;AACA;AACA;;AAp7BC;AAAA;AAAA,sCAs7BkBnP,EAt7BlB,EAs7BsBzC,GAt7BtB,EAs7B2B8C,KAt7B3B,EAs7BmC;AAAA;;AACjC,YAAImP,IAAI,GAAG,EAAX;AAAA,YAAe5J,QAAQ,GAAG,EAA1B;AACAO,wEAAU,CAAC5I,GAAD,EAAMiS,IAAN,EAAY5J,QAAZ,EAAsB,KAAKjC,CAAL,CAAOoC,eAAP,CAAuB/F,EAAvB,CAAtB,EAAkD,KAAK2D,CAAL,CAAOgB,WAAP,CAAmB3E,EAAnB,CAAlD,CAAV;AACArD,cAAM,CAACX,IAAP,CAAYwT,IAAZ,EAAkBjS,GAAlB,CACC,UAAEkS,CAAF;AAAA,iBAAS,OAAI,CAAC9L,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,EAAwByP,CAAxB,IAA6B,CAAC,CAACpP,KAAD,IAAU,OAAI,CAACsD,CAAL,CAAOsC,YAAP,CAAoBjG,EAApB,EAAwByP,CAAxB,CAAV,IAAwC7J,QAAQ,CAAC6J,CAAD,CAAjD,IAAwDD,IAAI,CAACC,CAAD,CAAlG;AAAA,SADD;AAGA;AA57BF;AAAA;AAAA,qCA87BiBnS,MA97BjB,EA87ByB2C,KA97BzB,EA87BgCyP,QA97BhC,EA87B2C;AAAA;;AACzC,YAAI/L,CAAC,GAAG,KAAKA,CAAb;AAAA,YAAgBiC,QAAQ,GAAG,EAA3B;AAAA,YAA+BrI,GAAG,GAAG,EAArC;AACA,YAAKiE,OAAO,CAAClE,MAAD,CAAP,IAAmBkE,OAAO,CAACvB,KAAD,CAA/B,EACC,OAAO3C,MAAM,CAACC,GAAP,CAAW,UAAEoS,CAAF,EAAKrT,CAAL;AAAA,iBAAY,OAAI,CAACsT,cAAL,CAAoBD,CAApB,EAAuB1P,KAAK,CAAC3D,CAAD,CAA5B,EAAiCoT,QAAjC,CAAZ;AAAA,SAAX,CAAP;AACD,YAAKlO,OAAO,CAAClE,MAAD,CAAZ,EACC,OAAOA,MAAM,CAACC,GAAP,CAAW,UAAEoS,CAAF;AAAA,iBAAS,OAAI,CAACC,cAAL,CAAoBD,CAApB,EAAuB1P,KAAvB,EAA8ByP,QAA9B,CAAT;AAAA,SAAX,CAAP;AAED,YAAK,CAAC,KAAK/L,CAAL,CAAOqC,WAAb,EACC,KAAKN,aAAL;AAEDS,wEAAU,CAAClG,KAAD,EAAQ0D,CAAC,CAACsC,YAAF,CAAe3I,MAAf,CAAR,EAAgCsI,QAAhC,EAA0CjC,CAAC,CAACoC,eAAF,CAAkBzI,MAAlB,CAA1C,EAAqEqG,CAAC,CAACgB,WAAF,CAAcrH,MAAd,CAArE,EAA4F,IAA5F,CAAV;;AACA,aAAK+H,gBAAL,GAXyC,CAYzC;AACA;;AACA;AA58BF;AAAA;AAAA,mCA88Bc;AACZ,YAAIoB,IAAI,GAAG,KAAK4E,WAAL,EAAX;;AACA,YAAK5E,IAAL,EAAY;AACX,eAAK9C,CAAL,CAAOiB,GAAP,CAAWiL,MAAX,GAAoB,IAApB;AACA,eAAKlM,CAAL,CAAOiB,GAAP,CAAWX,CAAX,GAAoBwC,IAAI,CAAC+H,WAAzB;AACA,eAAK7K,CAAL,CAAOiB,GAAP,CAAWN,CAAX,GAAoBmC,IAAI,CAAC6H,YAAzB;AACA;AACD;AAr9BF;AAAA;AAAA,sCAu9BkBtO,EAv9BlB,EAu9BuB;AACrB,eAAO,KAAK2D,CAAL,CAAOe,IAAP,CAAY1E,EAAZ,KAAmB8K,iDAAQ,CAACC,WAAT,CAAqB,KAAKpH,CAAL,CAAOe,IAAP,CAAY1E,EAAZ,CAArB,CAA1B;AACA;AAz9BF;AAAA;AAAA,oCA29Be;AACb,eAAO,KAAK2D,CAAL,CAAOgD,OAAP,IAAkB,KAAKmJ,eAAL,CAAqB,KAAKnM,CAAL,CAAOgD,OAA5B,CAAlB,IAA0DmE,iDAAQ,CAACC,WAAT,CAAqB,IAArB,CAAjE;AACA;AA79BF;AAAA;AAAA,iCA+9BY;AACV,aAAK1F,gBAAL;;AACA,YAAK,KAAK1B,CAAL,CAAOyD,YAAP,CAAoB1K,MAAzB,EAAkC;AACjC+H,+BAAqB,CAAC,KAAKd,CAAL,CAAOmB,QAAR,CAArB;AACA,SAFD,MAGK;AACJ;AACA,eAAKnB,CAAL,CAAO0D,IAAP,GAAc,KAAd;AACA;AACD;AAx+BF;AAAA;AAAA,yCA0+BoB;AAClB,YAAK,KAAK1D,CAAL,CAAOiE,YAAZ,EAA2B;AAC1B;AACA;AACA;AACA,eAAM,IAAItL,CAAC,GAAG,CAAR,EAAWgB,MAAX,EAAmBmJ,IAAzB,EAA+BnK,CAAC,GAAG,KAAKqH,CAAL,CAAOmC,eAAP,CAAuBpJ,MAA1D,EAAkEJ,CAAC,EAAnE,EAAwE;AACvEgB,kBAAM,GAAG,KAAKqG,CAAL,CAAOmC,eAAP,CAAuBxJ,CAAvB,CAAT;AACAgK,0EAAQ,CAAC,KAAK3C,CAAL,CAAOsC,YAAP,CAAoB3I,MAApB,CAAD,EAA8B,KAAKqG,CAAL,CAAOqC,WAAP,CAAmB1I,MAAnB,CAA9B,EAA0D,KAAKqG,CAAL,CAAOgB,WAAP,CAAmBrH,MAAnB,CAA1D,EAAsF,KAAKqG,CAAL,CAAOoC,eAAP,CAAuBzI,MAAvB,CAAtF,EAAsH,KAAKqG,CAAL,CAAOiB,GAA7H,CAAR;AACA6B,gBAAI,GAAG,KAAKqJ,eAAL,CAAqBxS,MAArB,CAAP;AACAmJ,gBAAI,IAAI9J,MAAM,CAACyJ,MAAP,CAAcK,IAAI,CAACxG,KAAnB,EAA0B,KAAK0D,CAAL,CAAOqC,WAAP,CAAmB1I,MAAnB,CAA1B,CAAR;AACA;AACD;AACD;AAt/BF;AAAA;AAAA,6CAw/BwB;AACtB,YAAImJ,IAAI,GAAG,KAAK4E,WAAL,EAAX;;AACA,YAAK,KAAK1H,CAAL,CAAOiE,YAAZ,EAA2B;AAC1B,eAAKjE,CAAL,CAAOiE,YAAP,GAAsB,KAAtB;AACAI,gBAAM,CAAC+H,mBAAP,CAA2B,QAA3B,EAAqC,KAAKpM,CAAL,CAAOuE,QAA5C;AACA;;AAED,YAAK,KAAKvE,CAAL,CAAO4G,aAAZ,EAA4B;AAC3B,eAAK5G,CAAL,CAAO4G,aAAP,GAAuB,KAAvB,CAD2B,CAG3B;;AACA9D,cAAI,IAAI,KAAK9C,CAAL,CAAOiI,QAAf,IAA2B,CAAC,KAAKF,cAAjC,IAAmDf,+CAAK,CAACqF,YAAN,CAClDvJ,IADkD,EAElD,KAAK9C,CAAL,CAAOiI,QAF2C,CAAnD;AAGAnF,cAAI,IAAI,KAAK9C,CAAL,CAAOmJ,QAAf,IAA2BnC,+CAAK,CAACsF,WAAN,CAAkBxJ,IAAlB,EACxB,KAAK9C,CAAL,CAAOmJ,QADiB,CAA3B;AAEA;;AAED,qaAA4DrJ,SAA5D;AACA;AA3gCF;AAAA;AAAA,0CA6gCqB;AAAA;;AACnB,YAAIyH,OAAO,GAAG,KAAKrJ,WAAnB;AAEA,aAAK8B,CAAL,CAAOwH,QAAP,GAAkB,IAAlB;;AACA,YAAK,KAAKxH,CAAL,CAAOiE,YAAZ,EAA2B;AAC1B;AACA,eAAKO,UAAL;;AACA,eAAK9C,gBAAL;AACA;;AACD,YAAK,KAAK1B,CAAL,CAAOuM,mBAAZ,EAAkC;AACjC,eAAKC,iBAAL,CAAuB,KAAKxM,CAAL,CAAOuM,mBAA9B;AACA,iBAAO,KAAKvM,CAAL,CAAOuM,mBAAd;AACA;;AACD,YAAKhF,OAAO,CAACkF,cAAb,EAA8B;AAC7B,cAAKzP,0CAAE,CAACvB,KAAH,CAAS8L,OAAO,CAACkF,cAAjB,CAAL,EACC,KAAKxR,iBAAL,CAAuBsM,OAAO,CAACkF,cAA/B,EADD,KAGCzT,MAAM,CAACX,IAAP,CAAYkP,OAAO,CAACkF,cAApB,EACOnU,OADP,CAEO,UAAA2B,GAAG;AAAA,mBAAI,OAAI,CAACgB,iBAAL,CAAuBsM,OAAO,CAACkF,cAAR,CAAuBxS,GAAvB,CAAvB,EAAoDA,GAApD,CAAJ;AAAA,WAFV;AAID;;AACD,YAAK,KAAK+F,CAAL,CAAOgL,UAAP,IAAqB,KAAK0B,SAA/B,EAA2C;AAE1C,eAAK5F,wBAAL;;AACA,eAAK9G,CAAL,CAAOgL,UAAP,GAAoB,KAApB;AACA;;AACD,+ZAAsDlL,SAAtD;AACA;AAziCF;AAAA;AAAA,yCA2iCqB5D,SA3iCrB,EA2iCgCC,SA3iChC,EA2iC4C;AAAA;;AAE1C,YAAK,KAAK6D,CAAL,CAAOiE,YAAZ,EAA2B;AAC1B,eAAKO,UAAL;;AACA,eAAK9C,gBAAL;;AAEA,eAAK1B,CAAL,CAAO6D,aAAP,IACG7K,MAAM,CAACX,IAAP,CAAY6D,SAAZ,EACO5D,OADP,CAEO,UAAEqU,CAAF;AAAA,mBACC,OAAI,CAAC3M,CAAL,CAAO6D,aAAP,CAAqB8I,CAArB,KACI,OAAI,CAACtS,KAAL,CAAWsS,CAAX,MAAkBzQ,SAAS,CAACyQ,CAAD,CAD/B,IAEG,OAAI,CAAC3M,CAAL,CAAO6D,aAAP,CAAqB8I,CAArB,EAAwB,OAAI,CAACtS,KAAL,CAAWsS,CAAX,CAAxB,CAFH,IAGG,OAAI,CAACC,QAAL,CAAc,OAAI,CAAC5M,CAAL,CAAO6D,aAAP,CAAqB8I,CAArB,EAAwB,OAAI,CAACtS,KAAL,CAAWsS,CAAX,CAAxB;AAAsC;AAApD,aAJJ;AAAA,WAFP,EAOO,IAPP,CADH;AAUA,eAAK3M,CAAL,CAAOgE,kBAAP,IACG7H,SADH,IAEGnD,MAAM,CAACX,IAAP,CAAY8D,SAAZ,EACO7D,OADP,CAEO,UAAEqU,CAAF;AAAA,mBACC,OAAI,CAAC3M,CAAL,CAAOgE,kBAAP,CAA0B2I,CAA1B,KACI,OAAI,CAAC5S,KAAL,CAAW4S,CAAX,MAAkBxQ,SAAS,CAACwQ,CAAD,CAD/B,IAEG,OAAI,CAAC3M,CAAL,CAAOgE,kBAAP,CAA0B2I,CAA1B,EAA6B,OAAI,CAAC5S,KAAL,CAAW4S,CAAX,CAA7B,CAFH,IAGG,OAAI,CAACC,QAAL,CAAc,OAAI,CAAC5M,CAAL,CAAOgE,kBAAP,CAA0B2I,CAA1B,EAA6B,OAAI,CAAC5S,KAAL,CAAW4S,CAAX,CAA7B;AAA2C;AAAzD,aAJJ;AAAA,WAFP,EAOO,IAPP,CAFH;AAWA;;AACD,iaAAwD7M,SAAxD;AACA;AAxkCF;AAAA;AAAA,+BA0kCU;AAAA;;AACR,eAAO,2DAAC,wDAAD,CAAgB,QAAhB,QAEL,UAAA/C,aAAa,EAAI;AAChB,iBAAI,CAACgL,cAAL,GAAsBhL,aAAtB;AACA,iBAAO,2DAAC,wDAAD,CAAgB,QAAhB;AAAyB,iBAAK,EAAE;AAAhC,uNAAP;AAGA,SAPI,CAAP;AAUA;AArlCF;;AAAA;AAAA,IAAmC0C,aAAnC,UACQoN,WADR,GACsBC,MAAM,CAACC,YAAP,CAAoB,MAApB,EAA4B,MAA5B,KAAuCtN,aAAa,CAACoN,WAAd,IAA6BpN,aAAa,CAAChH,IAAlF,CADtB;AAwlCA,C;;;;;;;;;;;;;;;;;;;;;;;;;AC3rCD;;;;;;;;;;;;;;;;;AAkBA,IACCuE,EAAE,GAAS5E,mBAAO,CAAC,0BAAD,CADnB;AAAA,IAECuO,QAAQ,GAAGvO,mBAAO,CAAC,+BAAD,CAFnB;AAAA,IAGC4U,MAAM,GAAK,SAASC,IAAT,CAAe3M,CAAf,EAAmB;AAC7B,SAAO,OAAOA,CAAP,KAAa,QAAb,GAAwBA,CAAC,GAAGA,CAAC,GAAG,CAAJ,GAAQ,CAAC,CAAT,GAAa,CAAhB,GAAoBA,CAAC,KAAKA,CAAN,GAAUA,CAAV,GAAc4M,GAA3D,GAAiEA,GAAxE;AACA,CALF;AAAA,IAMCvD,GAAG,GAAQvK,IAAI,CAACuK,GANjB;AAAA,IAOCwD,KAAK,GAAM/N,IAAI,CAAC+N,KAPjB;AAAA,IAQCC,KAAK,GAAMhO,IAAI,CAACgO,KARjB;AAAA,IASC/N,GAAG,GAAQD,IAAI,CAACC,GATjB;AAAA,IAUCyF,GAAG,GAAQ1F,IAAI,CAAC0F,GAVjB;AAAA,IAWCuI,MAAM,GAAK;AACVC,iBAAe,EAAE,GADP;AAEVC,SAAO,EAAU;AAFP,CAXZ;;AAgBO,SAASjD,YAAT,CAAuBtK,CAAvB,EAA2B;AACjC,MAAIwN,OAAO,GAAGR,MAAM,CAAChN,CAAC,CAACyN,YAAH,CAApB,CADiC,CAEjC;AACA;;AACAzN,GAAC,CAAC0N,WAAF,GAAgBP,KAAK,CAAC/N,IAAI,CAACuO,GAAL,CAAS,MAAMhE,GAAG,CAAC3J,CAAC,CAACyN,YAAH,CAAlB,IAAsCrO,IAAI,CAACuO,GAAL,CAAS,EAAT,CAAvC,CAArB,CAJiC,CAMjC;;AACA3N,GAAC,CAAC4N,WAAF,GAAmB,CAACxO,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa7N,CAAC,CAAC0N,WAAf,IAA8B/D,GAAG,CAAC3J,CAAC,CAACyN,YAAH,CAAlC,KAAuD,KAAK,CAA5D,CAAnB,CAPiC,CAQjC;;AACAzN,GAAC,CAAC8N,UAAF,GAAoB9N,CAAC,CAAC4N,WAAF,GAAgB5N,CAAC,CAAC+N,MAAlB,GAA2BP,OAA5B,GAAuC,IAAvC,IAA+C,CAAlE;AACAxN,GAAC,CAACgO,cAAF,GAAmBrE,GAAG,CAAC3J,CAAC,CAAC0N,WAAF,GAAgB1N,CAAC,CAAC+N,MAAlB,GAA2BP,OAA5B,CAAH,IAA2C,CAA9D;AACA;AAED,IAAMS,aAAa,GAAG;AACrBC,OAAK,EAAI,EADY;AAErBzT,SAAO,EAAE;AAFY,CAAtB;AAIA;;;;;;IAKqB0K,O;;;AAEpB,mBAAagJ,GAAb,EAAmB;AAAA;;AAClB,QAAInO,CAAC,GAAI,KAAKA,CAAL,GAAS,EAAlB;;AACAA,KAAC,CAACoO,IAAF,kFACI,KAAKlQ,WAAL,CAAiBmQ,MADrB,EAEIF,GAFJ;AAKA,SAAK5N,MAAL,GAAwB,KAAxB;AACAP,KAAC,CAACxD,GAAF,GAAwB2R,GAAG,CAAC/I,KAAJ,IAAa,CAArC;AACApF,KAAC,CAAC+N,MAAF,GAAwB,EAAxB;AACA/N,KAAC,CAACX,GAAF,GAAwB8O,GAAG,CAAC9O,GAAJ,IAAW,CAAnC;AACAW,KAAC,CAAC8E,GAAF,GAAwBqJ,GAAG,CAACrJ,GAAJ,IAAW,CAAnC;AACA9E,KAAC,CAACsO,WAAF,GAAwB,CAAxB;AACAtO,KAAC,CAACuO,cAAF,GAAwB,CAAxB;AACAvO,KAAC,CAACwO,KAAF,GAAwBxO,CAAC,CAACoO,IAAF,CAAOI,KAA/B;AACAxO,KAAC,CAAC2F,SAAF,GAAwB3F,CAAC,CAACoO,IAAF,CAAOzI,SAA/B;AACA3F,KAAC,CAACyO,SAAF,GAAwB9H,QAAQ,CAAC+H,WAAjC;AACA1O,KAAC,CAAC2O,mBAAF,GAAwB,CAAxB;AACA;;;;6BAEyB;AAAA,UAAlBC,EAAkB,uEAAb/P,IAAI,CAACC,GAAL,EAAa;AACzB,UAAIkB,CAAC,GAAG,KAAKA,CAAb;AAAA,UAAgB6O,SAAhB;AAAA,UAA2BC,IAA3B;;AACA,UAAK,CAAC9O,CAAC,CAACvF,OAAR,EAAkB;AACjB,YAAKuF,CAAC,CAACoO,IAAF,CAAOW,UAAZ,EAAyB;AACxB,iBAASD,IAAI,GAAG9O,CAAC,CAACoO,IAAF,CAAOW,UAAP,CAAkB/O,CAAC,CAACxD,GAApB,CAAhB,EAA4C;AAC3C,iBAAKwS,QAAL,CAAcF,IAAd;AACA;AACD;;AACD,eAAO9O,CAAC,CAACxD,GAAT;AACA;;AACD,UACCA,GAAG,GAAYwD,CAAC,CAACyO,SAAF,CAAY,CAACG,EAAE,GAAG5O,CAAC,CAACiP,cAAR,IAA0BjP,CAAC,CAACgO,cAAxC,IAA0DhO,CAAC,CAAC8N,UAD5E;AAAA,UAEC3O,KAAK,GAAU3C,GAAG,GAAGwD,CAAC,CAACuO,cAFxB;;AAGAvO,OAAC,CAACuO,cAAF,GAAmB/R,GAAnB;;AACA,UAAMoS,EAAE,GAAG5O,CAAC,CAACiP,cAAR,IAA2BjP,CAAC,CAACgO,cAAlC,EAAmD;AAClDhO,SAAC,CAACvF,OAAF,GAAmB,KAAK8F,MAAL,GAAc,KAAjC;AACAP,SAAC,CAACuO,cAAF,GAAmBpP,KAAK,GAAG,CAA3B;;AAEA,YAAKa,CAAC,CAACoO,IAAF,CAAOc,YAAZ,EAA2B;AAC1BlP,WAAC,CAACoO,IAAF,CAAOc,YAAP,CAAoBlP,CAAC,CAACxD,GAAtB,EAA2BwD,CAAC,CAACmP,cAA7B;AACA;AACD;;AACDhQ,WAAK,GAAOA,KAAK,IAAI,CAArB,CAtByB,CAuBzB;;AACA0P,eAAS,GAAG7O,CAAC,CAACxD,GAAF,GAAQ2C,KAApB;;AAEA,UAAKa,CAAC,CAACoO,IAAF,CAAOW,UAAZ,EAAyB;AAExB,eAASD,IAAI,GAAG9O,CAAC,CAACoO,IAAF,CAAOW,UAAP,CAAkBF,SAAlB,CAAhB,EAAgD;AAC/C;AACAA,mBAAS,IAAIC,IAAb;AACA,eAAKE,QAAL,CAAcF,IAAd;AACA;AACD;;AAED9O,OAAC,CAACxD,GAAF,GAAQqS,SAAR;AAEA,aAAOA,SAAP;AACA;;;2BAEOrS,G,EAAM;AACb,UAAIwD,CAAC,GAAc,KAAKA,CAAxB;AAAA,UAA2B6O,SAA3B;AACA7O,OAAC,CAACvF,OAAF,GAAmB,KAAnB;AACA,WAAK8F,MAAL,GAAmB,KAAnB;AACAP,OAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,OAAC,CAAC8N,UAAF,GAAmB,CAAnB;AACA9N,OAAC,CAACxD,GAAF,GAAmBA,GAAnB;AACAwD,OAAC,CAACxD,GAAF,GAAmBsI,GAAG,CAAC9E,CAAC,CAACxD,GAAH,EAAQwD,CAAC,CAAC8E,GAAV,CAAtB;AACA9E,OAAC,CAACxD,GAAF,GAAmB6C,GAAG,CAACW,CAAC,CAACxD,GAAH,EAAQwD,CAAC,CAACX,GAAV,CAAtB;AACA;;;6BAES+P,Q,EAAW;AACpB,UAAIpP,CAAC,GAAG,KAAKA,CAAb;AAAA,UAAgB6O,SAAhB;AACA,UAAK,CAAC7O,CAAC,CAACvF,OAAR,EACC,OAAOuF,CAAC,CAACxD,GAAF,IAAS4S,QAAhB;AAEDpP,OAAC,CAACuO,cAAF,IAAoBa,QAApB;AACApP,OAAC,CAACxD,GAAF,IAAS4S,QAAT;AACA;;;6BAESjQ,K,EAAkB;AAAA,UAAXD,EAAW,uEAAN,GAAM;AAC3B,UAAIc,CAAC,GAAS,KAAKA,CAAnB;AAAA,UAAsBlB,GAAG,GAAGD,IAAI,CAACC,GAAL,EAA5B;AAAA,UAAwCtC,GAAxC;AACA,WAAK+D,MAAL,GAAc,IAAd,CAF2B,CAG3B;;AACA,UAAK,CAACP,CAAC,CAACvF,OAAH,IAAcuS,MAAM,CAAC7N,KAAD,CAAN,KAAkB6N,MAAM,CAAChN,CAAC,CAAC8N,UAAH,CAA3C,EAA4D;AAC3D9N,SAAC,CAACvF,OAAF,GAAmB,IAAnB;AACAuF,SAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,SAAC,CAACiP,cAAF,GACCjP,CAAC,CAACqP,aAAF,GAAkBvQ,GADnB;AAGAkB,SAAC,CAAC8N,UAAF,GAAmB3O,KAAnB;AACAa,SAAC,CAACgO,cAAF,GAAmB9O,EAAnB;AACA,OARD,MASK;AACJc,SAAC,CAACiP,cAAF,GACCjP,CAAC,CAACqP,aAAF,GAAkBvQ,GADnB;AAEAkB,SAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,SAAC,CAAC8N,UAAF,IAAgB3O,KAAhB;AACAa,SAAC,CAACgO,cAAF,IAAoB9O,EAApB;AACA;;AACD,WAAKoQ,OAAL,CAAatC,MAAM,CAAC7N,KAAD,CAAnB,EAA4B,GAA5B;AACA;;;+BAEWA,K,EAAQ;AACnB,UAAIa,CAAC,GAAK,KAAKA,CAAf;AAAA,UAAkB8O,IAAlB;AAAA,UACItS,GAAG,GAAGwD,CAAC,CAAC8N,UAAF,IAAgB9N,CAAC,CAACxD,GAAF,IAASwD,CAAC,CAACuO,cAAF,IAAoB,CAA7B,CAAhB,IAAmDpP,KAD7D;;AAGA,UAAKa,CAAC,CAACoO,IAAF,CAAOW,UAAZ,EAAyB;AACxB,eAASD,IAAI,GAAG9O,CAAC,CAACoO,IAAF,CAAOW,UAAP,CAAkBF,SAAlB,CAAhB,EAAgD;AAC/C;AACArS,aAAG,IAAIsS,IAAP;AACA;AACD;;AACD,aAAOtS,GAAG,GAAGwD,CAAC,CAACX,GAAR,IAAe7C,GAAG,GAAGwD,CAAC,CAAC8E,GAA9B;AACA;;;4BAEQyK,S,EAAgC;AAAA,UAArBC,WAAqB,uEAAP,IAAO;AACxC,UAAIxP,CAAC,GAAK,KAAKA,CAAf;AAAA,UACIxD,GAAG,GAAGwD,CAAC,CAAC8N,UAAF,IAAgB9N,CAAC,CAACxD,GAAF,IAASwD,CAAC,CAACuO,cAAF,IAAoB,CAA7B,CAAhB,CADV;AAAA,UAC4D5U,MAD5D;AAAA,UACoE8V,GADpE;AAAA,UACyE9W,CADzE;AAAA,UAC4E+W,EAD5E;;AAIA,UAAK1P,CAAC,CAAC2F,SAAF,IAAe3F,CAAC,CAAC2F,SAAF,CAAY5M,MAAhC,EAAyC;AACxC,aAAMJ,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGqH,CAAC,CAAC2F,SAAF,CAAY5M,MAA7B,EAAqCJ,CAAC,EAAtC;AACC,cAAKqH,CAAC,CAAC2F,SAAF,CAAYhN,CAAZ,EAAeiW,EAAf,GAAoBpS,GAAzB,EACC;AAFF;;AAIA,YAAK7D,CAAC,IAAIqH,CAAC,CAAC2F,SAAF,CAAY5M,MAAtB,EAA+B;AAC9BJ,WAAC;AACD,SAFD,MAGK,IAAKA,CAAC,KAAK,CAAX,EAAe;AACnBA,WAAC,GAAG,CAAJ;AACA,SAFI,MAGA;AACJ8W,aAAG,GAAGzP,CAAC,CAAC2F,SAAF,CAAYhN,CAAC,GAAG,CAAhB,EAAmBiW,EAAnB,GAAwB,CAAC5O,CAAC,CAAC2F,SAAF,CAAYhN,CAAZ,EAAeiW,EAAf,GAAoB5O,CAAC,CAAC2F,SAAF,CAAYhN,CAAC,GAAG,CAAhB,EAAmBiW,EAAxC,IAA8C,CAA5E;AACA,cAAKW,SAAL,EAAiBA,SAAS,GAAG,CAAZ,IAAiB5W,CAAC,EAAlB,CAAjB,KACK,IAAK6D,GAAG,GAAGiT,GAAX,EAAiB9W,CAAC;AACvB;;AAED,YAAKqH,CAAC,CAACoO,IAAF,CAAOuB,OAAP,IAAkB3S,EAAE,CAACxD,MAAH,CAAUwG,CAAC,CAAC2O,mBAAZ,CAAvB,EAA0D;AACzD,cAAIiB,CAAC,GAAIjX,CAAC,GAAGqH,CAAC,CAAC2O,mBAAf,CADyD,CAEzD;;AACA,cAAKiB,CAAL,EAAS;AACRjX,aAAC,IAAIiX,CAAL;AACAjX,aAAC,IAAIqH,CAAC,CAACoO,IAAF,CAAOuB,OAAP,IAAkBC,CAAC,GAAGjG,GAAG,CAACiG,CAAD,CAAzB,CAAL;AACA,WANwD,CAMxD;;AACD;;AACDjW,cAAM,GAAGqG,CAAC,CAAC2F,SAAF,CAAYhN,CAAZ,EAAeiW,EAAxB;;AAEA,YAAK5O,CAAC,CAACoO,IAAF,CAAOyB,QAAZ,EAAuB;AACtB7P,WAAC,CAACoO,IAAF,CAAOyB,QAAP,CAAgBlX,CAAhB,EAAmBqH,CAAC,CAAC2F,SAAF,CAAYhN,CAAZ,CAAnB;AACA;;AAEDqH,SAAC,CAACuO,cAAF,GAAwBvO,CAAC,CAACuO,cAAF,IAAoB,CAA5C;AACA5U,cAAM,GAAkBA,MAAM,IAAIqG,CAAC,CAACxD,GAAF,GAAQwD,CAAC,CAACuO,cAAd,CAA9B;AACAvO,SAAC,CAACgO,cAAF,GAAwBlJ,GAAG,CAAC,EAAD,EAAKzF,GAAG,CAACmQ,WAAD,EAAc7F,GAAG,CAAE3J,CAAC,CAACgO,cAAF,GAAmBhO,CAAC,CAAC8N,UAAtB,GAAoCnU,MAArC,CAAjB,CAAR,CAAH,IAA8E,CAAtG,CAjCwC,CAkCxC;;AACAqG,SAAC,CAAC8N,UAAF,GAAwBnU,MAAxB;AACAqG,SAAC,CAACmP,cAAF,GAAwBnP,CAAC,CAAC2F,SAAF,CAAYhN,CAAZ,CAAxB;AACAqH,SAAC,CAAC2O,mBAAF,GAAwBhW,CAAxB;AACA,OAtCD,MAuCK;AACJgB,cAAM,GAAG,CAAC,EAAEqG,CAAC,CAACxD,GAAF,GAAQwD,CAAC,CAACuO,cAAZ,CAAV;;AAEA,YAAK,CAACvO,CAAC,CAACoO,IAAF,CAAO0B,QAAb,EAAwB;AACvB,cAAKnW,MAAM,GAAGqG,CAAC,CAAC8E,GAAhB,EAAsB;AACrBnL,kBAAM,GAAaqG,CAAC,CAAC8E,GAAF,GAAQnL,MAA3B;AACAqG,aAAC,CAACgO,cAAF,GAAmB3O,GAAG,CAACmQ,WAAD,EAAc7F,GAAG,CAAE3J,CAAC,CAACgO,cAAF,GAAmBhO,CAAC,CAAC8N,UAAtB,GAAoCnU,MAArC,CAAjB,CAAtB;AACAqG,aAAC,CAAC8N,UAAF,GAAmBnU,MAAnB;AACA,WAJD,MAKK,IAAKA,MAAM,GAAGqG,CAAC,CAACX,GAAhB,EAAsB;AAC1B1F,kBAAM,GAAaqG,CAAC,CAACX,GAAF,GAAQ1F,MAA3B;AACAqG,aAAC,CAACgO,cAAF,GAAmB3O,GAAG,CAACmQ,WAAD,EAAc7F,GAAG,CAAE3J,CAAC,CAACgO,cAAF,GAAmBhO,CAAC,CAAC8N,UAAtB,GAAoCnU,MAArC,CAAjB,CAAtB;AACAqG,aAAC,CAAC8N,UAAF,GAAmBnU,MAAnB;AACA;AACD;AAED;AACD;;;8BAEU0F,G,EAAKyF,G,EAAM;AACrB,UAAI9E,CAAC,GAAG,KAAKA,CAAb;AACAA,OAAC,CAACX,GAAF,GAAQA,GAAR;AACAW,OAAC,CAAC8E,GAAF,GAAQA,GAAR;AACA;;;gCAEW;AACX,UAAI9E,CAAC,GAAY,KAAKA,CAAtB;AACAA,OAAC,CAAC+P,MAAF,GAAiB/P,CAAC,CAACgQ,OAAF,GAAYnR,IAAI,CAACC,GAAL,KAAa,IAA1C;AACAkB,OAAC,CAACyN,YAAF,GAAiBzN,CAAC,CAACiQ,aAAF,GAAkB,CAAnC;AACAjQ,OAAC,CAACkQ,SAAF,GAAiB,CAAjB;AACAlQ,OAAC,CAACmQ,OAAF,GAAiB,CAAjB;AACA,WAAK5P,MAAL,GAAiB,IAAjB;AACA,WAAKC,OAAL,GAAiB,IAAjB;AACAR,OAAC,CAACvF,OAAF,GAAiB,KAAjB;AACA;;;yBAEK+B,G,EAAM;AACX,UAAIwD,CAAC,GAAG,KAAKA,CAAb;AAAA,UACI8O,IADJ;;AAEA,UAAK9O,CAAC,CAACoO,IAAF,CAAOW,UAAZ,EAAyB;AACxB,eAASD,IAAI,GAAG9O,CAAC,CAACoO,IAAF,CAAOW,UAAP,CAAkBvS,GAAlB,CAAhB,EAA0C;AACzC;AACAA,aAAG,IAAIsS,IAAP;AACA;;AACD,eAASA,IAAI,GAAG9O,CAAC,CAACoO,IAAF,CAAOW,UAAP,CAAkB/O,CAAC,CAACxD,GAApB,CAAhB,EAA4C;AAC3C;AACAwD,WAAC,CAACxD,GAAF,IAASsS,IAAT;AACA;AACD;;AACD,UAAIhQ,GAAG,GAAYD,IAAI,CAACC,GAAL,KAAa,IAAhC;AAAA,UAAqC;AACjCsR,kBAAY,GAAItR,GAAG,GAAGkB,CAAC,CAAC+P,MAD5B;AAAA,UAEI5Q,KAAK,GAAU3C,GAAG,GAAGwD,CAAC,CAACxD,GAF3B;AAAA,UAGI6T,IAAI,GAAWlR,KAAK,GAAGiR,YAH3B,CAbW,CAiBX;AACA;AACA;;AACApQ,OAAC,CAACiQ,aAAF,GAAkBI,IAAlB;AACArQ,OAAC,CAACyN,YAAF,GAAkB4C,IAAlB;AACArQ,OAAC,CAAC+P,MAAF,GAAkBjR,GAAlB;;AAEA,UAAK,CAACkB,CAAC,CAACoO,IAAF,CAAO0B,QAAb,EAAwB;AACvB,YAAKtT,GAAG,GAAGwD,CAAC,CAAC8E,GAAb,EAAmB;AAClBtI,aAAG,GAAGwD,CAAC,CAAC8E,GAAF,GAAQzF,GAAG,CAAC,CAAC7C,GAAG,GAAGwD,CAAC,CAAC8E,GAAT,IAAgB,EAAjB,EAAqB,EAArB,CAAjB;AACA,SAFD,MAGK,IAAKtI,GAAG,GAAGwD,CAAC,CAACX,GAAb,EAAmB;AACvB7C,aAAG,GAAGwD,CAAC,CAACX,GAAF,GAAQA,GAAG,CAAC,CAACW,CAAC,CAACX,GAAF,GAAQ7C,GAAT,IAAgB,EAAjB,EAAqB,EAArB,CAAjB;AACA;AACD;;AAEDwD,OAAC,CAACxD,GAAF,GAAQA,GAAR;AAEA;;;8BAES;AACT,UAAIwD,CAAC,GAAU,KAAKA,CAApB;AAAA,UACIwN,OAAO,GAAIR,MAAM,CAAChN,CAAC,CAACyN,YAAH,CADrB;AAEA,WAAKjN,OAAL,GAAe,KAAf;;AACA,UAAKR,CAAC,CAACxD,GAAF,GAAQwD,CAAC,CAAC8E,GAAf,EAAqB;AACpB,aAAKvE,MAAL,GAAmB,IAAnB;AACAP,SAAC,CAACvF,OAAF,GAAmB,IAAnB;AACAuF,SAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,SAAC,CAACiP,cAAF,GACCjP,CAAC,CAACqP,aAAF,GAAkBxQ,IAAI,CAACC,GAAL,EADnB;AAGAkB,SAAC,CAAC8N,UAAF,GAAmB9N,CAAC,CAAC8E,GAAF,GAAQ9E,CAAC,CAACxD,GAA7B;AACAwD,SAAC,CAACgO,cAAF,GAAmBrE,GAAG,CAAC3J,CAAC,CAAC8N,UAAF,GAAe,EAAhB,CAAtB;AACA,OATD,MAUK,IAAK9N,CAAC,CAACxD,GAAF,GAAQwD,CAAC,CAACX,GAAf,EAAqB;AACzB,aAAKkB,MAAL,GAAmB,IAAnB;AACAP,SAAC,CAACvF,OAAF,GAAmB,IAAnB;AACAuF,SAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,SAAC,CAACiP,cAAF,GACCjP,CAAC,CAACqP,aAAF,GAAkBxQ,IAAI,CAACC,GAAL,EADnB;AAGAkB,SAAC,CAAC8N,UAAF,GAAmB9N,CAAC,CAACxD,GAAF,GAAQwD,CAAC,CAACX,GAA7B;AACAW,SAAC,CAACgO,cAAF,GAAmBrE,GAAG,CAAC3J,CAAC,CAAC8N,UAAF,GAAe,EAAhB,CAAtB;AACA,OATI,MAUA;AACJ;AACAxD,oBAAY,CAACtK,CAAD,CAAZ;AAEA,YAAK,CAACA,CAAC,CAACgO,cAAR,EACChO,CAAC,CAACgO,cAAF,GAAmB,EAAnB,CALG,CAOJ;;AACA,aAAKzN,MAAL,GAAmB,IAAnB;AACAP,SAAC,CAACvF,OAAF,GAAmB,IAAnB;AACAuF,SAAC,CAACuO,cAAF,GAAmB,CAAnB;AACAvO,SAAC,CAACiP,cAAF,GACCjP,CAAC,CAACqP,aAAF,GAAkBxQ,IAAI,CAACC,GAAL,EADnB;AAEA;;AACD,WAAKwQ,OAAL,CAAa,IAAb,EAAmB,GAAnB;AACA;;;;;;;;;;;;;;;;;;AC1UF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA,IAAIjV,KAAK,GAAG;AACX,YAA+B;AAAE,kBAAc,CAAC,WAAD,EAAc,aAAd,EAA6B,cAA7B,EAA6C,YAA7C;AAAhB,GADpB;AAEX,kBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAFpB;AAGX,gBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAHpB;AAIX,iBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAJpB;AAKX,eAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GALpB;AAMX,aAA+B;AAAE,kBAAc,CAAC,YAAD,EAAe,cAAf,EAA+B,eAA/B,EAAgD,aAAhD;AAAhB,GANpB;AAOX,mBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAPpB;AAQX,iBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GARpB;AASX,kBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GATpB;AAUX,gBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAVpB;AAWX,YAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAXpB;AAYX,UAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAZpB;AAaX,WAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAbpB;AAcX,SAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAdpB;AAeX,YAA+B;AAAE,aAAS,CAAC,SAAD;AAAX,GAfpB;AAgBX,WAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAhBpB;AAiBX,cAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAjBpB;AAkBX,cAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAlBpB;AAmBX,YAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAnBpB;AAoBX,eAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GApBpB;AAqBX,eAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GArBpB;AAsBX,gBAA+B;AAAE,aAAS,CAAC,QAAD,EAAW,QAAX;AAAX,GAtBpB;AAuBX,mBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAvBpB;AAwBX,gBAA+B;AAAE,aAAS,CAAC,YAAD;AAAX,GAxBpB;AAyBX,mBAA+B;AAAE,aAAS,CAAC,QAAD,CAAX;AAAuB,gBAAY;AAAnC,GAzBpB;AA0BX,WAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GA1BpB;AA2BX,aAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA3BpB;AA4BX,gBAA+B;AAAE,kBAAc,CAAC,iBAAD,EAAoB,oBAApB,EAA0C,gBAA1C;AAAhB,GA5BpB;AA6BX,qBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GA7BpB;AA8BX,wBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY,IAAnD;AAAyD,kBAAc;AAAvE,GA9BpB;AA+BX,oBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY,IAAnD;AAAyD,kBAAc;AAAvE,GA/BpB;AAgCX,YAA+B;AAAE,kBAAc,CAAC,aAAD,EAAgB,aAAhB;AAAhB,GAhCpB;AAiCX,kBAA+B;AAAE,kBAAc,CAAC,mBAAD,EAAsB,mBAAtB;AAAhB,GAjCpB;AAkCX,gBAA+B;AAAE,kBAAc,CAAC,iBAAD,EAAoB,iBAApB;AAAhB,GAlCpB;AAmCX,iBAA+B;AAAE,kBAAc,CAAC,kBAAD,EAAqB,kBAArB;AAAhB,GAnCpB;AAoCX,eAA+B;AAAE,kBAAc,CAAC,gBAAD,EAAmB,gBAAnB;AAAhB,GApCpB;AAqCX,iBAA+B;AAAE,kBAAc,CAAC,gBAAD,EAAmB,kBAAnB,EAAuC,mBAAvC,EAA4D,iBAA5D;AAAhB,GArCpB;AAsCX,iBAA+B;AAAE,kBAAc,CAAC,gBAAD,EAAmB,kBAAnB,EAAuC,mBAAvC,EAA4D,iBAA5D;AAAhB,GAtCpB;AAuCX,uBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GAvCpB;AAwCX,qBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GAxCpB;AAyCX,sBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GAzCpB;AA0CX,oBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GA1CpB;AA2CX,uBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA3CpB;AA4CX,qBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA5CpB;AA6CX,sBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA7CpB;AA8CX,oBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA9CpB;AA+CX,kBAA+B;AAAE,kBAAc,CAAC,qBAAD,EAAwB,sBAAxB,EAAgD,yBAAhD,EAA2E,wBAA3E;AAAhB,GA/CpB;AAgDX,yBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GAhDpB;AAiDX,0BAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GAjDpB;AAkDX,6BAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GAlDpB;AAmDX,4BAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GAnDpB;AAoDX,eAA+B;AAAE,aAAS,CAAC,aAAD;AAAX,GApDpB;AAqDX,gBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GArDpB;AAsDX,aAA+B;AAAE,kBAAc,CAAC,cAAD,EAAiB,cAAjB;AAAhB,GAtDpB;AAuDX,kBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GAvDpB;AAwDX,kBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAxDpB;AAyDX,mBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAzDpB;AA0DX,UAA+B;AAAE,kBAAc,CAAC,UAAD,EAAa,YAAb,EAA2B,WAA3B;AAAhB,GA1DpB;AA2DX,cAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA3DpB;AA4DX,gBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA5DpB;AA6DX,eAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GA7DpB;AA8DX,WAA+B;AAAE,aAAS,CAAC,SAAD;AAAX,GA9DpB;AA+DX,UAA+B;AAAE,kBAAc,CAAC,YAAD,EAAe,aAAf,EAA8B,UAA9B,EAA0C,YAA1C;AAAhB,GA/DpB;AAgEX,gBAA+B;AAAE,aAAS,CAAC,aAAD;AAAX,GAhEpB;AAiEX,iBAA+B;AAAE,aAAS,CAAC,cAAD;AAAX,GAjEpB;AAkEX,cAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAlEpB;AAmEX,oBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAnEpB;AAoEX,yBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GApEpB;AAqEX,sBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GArEpB;AAsEX,kBAA+B;AAAE,kBAAc,CAAC,kBAAD,EAAqB,qBAArB;AAAhB,GAtEpB;AAuEX,UAA+B;AAAE,kBAAc,CAAC,kBAAD,EAAqB,qBAArB;AAAhB,GAvEpB;AAwEX,gBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAxEpB;AAyEX,mBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAzEpB;AA0EX,aAA+B;AAAE,kBAAc,CAAC,YAAD,EAAe,eAAf;AAAhB,GA1EpB;AA2EX,UAA+B;AAAE,aAAS,CAAC,WAAD;AAAX,GA3EpB;AA4EX,cAA+B;AAAE,aAAS,CAAC,aAAD;AAAX,GA5EpB;AA6EX,UAA+B;AAAE,kBAAc,CAAC,cAAD,EAAiB,UAAjB;AAAhB,GA7EpB;AA8EX,kBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY,IAAnD;AAAyD,kBAAc;AAAvE,GA9EpB;AA+EX,cAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY,IAAnD;AAAyD,kBAAc;AAAvE,GA/EpB;AAgFX,kBAA+B;AAAE,aAAS,CAAC,aAAD;AAAX,GAhFpB;AAiFX,iBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAjFpB;AAkFX,yBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAlFpB;AAmFX,mBAA+B;AAAE,kBAAc,CAAC,kBAAD,EAAqB,oBAArB,EAA2C,qBAA3C,EAAkE,mBAAlE;AAAhB,GAnFpB;AAoFX,sBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GApFpB;AAqFX,wBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GArFpB;AAsFX,yBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAtFpB;AAuFX,uBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAvFpB;AAwFX,wBAA+B;AAAE,kBAAc,CAAC,yBAAD,EAA4B,uBAA5B;AAAhB,GAxFpB;AAyFX,6BAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAzFpB;AA0FX,2BAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GA1FpB;AA2FX,yBAA+B;AAAE,kBAAc,CAAC,0BAAD,EAA6B,wBAA7B;AAAhB,GA3FpB;AA4FX,8BAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GA5FpB;AA6FX,4BAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GA7FpB;AA8FX,sBAA+B;AAAE,kBAAc,CAAC,qBAAD,EAAwB,uBAAxB,EAAiD,wBAAjD,EAA2E,sBAA3E;AAAhB,GA9FpB;AA+FX,yBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA/FpB;AAgGX,2BAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAhGpB;AAiGX,4BAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAjGpB;AAkGX,0BAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAlGpB;AAmGX,2BAA+B;AAAE,kBAAc,CAAC,4BAAD,EAA+B,0BAA/B;AAAhB,GAnGpB;AAoGX,gCAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GApGpB;AAqGX,8BAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GArGpB;AAsGX,4BAA+B;AAAE,kBAAc,CAAC,6BAAD,EAAgC,2BAAhC;AAAhB,GAtGpB;AAuGX,iCAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAvGpB;AAwGX,+BAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAxGpB;AAyGX,oBAA+B;AAAE,kBAAc,CAAC,qBAAD;AAAhB,GAzGpB;AA0GX,yBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GA1GpB;AA2GX,kBAA+B;AAAE,kBAAc,CAAC,mBAAD;AAAhB,GA3GpB;AA4GX,uBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GA5GpB;AA6GX,gBAA+B;AAAE,aAAS,CAAC,aAAD;AAAX,GA7GpB;AA8GX,aAA+B;AAAE,kBAAc,CAAC,aAAD,EAAgB,aAAhB;AAAhB,GA9GpB;AA+GX,iBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA/GpB;AAgHX,iBAA+B;AAAE,aAAS,CAAC,SAAD;AAAX,GAhHpB;AAiHX,eAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAjHpB;AAkHX,gBAA+B;AAAE,kBAAc,CAAC,iBAAD,EAAoB,iBAApB;AAAhB,GAlHpB;AAmHX,qBAA+B;AAAE,aAAS,CAAC,OAAD;AAAX,GAnHpB;AAoHX,qBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GApHpB;AAqHX,mBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GArHpB;AAsHX,aAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GAtHpB;AAuHX,gBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAvHpB;AAwHX,iBAA+B;AAAE,aAAS,CAAC,wBAAD;AAAX,GAxHpB;AAyHX,eAA+B;AAAE,aAAS,CAAC,WAAD;AAAX,GAzHpB;AA0HX,qBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GA1HpB;AA2HX,iBAA+B;AAAE,aAAS,CAAC,QAAD;AAAX,GA3HpB;AA4HX,uBAA+B;AAAE,aAAS,CAAC,wBAAD,CAAX;AAAuC,gBAAY;AAAnD,GA5HpB,CA+HZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA7LY,CAAZ;AA8LO,SAASiW,uBAAT,CAAkCC,QAAlC,EAA4CnL,KAA5C,EAAiE;AAAA,MAAdzL,MAAc,uEAAL,EAAK;AACvE,MAAI6W,IAAI,GAASnW,KAAK,CAACkW,QAAD,CAAtB;AAAA,MACIE,UAAU,GAAGD,IAAI,IAAIA,IAAI,CAACE,UAD9B;AAAA,MAEIC,MAAM,GAAOvL,KAAK,CAACtM,KAAN,CAAY,GAAZ,CAFjB;AAIA2X,YAAU,IAAIA,UAAU,CAACnY,OAAX,CACb,UAAEqU,CAAF,EAAKhU,CAAL,EAAY;AACXgB,UAAM,CAACgT,CAAD,CAAN,GAAYgE,MAAM,CAAChY,CAAC,GAAGgY,MAAM,CAAC5X,MAAZ,CAAlB;AACA,GAHY,CAAd;AAKA,SAAOY,MAAP;AACA;AAAA;AAEM,SAASiX,mBAAT,CAA8BL,QAA9B,EAAyC;AAC/C,MAAIC,IAAI,GAASnW,KAAK,CAACkW,QAAD,CAAtB;AAAA,MACIE,UAAU,GAAGD,IAAI,IAAIA,IAAI,CAACE,UAD9B;AAEA,SAAOD,UAAU,IAAI,CAAC,CAACA,UAAU,CAAC1X,MAAlC;AACA;AAAA;AAGM,SAAS8X,kBAAT,CAA6BN,QAA7B,EAAuCnL,KAAvC,EAA+C;AACrD,SAAO,CAAC,CAAC/K,KAAK,CAACkW,QAAD,CAAd;AACA;AAAA;AAED;;;;;;AAKO,SAASO,UAAT,CAAqBP,QAArB,EAAgC;AACtC,SAAOlW,KAAK,CAAC+C,cAAN,CAAqBmT,QAArB,CAAP;AACA;AAAA;AAED;;;;;;;AAMO,SAASQ,WAAT,CAAsBR,QAAtB,EAAgCS,MAAhC,EAAyC;AAC/C,MAAK,CAACC,OAAO,CAACH,UAAR,CAAmBP,QAAnB,CAAN,EAAqC;AACpC,WAAO,IAAP;AACA;;AACD,MAAIW,IAAI,GAAG7W,KAAK,CAACkW,QAAD,CAAhB;AACA,MAAIY,GAAG,GAAI;AAAE1Y,QAAI,EAAE8X;AAAR,GAAX;AACAvX,QAAM,CAACX,IAAP,CAAY6Y,IAAZ,EAAkB5Y,OAAlB,CAA0B,UAAWC,GAAX,EAAiB;AAC1C,QAAI6M,KAAK,GAAG8L,IAAI,CAAC3Y,GAAD,CAAhB;;AACA,QAAK6Y,KAAK,CAACvT,OAAN,CAAcuH,KAAd,CAAL,EAA4B;AAC3B,UAAK7M,GAAG,KAAK,YAAR,IAAwByY,MAA7B,EAAsC;AACrC5L,aAAK,GAAGA,KAAK,CAACxL,GAAN,CAAU,UAAWyX,OAAX,EAAqB;AACtC,iBAAOJ,OAAO,CAACF,WAAR,CAAoBM,OAApB,EAA6BL,MAA7B,CAAP;AACA,SAFO,CAAR;AAGA,OAJD,MAKK;AACJ5L,aAAK,GAAGA,KAAK,CAACvE,KAAN,EAAR,CADI,CACmB;AACvB;AACD;;AACDsQ,OAAG,CAAC5Y,GAAD,CAAH,GAAW6M,KAAX;AACA,GAbD;AAcA,SAAO+L,GAAP;AACA;AAAA,C;;;;;;;;;;;ACxQD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wF;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,IACCG,OAAO,GAAW,IAAIC,MAAJ,CACjB,qCACA,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,IAA1C,EAAgD,IAAhD,EAAsD,IAAtD,EAA4D,KAA5D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,MAA/E,EAAuF,MAAvF,EAA+FC,IAA/F,CAAoG,GAApG,CADA,GAEE,GAHe,CADnB;AAAA,IAMCC,QAAQ,GAAU,SAAlBA,QAAkB,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AACnC,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CATF;AAAA,IAUC6F,YAAY,GAAM;AACjBC,MAAI,EAAI,IADS;AAEjBC,OAAK,EAAG,IAFS;AAGjBC,KAAG,EAAK,IAHS;AAIjBC,QAAM,EAAE,IAJS;AAKjBC,OAAK,EAAG,IALS;AAMjBC,QAAM,EAAE;AANS,CAVnB;AAAA,IAiBIC,YAAY,GAAG;AACjBtP,SAAO,EAAE;AADQ,CAjBnB;;AAqBA,SAASuP,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAoD;AACnDtH,QAAM,CAACpB,GAAD,CAAN,GAAc8Z,IAAI,CAAC9Z,GAAD,CAAJ,GAAYkZ,QAAQ,CAACW,SAAS,CAAC7Z,GAAD,CAAV,EAAiB,CAAjB,CAAR,GAA8B8Z,IAAI,CAAC9Z,GAAD,CAA9C,GAAsDkZ,QAAQ,CAACW,SAAS,CAAC7Z,GAAD,CAAV,EAAiB,CAAjB,CAA5E;AACA;;AAEc,yEAAEA,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAAsCqQ,UAAtC,EAAsD;AAEpE,MAAI5Z,KAAK,GAAGsE,yCAAE,CAACzB,MAAH,CAAU6J,KAAV,IAAmBA,KAAK,CAAC1M,KAAN,CAAY4Y,OAAZ,CAAnB,GAA0C,KAAtD;AAEArP,UAAQ,CAAC1J,GAAD,CAAR,GAAgByE,yCAAE,CAACxD,MAAH,CAAUyI,QAAQ,CAAC1J,GAAD,CAAlB,IAA2B0J,QAAQ,CAAC1J,GAAD,CAAnC,GAA2C2Z,YAAY,CAAC3Z,GAAD,CAAZ,IAAqB,CAAhF;;AACA,MAAKG,KAAL,EAAa;AACZ,QAAK,CAAC4Z,UAAD,IAAeD,IAAI,CAAC9Z,GAAD,CAAnB,IAA4B8Z,IAAI,CAAC9Z,GAAD,CAAJ,KAAcG,KAAK,CAAC,CAAD,CAApD,EAA0D;AACzDqN,aAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDzN,GAAhD,EAAqD,aAAa8Z,IAAI,CAAC9Z,GAAD,CAAtE,EAA6E,SAASG,KAAK,CAAC,CAAD,CAA3F;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAc,CAAd;AACA,KAHD,MAIK;AACJ8Z,UAAI,CAAC9Z,GAAD,CAAJ,GAAcG,KAAK,CAAC,CAAD,CAAnB;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAcga,UAAU,CAAC7Z,KAAK,CAAC,CAAD,CAAN,CAAxB;AACA;AACD,GATD,MAUK;AACJiB,UAAM,CAACpB,GAAD,CAAN,GAAc6M,KAAd;AACA,QAAK,CAACiN,IAAI,CAAC9Z,GAAD,CAAL,IAAcA,GAAG,IAAIoZ,YAA1B,EACCU,IAAI,CAAC9Z,GAAD,CAAJ,GAAYoZ,YAAY,CAACpZ,GAAD,CAAxB;AACD;;AAED,SAAO4Z,KAAP;AACA,CAtBD,E;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,IACCb,OAAO,GAAQ,IAAIC,MAAJ,CACd,qCACA,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,IAA1C,EAAgD,IAAhD,EAAsD,IAAtD,EAA4D,KAA5D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,MAA/E,EAAuF,MAAvF,EAA+FC,IAA/F,CAAoG,GAApG,CADA,GAEE,GAHY,CADhB;AAAA,IAMCC,QAAQ,GAAO,SAAfA,QAAe,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAChC,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CATF;AAAA,IAUC6F,YAAY,GAAG;AACda,MAAI,EAAQ,IADE;AAEdC,YAAU,EAAE,GAFE;AAGdC,UAAQ,EAAI,GAHE;AAIdC,YAAU,EAAE,IAJE;AAKdC,WAAS,EAAG,GALE;AAMdC,WAAS,EAAG,KANE;AAOdC,QAAM,EAAM,GAPE;AAQdlQ,SAAO,EAAK,GARE;AASdmQ,UAAQ,EAAI,GATE;AAUdC,OAAK,EAAO;AAVE,CAVhB;;AAsBA,IAAMC,OAAO,GAAM,EAAnB;;AAEA,SAASd,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAoD;AAEnD,MAAKoR,IAAI,CAAC,aAAD,CAAJ,KAAwB9Z,GAA7B,EAAmC;AAClC,QAAI0a,QAAO,GAAG,EAAd;AACAja,UAAM,CAACX,IAAP,CAAYga,IAAI,CAAC9Z,GAAD,CAAhB,EAAuBD,OAAvB,CACC,UAAA4a,IAAI,EAAI;AACP,UAAIC,IAAI,GAAU5a,GAAG,GAAG,GAAN,GAAY2a,IAA9B;AACAb,UAAI,CAAC9Z,GAAD,CAAJ,CAAU2a,IAAV,IAAkB,IAAlB;AACAD,cAAO,IAAIC,IAAI,GAAG,GAAP,GAAazB,QAAQ,CAACW,SAAS,CAACe,IAAD,CAAV,EAAkB,CAAlB,CAArB,GAA4Cd,IAAI,CAACc,IAAD,CAAhD,GAAyD,IAApE;AACA,KALF;AAOAxZ,UAAM,CAACR,MAAP,GAAgB8Z,QAAhB;AACA;AAED;;AAEc,yEAAE1a,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAA0C;AAExDoQ,MAAI,CAAC,aAAD,CAAJ,GAAsBA,IAAI,CAAC,aAAD,CAAJ,IAAuB9Z,GAA7C;AACA8Z,MAAI,CAAC9Z,GAAD,CAAJ,GAAsB8Z,IAAI,CAAC9Z,GAAD,CAAJ,IAAa,EAAnC;AACA0J,UAAQ,CAAC1J,GAAD,CAAR,GAAsB,CAAtB;AAEAS,QAAM,CAACX,IAAP,CAAY+M,KAAZ,EAAmB9M,OAAnB,CACC,UAAA4a,IAAI,EAAI;AACP,QAAIE,MAAM,GAAQhO,KAAK,CAAC8N,IAAD,CAAvB;AAAA,QACIC,IAAI,GAAU5a,GAAG,GAAG,GAAN,GAAY2a,IAD9B;AAAA,QAEIxa,KAAK,GAASsE,yCAAE,CAACzB,MAAH,CAAU6X,MAAV,IAAoBA,MAAM,CAAC1a,KAAP,CAAa4Y,OAAb,CAApB,GAA4C,KAF9D;AAGAe,QAAI,CAAC9Z,GAAD,CAAJ,CAAU2a,IAAV,IAAkB,IAAlB;AACAjR,YAAQ,CAACkR,IAAD,CAAR,GAAkB,CAAlB;;AACA,QAAKza,KAAL,EAAa;AACZ,UAAK2Z,IAAI,CAACc,IAAD,CAAJ,IAAcd,IAAI,CAACc,IAAD,CAAJ,KAAeza,KAAK,CAAC,CAAD,CAAvC,EAA6C;AAC5CqN,eAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDmN,IAAhD,EAAsD,aAAad,IAAI,CAACc,IAAD,CAAvE,EAA+E,SAASza,KAAK,CAAC,CAAD,CAA7F;AACAiB,cAAM,CAACwZ,IAAD,CAAN,GAAe,CAAf;AACA,OAHD,MAIK;AACJd,YAAI,CAACc,IAAD,CAAJ,GAAeza,KAAK,CAAC,CAAD,CAApB;AACAiB,cAAM,CAACwZ,IAAD,CAAN,GAAeZ,UAAU,CAAC7Z,KAAK,CAAC,CAAD,CAAN,CAAzB;AACA;AACD,KATD,MAUK;AACJiB,YAAM,CAACwZ,IAAD,CAAN,GAAeC,MAAf;AACA,UAAK,CAACf,IAAI,CAACc,IAAD,CAAL,IAAeD,IAAI,IAAIvB,YAA5B,EACCU,IAAI,CAACc,IAAD,CAAJ,GAAaxB,YAAY,CAACuB,IAAD,CAAzB;AACD;AACD,GAtBF;AAwBA,SAAOf,KAAP;AACA,CA/BD,E;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,IACCb,OAAO,GAAQ,IAAIC,MAAJ,CACd,qCACA,CAAC,MAAD,EAAS,KAAT,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,GAAxC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD,EAA+D,IAA/D,EAAqE,IAArE,EAA2E,IAA3E,EAAiF,IAAjF,EAAuF,KAAvF,EAA8F,IAA9F,EAAoG,IAApG,EAA0G,MAA1G,EAAkH,MAAlH,EAA0HC,IAA1H,CAA+H,GAA/H,CADA,GAEE,GAHY,CADhB;AAAA,IAMCC,QAAQ,GAAO,SAAfA,QAAe,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAChC,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CATF;AAAA,IAUC6F,YAAY,GAAG;AACd;AACA;AACA0B,YAAU,EAAG,IAHC;AAIdC,YAAU,EAAG,IAJC;AAKdC,YAAU,EAAG,IALC;AAMdC,OAAK,EAAQ,EANC;AAOd;AACA;AACAC,QAAM,EAAO,KATC;AAUd;AACAC,OAAK,EAAQ,KAXC;AAYdC,OAAK,EAAQ,KAZC;AAad;AACA;AACA;AACAC,QAAM,EAAO,IAhBC;AAiBd;AACAC,SAAO,EAAM,KAlBC;AAmBdC,SAAO,EAAM,KAnBC;AAoBdC,SAAO,EAAM,KApBC;AAqBdC,aAAW,EAAE;AArBC,CAVhB;;AAkCA,SAAS7B,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAoD;AAEnD,MAAKoR,IAAI,CAAC,gBAAD,CAAJ,KAA2B9Z,GAAhC,EAAsC;AACrC,QAAI0b,UAAU,GAAG,EAAjB;AACA5B,QAAI,CAAC9Z,GAAD,CAAJ,CAAUD,OAAV,CACC,UAAEuT,IAAF,EAAQlT,CAAR;AAAA,aAAeK,MAAM,CAACX,IAAP,CAAYwT,IAAZ,EAAkBvT,OAAlB,CACd,UAAA4a,IAAI,EAAI;AACP,YAAIC,IAAI,GAAG5a,GAAG,GAAG,GAAN,GAAY2a,IAAZ,GAAmB,GAAnB,GAAyBva,CAApC;AAAA,YAAuCyM,KAAvC;AAEA,YAAKiN,IAAI,CAACc,IAAD,CAAJ,KAAe,KAApB,EACCf,SAAS,CAACe,IAAD,CAAT,GAAkBf,SAAS,CAACe,IAAD,CAAT,GAAkB,GAApC;;AAED,YAAKd,IAAI,CAACc,IAAD,CAAJ,KAAe,KAApB,EAA4B;AAC3B,cAAKD,IAAI,KAAK,YAAd,EACC9N,KAAK,GAAGgN,SAAS,CAACe,IAAD,CAAT,GAAkBlS,GAAG,CAACX,CAA9B,CADD,KAEK,IAAK4S,IAAI,KAAK,YAAd,EACJ9N,KAAK,GAAGgN,SAAS,CAACe,IAAD,CAAT,GAAkBlS,GAAG,CAACN,CAA9B,CADI,KAEA,IAAKuS,IAAI,KAAK,YAAd,EACJ9N,KAAK,GAAGgN,SAAS,CAACe,IAAD,CAAT,GAAkBlS,GAAG,CAACC,CAA9B;AACD+S,oBAAU,IAAIf,IAAI,GAAG,GAAP,GAAazB,QAAQ,CAACrM,KAAD,EAAQ,CAAR,CAArB,GAAkC,MAAhD;AACA,SARD,MASK;AACJA,eAAK,GAAGgN,SAAS,CAACe,IAAD,CAAjB;AACAc,oBAAU,IAAIf,IAAI,GAAG,GAAP,GAAazB,QAAQ,CAACrM,KAAD,EAAQ,CAAR,CAArB,GAAkCiN,IAAI,CAACc,IAAD,CAAtC,GAA+C,IAA7D;AACA;AAGD,OAtBa,CAAf;AAAA,KADD;AA0BAxZ,UAAM,CAACP,SAAP,GAAmB6a,UAAnB;AACA;AAED;;AAEc,yEAAE1b,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAAsCqQ,UAAtC,EAAsD;AAEpED,MAAI,CAAC,gBAAD,CAAJ,GAAyBA,IAAI,CAAC,gBAAD,CAAJ,IAA0B9Z,GAAnD;AACA8Z,MAAI,CAAC9Z,GAAD,CAAJ,GAAyB8Z,IAAI,CAAC9Z,GAAD,CAAJ,IAAa,CAAC,EAAD,CAAtC;AACA0J,UAAQ,CAAC1J,GAAD,CAAR,GAAyB,CAAzB;AAEA,MAAK,CAACyE,yCAAE,CAACvB,KAAH,CAAS2J,KAAT,CAAN,EACCA,KAAK,GAAG,CAACA,KAAD,CAAR;AAEDA,OAAK,CAAC9M,OAAN,CACC,UAAEuT,IAAF,EAAQlT,CAAR;AAAA,WACCK,MAAM,CAACX,IAAP,CAAYwT,IAAZ,EAAkBvT,OAAlB,CACC,UAAA4a,IAAI,EAAI;AACP,UAAIE,MAAM,GAAWvH,IAAI,CAACqH,IAAD,CAAzB;AAAA,UACIC,IAAI,GAAa5a,GAAG,GAAG,GAAN,GAAY2a,IAAZ,GAAmB,GAAnB,GAAyBva,CAD9C;AAAA,UAEID,KAAK,GAAYsE,yCAAE,CAACzB,MAAH,CAAU6X,MAAV,IAAoBA,MAAM,CAAC1a,KAAP,CAAa4Y,OAAb,CAApB,GAA4C,KAFjE;AAGAe,UAAI,CAAC9Z,GAAD,CAAJ,CAAUI,CAAV,IAAqB0Z,IAAI,CAAC9Z,GAAD,CAAJ,CAAUI,CAAV,KAAgB,EAArC;AACA0Z,UAAI,CAAC9Z,GAAD,CAAJ,CAAUI,CAAV,EAAaua,IAAb,IAAqB,IAArB;AACAjR,cAAQ,CAACkR,IAAD,CAAR,GAAqB,CAArB;;AACA,UAAKza,KAAL,EAAa;AACZ,YAAK,CAAC4Z,UAAD,IAAeD,IAAI,CAACc,IAAD,CAAnB,IAA6Bd,IAAI,CAACc,IAAD,CAAJ,KAAeza,KAAK,CAAC,CAAD,CAAtD,EAA4D;AAC3DqN,iBAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDmN,IAAhD,EAAsD,aAAad,IAAI,CAACc,IAAD,CAAvE,EAA+E,SAASza,KAAK,CAAC,CAAD,CAA7F;AACAiB,gBAAM,CAACwZ,IAAD,CAAN,GAAe,CAAf;AACA,SAHD,MAIK;AACJd,cAAI,CAACc,IAAD,CAAJ,GAAeza,KAAK,CAAC,CAAD,CAApB;AACAiB,gBAAM,CAACwZ,IAAD,CAAN,GAAeZ,UAAU,CAAC7Z,KAAK,CAAC,CAAD,CAAN,CAAzB;AACA;AACD,OATD,MAUK;AACJiB,cAAM,CAACwZ,IAAD,CAAN,GAAeC,MAAf;AACA,YAAK,CAACf,IAAI,CAACc,IAAD,CAAL,IAAeD,IAAI,IAAIvB,YAA5B,EACCU,IAAI,CAACc,IAAD,CAAJ,GAAaxB,YAAY,CAACuB,IAAD,CAAzB;AACD;AACD,KAvBF,CADD;AAAA,GADD;AA4BA,SAAOf,KAAP;AACA,CAtCD,E;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8F;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,SAASA,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA+C;AAC9C1Y,QAAM,CAACpB,GAAD,CAAN,GAAc,UAAU6Z,SAAS,CAAC7Z,GAAG,GAAG,IAAP,CAAnB,GAAkC,IAAlC,GAAyC6Z,SAAS,CAAC7Z,GAAG,GAAG,IAAP,CAAlD,GAAiE,IAAjE,GAAwE6Z,SAAS,CAAC7Z,GAAG,GAAG,IAAP,CAAjF,GAAgG,IAAhG,GAAuG6Z,SAAS,CAAC7Z,GAAG,GAAG,IAAP,CAAhH,GAA+H,GAA7I;AACA;;AAEc,yEAAEA,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAA0C;AACxD,MAAIiS,IAAI,GAAaC,iDAAI,CAAC/O,KAAD,CAAzB;AACAzL,QAAM,CAACpB,GAAG,GAAG,IAAP,CAAN,GAAqB2b,IAAI,CAAC,CAAD,CAAzB;AACAva,QAAM,CAACpB,GAAG,GAAG,IAAP,CAAN,GAAqB2b,IAAI,CAAC,CAAD,CAAzB;AACAva,QAAM,CAACpB,GAAG,GAAG,IAAP,CAAN,GAAqB2b,IAAI,CAAC,CAAD,CAAzB;AACAva,QAAM,CAACpB,GAAG,GAAG,IAAP,CAAN,GAAqB2b,IAAI,CAAC,CAAD,CAAzB;AAEAjS,UAAQ,CAAC1J,GAAG,GAAG,IAAP,CAAR,GAAuB,CAAvB;AACA0J,UAAQ,CAAC1J,GAAG,GAAG,IAAP,CAAR,GAAuB,CAAvB;AACA0J,UAAQ,CAAC1J,GAAG,GAAG,IAAP,CAAR,GAAuB,CAAvB;AACA0J,UAAQ,CAAC1J,GAAG,GAAG,IAAP,CAAR,GAAuB,CAAvB;AAEA,SAAO4Z,KAAP;AACA,CAbD,E;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,IACCb,OAAO,GAAQ,IAAIC,MAAJ,CACd,qCACA,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,IAA1C,EAAgD,IAAhD,EAAsD,IAAtD,EAA4D,KAA5D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,MAA/E,EAAuF,MAAvF,EAA+FC,IAA/F,CAAoG,GAApG,CADA,GAEE,GAHY,CADhB;AAAA,IAMCC,QAAQ,GAAO,SAAfA,QAAe,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAChC,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CATF;AAAA,IAUC6F,YAAY,GAAG;AACdC,MAAI,EAAI,IADM;AAEdC,OAAK,EAAG,IAFM;AAGdC,KAAG,EAAK,IAHM;AAIdC,QAAM,EAAE,IAJM;AAKdC,OAAK,EAAG,IALM;AAMdC,QAAM,EAAE;AANM,CAVhB;;AAmBA,SAASE,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAoD;AACnDtH,QAAM,CAACpB,GAAD,CAAN,GAAc,CAAC,EAAE8Z,IAAI,CAAC9Z,GAAD,CAAJ,GAAY6Z,SAAS,CAAC7Z,GAAD,CAAT,GAAiB8Z,IAAI,CAAC9Z,GAAD,CAAjC,GAAyC6Z,SAAS,CAAC7Z,GAAD,CAApD,CAAf;AACA;;AAEc,yEAAEA,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAAsCqQ,UAAtC,EAAsD;AAGpE;AACA,MAAI5Z,KAAK,GAAGsE,yCAAE,CAACzB,MAAH,CAAU6J,KAAV,IAAmBA,KAAK,CAAC1M,KAAN,CAAY4Y,OAAZ,CAAnB,GAA0C,KAAtD,CAJoE,CAMpE;AACA;;AACArP,UAAQ,CAAC1J,GAAD,CAAR,GAAgB,CAAhB;;AACA,MAAKG,KAAL,EAAa;AACZ,QAAK,CAAC4Z,UAAD,IAAeD,IAAI,CAAC9Z,GAAD,CAAnB,IAA4B8Z,IAAI,CAAC9Z,GAAD,CAAJ,KAAcG,KAAK,CAAC,CAAD,CAApD,EAA0D;AACzDqN,aAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDzN,GAAhD,EAAqD,aAAa8Z,IAAI,CAAC9Z,GAAD,CAAtE,EAA6E,SAASG,KAAK,CAAC,CAAD,CAA3F;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAc,CAAd;AACA,KAHD,MAIK;AACJ8Z,UAAI,CAAC9Z,GAAD,CAAJ,GAAcG,KAAK,CAAC,CAAD,CAAnB;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAc,CAAC,CAACG,KAAK,CAAC,CAAD,CAArB;AACA;AACD,GATD,MAUK;AACJiB,UAAM,CAACpB,GAAD,CAAN,GAAc,CAAC,CAAC6M,KAAhB;AACA,QAAK,CAACiN,IAAI,CAAC9Z,GAAD,CAAL,IAAcA,GAAG,IAAIoZ,YAA1B,EACCU,IAAI,CAAC9Z,GAAD,CAAJ,GAAYoZ,YAAY,CAACpZ,GAAD,CAAxB;AACD,GAvBmE,CAwBpE;AACA;AACA;AACA;AACA;;;AAEA,SAAO4Z,KAAP;AACA,CA/BD,E;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;AACA;;AAEA,IACCV,QAAQ,GAAG,SAAXA,QAAW,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAC5B,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CAJF;AAAA,IAKCsI,KAAK,GAAM;AACVtC,KAAG,EAAK,IADE;AAEVC,QAAM,EAAE,MAFE;AAGVsC,QAAM,EAAE,KAHE;AAIVzC,MAAI,EAAI,IAJE;AAKVC,OAAK,EAAG;AALE,CALZ;;AAaA,SAASM,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAmDqT,MAAnD,EAA4D;AAE3D,MAAIC,KAAK,GAAGlC,IAAI,CAAC9Z,GAAD,CAAhB;AAAA,MAAuB+S,CAAC,GAAG,EAA3B;;AAEA,OAAM,IAAI3S,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG4b,KAArB,EAA4B5b,CAAC,EAA7B;AACC2S,KAAC,IAAI,CACJ+G,IAAI,CAAC9Z,GAAG,GAAG,GAAN,GAAYI,CAAb,CAAJ,GACE8Y,QAAQ,CAACW,SAAS,CAAC7Z,GAAG,GAAG,GAAN,GAAYI,CAAb,CAAV,EAA2B,CAA3B,CAAR,GAAwC0Z,IAAI,CAAC9Z,GAAG,GAAG,GAAN,GAAYI,CAAb,CAD9C,GAEE8Y,QAAQ,CAACW,SAAS,CAAC7Z,GAAG,GAAG,GAAN,GAAYI,CAAb,CAAV,EAA2B,CAA3B,CAHN,IAID,GAJJ;AADD;;AAOAgB,QAAM,CAACpB,GAAD,CAAN,GAAc+S,CAAd;AACA;;AAEc,yEAAEiJ,KAAF;AAAA,SAAa,UAAEhc,GAAF,EAAO6M,KAAP,EAAczL,MAAd,EAAsB0Y,IAAtB,EAA4BpQ,QAA5B,EAA0C;AACrE,QAAI0O,MAAM,GAAGvL,KAAK,CAACtM,KAAN,CAAY,GAAZ,CAAb;AAAA,QAA+BwS,CAA/B;AAEA+G,QAAI,CAAC9Z,GAAD,CAAJ,GAAYgc,KAAZ;;AAEA,SAAM,IAAI5b,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG4b,KAArB,EAA4B5b,CAAC,EAA7B,EAAkC;AACjC2S,OAAC,GAAGqF,MAAM,CAAChY,CAAC,GAAGgY,MAAM,CAAC5X,MAAZ,CAAV;AACAuS,OAAC,GAAGtO,yCAAE,CAACzB,MAAH,CAAU+P,CAAV,KAAgB8I,KAAK,CAAC9I,CAAD,CAArB,IAA4BA,CAAhC;AACA9R,6DAAM,CAACjB,GAAG,GAAG,GAAN,GAAYI,CAAb,EAAgB2S,CAAhB,EAAmB3R,MAAnB,EAA2B0Y,IAA3B,EAAiCpQ,QAAjC,CAAN;AACA;;AAED,WAAOkQ,KAAP;AACA,GAZc;AAAA,CAAf,E;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAcA;;AAEA,IACCb,OAAO,GAAQ,IAAIC,MAAJ,CACd,qCACA,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,GAApB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,KAAnE,EAA0E,IAA1E,EAAgF,IAAhF,EAAsF,MAAtF,EAA8F,MAA9F,EAAsGC,IAAtG,CAA2G,GAA3G,CADA,GAEE,GAHY,CADhB;AAAA,IAMCC,QAAQ,GAAO,SAAfA,QAAe,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAChC,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CATF;AAAA,IAUC6F,YAAY,GAAG;AACdC,MAAI,EAAI,IADM;AAEdC,OAAK,EAAG,IAFM;AAGdC,KAAG,EAAK,IAHM;AAIdC,QAAM,EAAE,IAJM;AAKdC,OAAK,EAAG,IALM;AAMdC,QAAM,EAAE;AANM,CAVhB;AAAA,IAkBCuC,UAAU,GAAK;AACd5C,MAAI,EAAI,GADM;AAEdC,OAAK,EAAG,GAFM;AAGdC,KAAG,EAAK,GAHM;AAIdC,QAAM,EAAE,GAJM;AAKdC,OAAK,EAAG,GALM;AAMdC,QAAM,EAAE;AANM,CAlBhB;;AA2BA,SAASE,KAAT,CAAgB5Z,GAAhB,EAAqB6Z,SAArB,EAAgCzY,MAAhC,EAAwC0Y,IAAxC,EAA8CpR,GAA9C,EAAoD;AACnD,MAAImE,KAAK,GAAGgN,SAAS,CAAC7Z,GAAD,CAArB;AAAA,MACIkc,IAAI,GAAIpC,IAAI,CAAC9Z,GAAD,CADhB;;AAGA,MAAKkc,IAAI,KAAK,KAAd,EAAsB;AACrBrP,SAAK,GAAGqM,QAAQ,CAACrM,KAAK,IAAInE,GAAG,CAACuT,UAAU,CAACjc,GAAD,CAAX,CAAH,IAAwB0I,GAAG,CAACX,CAAhC,CAAN,EAA0C,CAA1C,CAAhB;AACAmU,QAAI,GAAI,IAAR;AACA;;AAED9a,QAAM,CAACpB,GAAD,CAAN,GAAckc,IAAI,GAAGrP,KAAK,GAAGqP,IAAX,GAAkBhD,QAAQ,CAACrM,KAAD,EAAQ,CAAR,CAA5C;AACA;;AAED,SAASsP,KAAT,CAAgBnc,GAAhB,EAAqB6M,KAArB,EAA4BzL,MAA5B,EAAoC0Y,IAApC,EAA0CpQ,QAA1C,EAAoDqQ,UAApD,EAAiE;AAGhE,MAAI5Z,KAAK,GAAOsE,yCAAE,CAACzB,MAAH,CAAU6J,KAAV,IAAmBA,KAAK,CAAC1M,KAAN,CAAY4Y,OAAZ,CAAnB,GAA0C,KAA1D;AACArP,UAAQ,CAAC1J,GAAD,CAAR,GAAgB,CAAhB;;AACA,MAAKG,KAAL,EAAa;AACZ,QAAK,CAAC4Z,UAAD,IAAeD,IAAI,CAAC9Z,GAAD,CAAnB,IAA4B8Z,IAAI,CAAC9Z,GAAD,CAAJ,KAAcG,KAAK,CAAC,CAAD,CAApD,EAA0D;AACzDqN,aAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDzN,GAAhD,EAAqD,aAAa8Z,IAAI,CAAC9Z,GAAD,CAAtE,EAA6E,SAASG,KAAK,CAAC,CAAD,CAA3F;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAc,CAAd;AACA,KAHD,MAIK;AACJ8Z,UAAI,CAAC9Z,GAAD,CAAJ,GAAcG,KAAK,CAAC,CAAD,CAAnB;AACAiB,YAAM,CAACpB,GAAD,CAAN,GAAcga,UAAU,CAAC7Z,KAAK,CAAC,CAAD,CAAN,CAAxB;AACA;AACD,GATD,MAUK;AACJiB,UAAM,CAACpB,GAAD,CAAN,GAAcga,UAAU,CAACnN,KAAD,CAAxB;AACA,QAAK,CAACiN,IAAI,CAAC9Z,GAAD,CAAL,IAAcA,GAAG,IAAIoZ,YAA1B,EACCU,IAAI,CAAC9Z,GAAD,CAAJ,GAAYoZ,YAAY,CAACpZ,GAAD,CAAxB;AACD;;AAED,SAAO4Z,KAAP;AACA;;AAAA;AACDuC,KAAK,CAACvC,KAAN,GAAcA,KAAd;AACeuC,oEAAf,E;;;;;;;;;;;;;;;;;;;;;;;AC/EA;;;;;;;;;;;;;AAeA;AACA;AAEA;;AAGA,IAAMC,QAAQ,GAAG,+EACbC,sCADU;AAEb3C,QAAM,EAAWzY,sDAFJ;AAGbwY,OAAK,EAAYxY,sDAHJ;AAIbsY,KAAG,EAActY,sDAJJ;AAKboY,MAAI,EAAapY,sDALJ;AAMbqY,OAAK,EAAYrY,sDANJ;AAObuY,QAAM,EAAWvY,sDAPJ;AAQbqb,WAAS,EAAQrb,sDARJ;AASbsb,YAAU,EAAOtb,sDATJ;AAUbub,aAAW,EAAMvb,sDAVJ;AAWbwb,cAAY,EAAKxb,sDAXJ;AAYbyb,YAAU,EAAOzb,sDAZJ;AAab0b,aAAW,EAAM1b,sDAbJ;AAcb2b,cAAY,EAAK3b,sDAdJ;AAeb4b,eAAa,EAAI5b,sDAfJ;AAgBb6b,iBAAe,EAAE9b,6DAAK,CAAC,CAAD,CAhBT;AAiBb+b,QAAM,EAAWhc,mDAjBJ,CAkBb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5Ba,EAAd;;AA+BO,SAASqJ,QAAT,CAAmByP,SAAnB,EAA8BmD,GAA9B,EAAmCC,QAAnC,EAA6CnD,IAA7C,EAAmDpR,GAAnD,EAAyD;AAC/DjI,QAAM,CAACX,IAAP,CAAYmd,QAAZ,EACOld,OADP,CAEO,UAAEC,GAAF,EAAW;AACV;AACAid,YAAQ,CAACjd,GAAD,CAAR,CAAcA,GAAd,EAAmB6Z,SAAnB,EAA8BmD,GAA9B,EAAmClD,IAAnC,EAAyCpR,GAAzC;AACA,GALR;AAOA;AAEM,SAASuB,UAAT,CAAqB3I,KAArB,EAA4B4b,YAA5B,EAA0CxT,QAA1C,EAAoDoQ,IAApD,EAA0DmD,QAA1D,EAAoElD,UAApE,EAAiF;AACvF,MAAIoD,MAAM,GAAG,EAAb;AAAA,MAAiBC,QAAQ,GAAG,EAA5B;AACA3c,QAAM,CAACX,IAAP,CAAYwB,KAAZ,EACOvB,OADP,CAEO,UAAEC,GAAF,EAAW;AACV,QAAKoc,QAAQ,CAACpc,GAAD,CAAb,EACCmd,MAAM,CAACnd,GAAD,CAAN,GAAcsB,KAAK,CAACtB,GAAD,CAAnB,CADD,KAEK,IAAKsY,oEAAkB,CAACtY,GAAD,EAAMsB,KAAK,CAACtB,GAAD,CAAX,CAAvB,EAA2C;AAC/C,UAAKqY,qEAAmB,CAACrY,GAAD,CAAxB,EAAgC;AAC/B+X,iFAAuB,CAAC/X,GAAD,EAAMsB,KAAK,CAACtB,GAAD,CAAX,EAAkBmd,MAAlB,CAAvB;AACA,OAFD,MAGKA,MAAM,CAACnd,GAAD,CAAN,GAAcsB,KAAK,CAACtB,GAAD,CAAnB;AACL,KALI,MAMAod,QAAQ,CAACpd,GAAD,CAAR,GAAgBsB,KAAK,CAACtB,GAAD,CAArB;AACL,GAZR;AAcAS,QAAM,CAACX,IAAP,CAAYqd,MAAZ,EACOpd,OADP,CAEO,UAAEC,GAAF,EAAW;AACV,QAAKoc,QAAQ,CAACpc,GAAD,CAAb,EAAqB;AAAC;AACrBid,cAAQ,CAACjd,GAAD,CAAR,GAAgBoc,QAAQ,CAACpc,GAAD,CAAR,CAAcA,GAAd,EAAmBmd,MAAM,CAACnd,GAAD,CAAzB,EAAgCkd,YAAhC,EAA8CpD,IAA9C,EAAoDpQ,QAApD,EAA8DqQ,UAA9D,CAAhB;AACA,KAFD,MAICkD,QAAQ,CAACjd,GAAD,CAAR,GAAgBoc,QAAQ,CAAC1b,IAAT,CAAcV,GAAd,EAAmBmd,MAAM,CAACnd,GAAD,CAAzB,EAAgCkd,YAAhC,EAA8CpD,IAA9C,EAAoDpQ,QAApD,EAA8DqQ,UAA9D,CAAhB;AACD,GARR;AAUA,SAAOqD,QAAP;AACA;AAEM,SAASpS,SAAT,CAAoBqS,SAApB,EAA+B3T,QAA/B,EAAyCoQ,IAAzC,EAA+CmD,QAA/C,EAA0D;AAChE,SAAOI,SAAS,CAAC1Y,MAAV,CACN,UAAE2Y,IAAF,EAAQhc,KAAR,EAAmB;AAClB,QAAIic,YAAY,GAAS,EAAzB;AACAN,YAAQ,CAAC3b,KAAK,CAACF,MAAP,CAAR,GAAyB6b,QAAQ,CAAC3b,KAAK,CAACF,MAAP,CAAR,IAA0B,EAAnD;AACAsI,YAAQ,CAACpI,KAAK,CAACF,MAAP,CAAR,GAAyBsI,QAAQ,CAACpI,KAAK,CAACF,MAAP,CAAR,IAA0B,EAAnD;AACA0Y,QAAI,CAACxY,KAAK,CAACF,MAAP,CAAJ,GAAyB0Y,IAAI,CAACxY,KAAK,CAACF,MAAP,CAAJ,IAAsB,EAA/C;AAEA6I,cAAU,CAAC3I,KAAK,CAAC4E,KAAP,EAAcqX,YAAd,EAA4B7T,QAAQ,CAACpI,KAAK,CAACF,MAAP,CAApC,EAAoD0Y,IAAI,CAACxY,KAAK,CAACF,MAAP,CAAxD,EAAwE6b,QAAQ,CAAC3b,KAAK,CAACF,MAAP,CAAhF,CAAV;AACAkc,QAAI,CAAClX,IAAL,gFAEK9E,KAFL;AAGE4E,WAAK,EAAEqX;AAHT;AAKA,WAAOD,IAAP;AACA,GAdK,EAeN,EAfM,CAAP;AAiBA,C;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GD;;;;;;;;;;;;;AAcA;AAEO,SAASvB,MAAT,CAAiB1Z,KAAjB,EAAoC;AAAA,MAAZmb,KAAY,uEAAJ,CAAI;AAC1Cnb,OAAK,GAAGoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAAtD;AACA,SAAOA,KAAK,CAAChB,GAAN,CACN,UAAAsR,IAAI;AAAA,0FAECA,IAFD;AAGFtG,UAAI,EAAEsG,IAAI,CAACtG,IAAL,GAAYmR;AAHhB;AAAA,GADE,CAAP;AAQA;AAEM,SAASvC,KAAT,CAAgB5Y,KAAhB,EAAsC;AAAA,MAAf2D,QAAe,uEAAJ,CAAI;AAC5C3D,OAAK,GAAGoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAAtD,CAD4C,CAG5C;;AACA,MAAIob,SAAS,GAAG,CAAhB;AACApb,OAAK,CAACtC,OAAN,CACC,UAAA4S,IAAI,EAAI;AACP8K,aAAS,GAAG5W,IAAI,CAAC0F,GAAL,CAASkR,SAAT,EAAoB9K,IAAI,CAACtG,IAAL,GAAYsG,IAAI,CAAC3M,QAArC,CAAZ;AACA,GAHF;AAMA,SAAO3D,KAAK,CAAChB,GAAN,CACN,UAAAsR,IAAI;AAAA,0FAECA,IAFD;AAGFtG,UAAI,EAAOsG,IAAI,CAACtG,IAAL,GAAYoR,SAAb,GAA0BzX,QAHlC;AAIFA,cAAQ,EAAG2M,IAAI,CAAC3M,QAAL,GAAgByX,SAAjB,GAA8BzX;AAJtC;AAAA,GADE,CAAP;AASA;;AAED,SAAS0X,aAAT,CAAwB3K,CAAxB,EAA4B;AAC3B,MAAKtO,yCAAE,CAACxD,MAAH,CAAU8R,CAAV,CAAL,EACC,OAAO,CAACA,CAAR;AACD,MAAKtO,yCAAE,CAACkZ,MAAH,CAAU5K,CAAV,CAAL,EACC,OAAOtS,MAAM,CAACX,IAAP,CAAYiT,CAAZ,EAAepO,MAAf,CAAsB,UAAEC,CAAF,EAAK5E,GAAL;AAAA,WAAe4E,CAAC,CAAC5E,GAAD,CAAD,GAAS0d,aAAa,CAAC3K,CAAC,CAAC/S,GAAD,CAAF,CAAtB,EAAgC4E,CAA/C;AAAA,GAAtB,EAAyE,EAAzE,CAAP;AACD,MAAKH,yCAAE,CAACvB,KAAH,CAAS6P,CAAT,CAAL,EACC,OAAOA,CAAC,CAAC1R,GAAF,CAAM,UAAEsR,IAAF;AAAA,WAAa+K,aAAa,CAAC/K,IAAD,CAA1B;AAAA,GAAN,CAAP;AAED,MAAIyF,MAAM,GAAGrF,CAAC,CAACxS,KAAF,CAAQ,+BAAR,CAAb;AAEA,SAAO6X,MAAM,CAAC/W,GAAP,CACN,UAAEuc,GAAF,EAAOxd,CAAP;AAAA,WAAeA,CAAC,GAAG,CAAJ,GAAQ,CAAC4Z,UAAU,CAAC4D,GAAD,CAAnB,GAA2BA,GAA1C;AAAA,GADM,EAEL3E,IAFK,CAEA,EAFA,CAAP;AAGA;;AAEM,SAAS4E,OAAT,CAAkBxb,KAAlB,EAA0B;AAChCA,OAAK,GAAWoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAA9D,CADgC,CAEhC;;AACA,MAAIob,SAAS,GAAG,CAAhB;AACApb,OAAK,CAACtC,OAAN,CACC,UAAA4S,IAAI,EAAI;AACP8K,aAAS,GAAG5W,IAAI,CAAC0F,GAAL,CAASkR,SAAT,EAAoB9K,IAAI,CAACtG,IAAL,GAAYsG,IAAI,CAAC3M,QAArC,CAAZ;AACA,GAHF;AAMA,SAAO3D,KAAK,CAAChB,GAAN,CACN,UAAAsR,IAAI,EAAI;AACPA,QAAI,kFAECA,IAFD;AAGFtG,UAAI,EAAGoR,SAAS,IAAI9K,IAAI,CAACtG,IAAL,GAAYsG,IAAI,CAAC3M,QAArB,CAHd;AAIFE,WAAK,EAAEwX,aAAa,CAAC/K,IAAI,CAACzM,KAAN;AAJlB,MAAJ;AAMA,WAAOyM,IAAP;AACA,GATK,CAAP;AAWA;AAEM,SAASmL,MAAT,CAAiB1c,MAAjB,EAAsC;AAAA,oCAAV2c,OAAU;AAAVA,WAAU;AAAA;;AAC5C,MAAIC,MAAM,GAAGD,OAAO,CAAC3W,KAAR,EAAb;;AACA,OAAM,IAAMpH,GAAZ,IAAmBge,MAAnB,EAA4B;AAC3B,QAAK,CAACA,MAAM,CAACnZ,cAAP,CAAsB7E,GAAtB,CAAN,EACC;;AACD,QAAKyE,yCAAE,CAACkZ,MAAH,CAAUK,MAAM,CAAChe,GAAD,CAAhB,CAAL,EAA8B;AAC7B,UAAK,CAACoB,MAAM,CAACpB,GAAD,CAAZ,EAAoB;AACnBoB,cAAM,CAACpB,GAAD,CAAN,GAAc,EAAd;AACA;;AAED8d,YAAM,CAAC1c,MAAM,CAACpB,GAAD,CAAP,EAAcge,MAAM,CAAChe,GAAD,CAApB,CAAN;AACA,KAND,MAOK,IAAKyE,yCAAE,CAACvB,KAAH,CAAS8a,MAAM,CAAChe,GAAD,CAAf,CAAL,EAA6B;AACjC,UAAK,CAACoB,MAAM,CAACpB,GAAD,CAAZ,EAAoB;AACnBoB,cAAM,CAACpB,GAAD,CAAN,GAAc,EAAd;AACA;;AACD8d,YAAM,CAAC1c,MAAM,CAACpB,GAAD,CAAP,EAAcge,MAAM,CAAChe,GAAD,CAApB,CAAN;AACA,KALI,MAMA;AACJoB,YAAM,CAACpB,GAAD,CAAN,GAAcie,UAAU,CAAC7c,MAAM,CAACpB,GAAD,CAAP,EAAcge,MAAM,CAAChe,GAAD,CAApB,CAAxB;AACA;AACD;;AAED,SAAO+d,OAAO,CAACvd,MAAR,IAAkBsd,MAAM,MAAN,UAAO1c,MAAP,SAAkB2c,OAAlB,EAAlB,IAAgD3c,MAAvD;AACA;;AAED,SAAS6c,UAAT,CAAqBC,EAArB,EAAyBC,EAAzB,EAA8B;AAC7B,MAAK,CAACD,EAAN,EACC,OAAOC,EAAP;AACD,MAAK,CAACA,EAAN,EACC,OAAOD,EAAP;AACD,MAAIE,OAAO,GAAG,CAAC,KAAKF,EAAN,EAAU3d,KAAV,CAAgB,+BAAhB,CAAd;AAAA,MACI8d,OAAO,GAAG,CAAC,KAAKF,EAAN,EAAU5d,KAAV,CAAgB,+BAAhB,CADd;AAAA,MAEI+d,CAAC,GAASF,OAAO,CAAC/c,GAAR,CACT,UAAEuc,GAAF,EAAOxd,CAAP;AAAA,WAAeA,CAAC,GAAG,CAAJ,GAAQ4Z,UAAU,CAAC4D,GAAD,CAAV,GAAkB5D,UAAU,CAACqE,OAAO,CAACje,CAAD,CAAP,IAAc,CAAf,CAApC,GAAwDwd,GAAvE;AAAA,GADS,EAERhd,MAFQ,CAED,UAAAR,CAAC;AAAA,WAAKA,CAAC,KAAK,EAAX;AAAA,GAFA,CAFd;AAMA,SAAOke,CAAC,CAAC9d,MAAF,KAAa,CAAb,GAAiB+d,QAAQ,CAACD,CAAC,CAAC,CAAD,CAAF,CAAzB,GAAkCA,CAAC,CAACrF,IAAF,CAAO,EAAP,CAAzC;AACA;;AAEM,SAASuF,UAAT,CAAqBnc,KAArB,EAA4Boc,OAA5B,EAAsC;AAC5C,MAAIzB,GAAG,GAAG,EAAV;AACA3a,OAAK,GAAKoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAAxD;AACAA,OAAK,CAACtC,OAAN,CACC,UAAA4S,IAAI,EAAI;AACPmL,UAAM,CAACd,GAAD,EAAMrK,IAAI,CAACzM,KAAX,CAAN;AACA,GAHF;AAKA,MAAKuY,OAAL,EACCzB,GAAG,GAAGU,aAAa,CAACV,GAAD,CAAnB,CAT2C,CAY5C;AACA;;AACA,SAAOA,GAAP;AACA;AAEM,SAAS5b,MAAT,CAAiBiB,KAAjB,EAAwBjB,MAAxB,EAAiC;AACvCiB,OAAK,GAAGoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAAtD;AACA,SAAOA,KAAK,CAAChB,GAAN,CACN,UAAAsR,IAAI;AAAA,0FAECA,IAFD;AAGFvR,YAAM,EAANA;AAHE;AAAA,GADE,CAAP;AAQA;AAEM,SAASsd,eAAT,CAA0Brc,KAA1B,EAA6C;AAAA,MAAZ+E,KAAY,uEAAJ,CAAI;AACnD/E,OAAK,GAAGoC,yCAAE,CAACvB,KAAH,CAASb,KAAT,IAAkBA,KAAlB,GAA0BA,KAAK,IAAI,CAACA,KAAD,CAAT,IAAoBA,KAAtD;AACA,SAAOA,KAAK,CAAChB,GAAN,CACN,UAAAsR,IAAI,EAAI;AACP,QAAI3J,CAAC,GAAG2J,IAAI,CAACzM,KAAL,IAAcyM,IAAI,CAACzM,KAAL,CAAWrF,SAAjC;;AACA,QAAKmI,CAAL,EAAS;AACRA,OAAC,GAAGvE,yCAAE,CAACvB,KAAH,CAAS8F,CAAT,IAAcA,CAAd,GAAkB,CAACA,CAAD,CAAtB;;AACA,WAAM,IAAI5I,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGgH,KAArB,EAA4BhH,CAAC,EAA7B;AACC4I,SAAC,CAAC2V,OAAF,CAAU,EAAV;AADD;;AAGAhM,UAAI,GAAG,+EAAKA,IAAR;AAAczM,aAAK,EAAE,+EAAKyM,IAAI,CAACzM,KAAZ;AAAmBrF,mBAAS,EAAEmI;AAA9B;AAAnB,QAAJ;AACA;;AACD,WAAO2J,IAAP;AACA,GAXK,CAAP;AAaA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5KD;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;;IAGMiM,S,GADL5X,0D;;;;;;;;;;;;;6BAES;AACR,aAAO,KAAKlF,KAAL,CAAWC,QAAlB;AACA;;;;EAHsBc,+C;;AAOxB;AACe+b,wEAAf,E;;;;;;;;;;;;ACnCA;AAAA;;;;;;;;;;;;;AAcA,IACCna,EAAE,GAAU5E,mBAAO,CAAC,0BAAD,CADpB;AAAA,IAECqZ,QAAQ,GAAI,SAAZA,QAAY,CAAWnG,CAAX,EAAcoG,CAAd,EAAkB;AAC7B,MAAI5F,CAAC,GAAG1M,IAAI,CAACyO,GAAL,CAAS,EAAT,EAAa6D,CAAb,CAAR;AACA,SAAOtS,IAAI,CAACgO,KAAL,CAAW9B,CAAC,GAAGQ,CAAf,IAAoBA,CAA3B;AACA,CALF;AAAA,IAMCzM,GAAG,GAASD,IAAI,CAACC,GANlB;AAAA,IAOCyF,GAAG,GAAS1F,IAAI,CAAC0F,GAPlB;AAAA,IAQCsS,SAAS,GAAG,OAAO/S,MAAP,KAAkB,WAR/B;AAAA,IASCgT,IAAI,GAAQD,SAAS,GAAG;AACvBE,QAAM,EAAS,SAAD,CAAY7N,IAAZ,CAAiB8N,SAAS,CAACC,UAA3B,IAAyC,QAAzC,GACC,UAAD,CAAa/N,IAAb,CAAkB8N,SAAS,CAACE,SAA5B,IAAyC,KAAzC,GACC,UAAD,CAAahO,IAAb,CAAkB8N,SAAS,CAACE,SAA5B,IAAyC,IAAzC,GACA,WAAWpT,MAAX,GAAoB,GAApB,GAA0B,EAJjB;AAKvBqT,cAAY,EAAG,SAAD,CAAYjO,IAAZ,CAAiB8N,SAAS,CAACC,UAA3B,IAAyC,UAAzC,GACC,UAAD,CAAa/N,IAAb,CAAkB8N,SAAS,CAACE,SAA5B,IAAyC,OAAzC,GACC,UAAD,CAAahO,IAAb,CAAkB8N,SAAS,CAACE,SAA5B,IAAyC,MAAzC,GACA,WAAWpT,MAAX,GAAoB,KAApB,GAA4B;AARnB,CAAH,GASjB;AACHiT,QAAM,EAAQ,EADX;AAEHI,cAAY,EAAE;AAFX,CAlBL;AAAA,IAsBCC,EAAE,GAAU;AACXC,aAAW,EAAQ,EADR;AAEXC,aAAW,EAAQ,EAFR;AAGXC,UAAQ,EAAW,EAHR;AAIXC,aAAW,EAAQ,EAJR;AAKXC,iBAAe,EAAI,EALR;AAMXC,SAAO,EAAY,EANR;AAOXC,WAAS,EAAU,CAPR;AAQXC,mBAAiB,EAAE,2BAAW3a,CAAX,EAAe;AACjC,QAAIyB,CAAJ;AAAA,QACImZ,EAAE,GAAcT,EADpB;AAAA,QAEIhf,CAAC,GAAeyf,EAAE,CAACL,WAAH,CAAehV,OAAf,CAAuB,IAAvB,CAFpB;AAAA,QAGIsV,MAHJ;AAAA,QAIIC,IAJJ;AAAA,QAIUL,OAAO,GAAG,EAJpB;;AAMA,QAAKtf,CAAC,KAAK,CAAC,CAAZ,EAAgB;AACf;AACA,KATgC,CAUjC;AACA;;;AAEA,QAAK,CAACyf,EAAE,CAACF,SAAT,EAAqB;AACpBK,SAAG,CAACrP,QAAJ,CAAa7B,QAAb,EACa;AACC,qBAAa+Q,EAAE,CAACI,YADjB;AAEC,qBAAaJ,EAAE,CAACI,YAFjB;AAGC,oBAAaJ,EAAE,CAACK,YAHjB;AAIC,mBAAaL,EAAE,CAACK;AAJjB,OADb;AAOAF,SAAG,CAACrP,QAAJ,CAAa,IAAb,EACa;AACC,iBAASkP,EAAE,CAACM;AADb,OADb,EAGgB,IAHhB,EAGsB,IAHtB,EAG4B,IAH5B;AAIA;;AAED,QAAKlb,CAAC,CAACmb,cAAF,IAAoBnb,CAAC,CAACmb,cAAF,CAAiB5f,MAA1C,EAAmD;AAClDkf,aAAO,GAAGza,CAAC,CAACmb,cAAZ;AACA,KAFD,MAGKV,OAAO,CAACtZ,IAAR,CAAanB,CAAb;;AAEL,SAAM,IAAI+D,CAAC,GAAG,CAAR,EAAWrB,EAAE,GAAG+X,OAAO,CAAClf,MAA9B,EAAsCwI,CAAC,GAAGrB,EAA1C,EAA8CqB,CAAC,EAA/C,EAAoD;AACnD8W,YAAM,GAAGJ,OAAO,CAAC1W,CAAD,CAAhB;AAGA+W,UAAI,GAAGF,EAAE,CAACJ,eAAH,CAAmBrf,CAAnB,CAAP;AAEA,UAAK2f,IAAI,CAACJ,SAAV,EAAsB;AAEtBE,QAAE,CAACF,SAAH;AAEAE,QAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,IAAgCR,EAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,KAAiC,EAAjE;AACAR,QAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,EAA8Bja,IAA9B,CAAmC2Z,IAAnC;AAGAA,UAAI,CAACJ,SAAL;AAEAI,UAAI,CAACpO,SAAL,CAAe5J,CAAf,GAAmB+W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC/X,CAA7B,GAAiC+X,MAAM,CAACQ,KAA3D;AACAP,UAAI,CAACpO,SAAL,CAAevJ,CAAf,GAAmB0W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC1X,CAA7B,GAAiC0X,MAAM,CAACS,KAA3D;AACAR,UAAI,CAACS,QAAL,GAAmBvb,CAAC,CAACwb,SAArB;AAGAV,UAAI,CAACrO,QAAL,CAAc3J,CAAd,GAAkB+W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC/X,CAA7B,GAAiC+X,MAAM,CAACQ,KAA1D;AACAP,UAAI,CAACrO,QAAL,CAActJ,CAAd,GAAkB0W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC1X,CAA7B,GAAiC0X,MAAM,CAACS,KAA1D;;AAEA,WAAM7Z,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGqZ,IAAI,CAACW,SAAL,CAAelgB,MAAhC,EAAwCkG,CAAC,EAAzC;AACCqZ,YAAI,CAACW,SAAL,CAAeha,CAAf,EAAkB,CAAlB,EAAqBia,IAArB,CAA0BZ,IAAI,CAACW,SAAL,CAAeha,CAAf,EAAkB,CAAlB,KACC,IAD3B,EACiCzB,CADjC,EACoC6a,MADpC,EAC4CC,IAD5C;AADD;AAGA;AACD,GApEU;AAqEXE,cAAY,EAAO,sBAAWhb,CAAX,EAAe;AAAA;;AACjC,QAAIyB,CAAJ;AAAA,QACImZ,EAAE,GAAgBT,EADtB;AAAA,QAEIU,MAFJ;AAAA,QAEYJ,OAAO,GAAG,EAFtB;AAAA,QAE0BkB,OAF1B;AAAA,QAGIb,IAAI,GAAcX,EAAE,CAACG,QAAH,CAAY,CAAZ,CAHtB;;AAMA,QAAKta,CAAC,CAACmb,cAAF,IAAoBnb,CAAC,CAACmb,cAAF,CAAiB5f,MAA1C,EAAmD;AAClDkf,aAAO,GAAGza,CAAC,CAACmb,cAAZ;AACA,KAFD,MAGKV,OAAO,CAACtZ,IAAR,CAAanB,CAAb;;AAEL,SAAM,IAAI7E,CAAC,GAAG,CAAR,EAAWuH,EAAE,GAAG+X,OAAO,CAAClf,MAA9B,EAAsCJ,CAAC,GAAGuH,EAA1C,EAA8CvH,CAAC,EAA/C,EAAoD;AACnD0f,YAAM,GAAGJ,OAAO,CAACtf,CAAD,CAAhB;AACA2f,UAAI,GAAKF,EAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,CAAT;AACAR,QAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,KACAR,EAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,EAA8BtgB,OAA9B,CACC,UAAAggB,IAAI,EAAI;AACP,YAAKa,OAAL,EAAe;AACdb,cAAI,CAACrO,QAAL,CAAc3J,CAAd,GAAkBgY,IAAI,CAACpO,SAAL,CAAe5J,CAAf,GAAmB+W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC/X,CAA7B,GAAiC+X,MAAM,CAACQ,KAA7E;AACAP,cAAI,CAACrO,QAAL,CAActJ,CAAd,GAAkB2X,IAAI,CAACpO,SAAL,CAAevJ,CAAf,GAAmB0W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC1X,CAA7B,GAAiC0X,MAAM,CAACS,KAA7E;AACA;AACA;;AACDR,YAAI,CAACrO,QAAL,CAAc3J,CAAd,GAAkB+W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC/X,CAA7B,GAAiC+X,MAAM,CAACQ,KAA1D;AACAP,YAAI,CAACrO,QAAL,CAActJ,CAAd,GAAkB0W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC1X,CAA7B,GAAiC0X,MAAM,CAACS,KAA1D;;AAEA,aAAM7Z,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGqZ,IAAI,CAACc,IAAL,CAAUrgB,MAA3B,EAAmCkG,CAAC,EAApC;AACCka,iBAAO,GAAGb,IAAI,CAACc,IAAL,CAAUna,CAAV,EAAa,CAAb,EAAgBia,IAAhB,CAAqBZ,IAAI,CAACc,IAAL,CAAUna,CAAV,EAAa,CAAb,KAAmB,KAAxC,EAA8CzB,CAA9C,EACqB6a,MADrB,EAEqBC,IAFrB,MAE+B,KAFzC;AADD;AAIA,OAdF,CADA;AAkBA;AACD,GAvGU;AAwGXI,kBAAgB,EAAG,0BAAWlb,CAAX,EAAe;AACjC,QAAKma,EAAE,CAAC0B,gBAAR,EAA2B;AAC1B7b,OAAC,CAACmL,cAAF;AACAnL,OAAC,CAACkL,eAAF;AACAlL,OAAC,CAAC8b,wBAAF;AACA3B,QAAE,CAAC0B,gBAAH,GAAsB,KAAtB;AACA;;AACDd,OAAG,CAACjM,WAAJ,CAAgB,IAAhB,EACgB;AACC,eAAS,KAAKoM;AADf,KADhB;AAIA,GAnHU;AAoHXD,cAAY,EAAO,sBAAWjb,CAAX,EAAe;AAAA;;AACjC,QAAIyB,CAAJ;AAAA,QACImZ,EAAE,GAAGT,EADT;AAAA,QACaU,MADb;AAAA,QACqBJ,OAAO,GAAG,EAD/B;AAAA,QAEI/P,OAFJ;;AAIA,QAAK1K,CAAC,CAACmb,cAAF,IAAoBnb,CAAC,CAACmb,cAAF,CAAiB5f,MAA1C,EAAmD;AAClDkf,aAAO,GAAGza,CAAC,CAACmb,cAAZ;AACA,KAFD,MAGKV,OAAO,CAACtZ,IAAR,CAAanB,CAAb;;AAEL,SAAM,IAAI7E,CAAC,GAAG,CAAR,EAAWuH,EAAE,GAAG+X,OAAO,CAAClf,MAA9B,EAAsCJ,CAAC,GAAGuH,EAA1C,EAA8CvH,CAAC,EAA/C,EAAoD;AACnD0f,YAAM,GAAGJ,OAAO,CAACtf,CAAD,CAAhB;AACAyf,QAAE,CAACF,SAAH;AACAE,QAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,KACAR,EAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,EAA8BtgB,OAA9B,CACC,UAAAggB,IAAI,EAAI;AAGPA,YAAI,CAACJ,SAAL;AACAhQ,eAAO,GAAWA,OAAO,IAAIoQ,IAAI,CAACiB,SAAL,IAAmB/b,CAAC,CAACwb,SAAF,GAAcV,IAAI,CAACS,QAAnB,GAA8B,GAA9E;AACAT,YAAI,CAACrO,QAAL,CAAc3J,CAAd,GAAkB+W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC/X,CAA7B,GAAiC+X,MAAM,CAACQ,KAA1D;AACAP,YAAI,CAACrO,QAAL,CAActJ,CAAd,GAAkB0W,IAAI,CAACC,MAAL,IAAe,IAAf,GAAsBe,MAAM,CAAC1X,CAA7B,GAAiC0X,MAAM,CAACS,KAA1D;;AAEA,aAAM7Z,CAAC,GAAG,CAAV,EAAaA,CAAC,GAAGqZ,IAAI,CAACkB,OAAL,CAAazgB,MAA9B,EAAsCkG,CAAC,EAAvC;AACCqZ,cAAI,CAACkB,OAAL,CAAava,CAAb,EAAgB,CAAhB,EAAmBia,IAAnB,CAAwBZ,IAAI,CAACkB,OAAL,CAAava,CAAb,EAAgB,CAAhB,KACC,MADzB,EAC+BzB,CAD/B,EAEwB6a,MAFxB,EAEgCC,IAFhC;AADD;AAMA,OAfF,CADA;AAkBAF,QAAE,CAACH,OAAH,CAAWI,MAAM,CAACO,UAAlB,IAAgC,IAAhC;AACA;;AACD,QAAK1Q,OAAL,EAAe;AACdkQ,QAAE,CAACiB,gBAAH,GAAsB,IAAtB;AACA;;AACD,QAAK,CAACjB,EAAE,CAACF,SAAT,EAAqB;AACpBK,SAAG,CAACjM,WAAJ,CAAgBjF,QAAhB,EACgB;AACC,qBAAa+Q,EAAE,CAACI,YADjB;AAEC,qBAAaJ,EAAE,CAACI,YAFjB;AAGC,oBAAaJ,EAAE,CAACK,YAHjB;AAIC,mBAAaL,EAAE,CAACK;AAJjB,OADhB;AAOA;AACD,GAjKU;AAkKXgB,cAAY,EAAO,sBAAW3W,IAAX,EAAiByW,SAAjB,EAA6B;AAC/C,QAAI5gB,CAAC,GAAG,KAAKof,WAAL,CAAiBhV,OAAjB,CAAyBD,IAAzB,CAAR;AAAA,QAAwCwV,IAAxC;;AACA,QAAK3f,CAAC,KAAK,CAAC,CAAZ,EAAgB;AACf,WAAKof,WAAL,CAAiBpZ,IAAjB,CAAsBmE,IAAtB;AACA,WAAKkV,eAAL,CAAqBrZ,IAArB,CACC2Z,IAAI,GAAG;AACNiB,iBAAS,EAATA,SADM;AAENrB,iBAAS,EAAE,CAFL;AAGNwB,aAAK,EAAM,CAHL;AAINxP,iBAAS,EAAE;AACV5J,WAAC,EAAE,CADO;AAEVK,WAAC,EAAE;AAFO,SAJL;AAQNsJ,gBAAQ,EAAG;AACV3J,WAAC,EAAE,CADO;AAEVK,WAAC,EAAE;AAFO,SARL;AAYNsY,iBAAS,EAAE,EAZL;AAaNG,YAAI,EAAO,EAbL;AAcNO,eAAO,EAAI,EAdL;AAeNH,eAAO,EAAI;AAfL,OADR,EAFe,CAqBf;;AACAjB,SAAG,CAACrP,QAAJ,CAAapG,IAAb,EACa;AACC,qBAAcyW,SAAS,IAAI,KAAKpB,iBADjC;AAEC,sBAAc,KAAKA;AAFpB,OADb,EAIgB,IAJhB,EAIsB,IAJtB,EAI4B,IAJ5B;AAKA,KA3BD,MA4BKG,IAAI,GAAG,KAAKN,eAAL,CAAqBrf,CAArB,CAAP;;AACL,WAAO2f,IAAP;AACA,GAlMU;AAmMXsB,eAAa,EAAM,uBAAW9W,IAAX,EAAkB;AACpC,QAAInK,CAAC,GAAG,KAAKof,WAAL,CAAiBhV,OAAjB,CAAyBD,IAAzB,CAAR;AAAA,QAAwCwV,IAAxC;;AACA,QAAK3f,CAAC,KAAK,CAAC,CAAZ,EAAgB;AACf,WAAKof,WAAL,CAAiBzY,MAAjB,CAAwB3G,CAAxB,EAA2B,CAA3B;AACA,WAAKqf,eAAL,CAAqB1Y,MAArB,CAA4B3G,CAA5B,EAA+B,CAA/B;AAEA4f,SAAG,CAACjM,WAAJ,CAAgBxJ,IAAhB,EACgB;AACC,qBAAc,KAAKqV,iBADpB;AAEC,sBAAc,KAAKA;AAFpB,OADhB;AAKA;AACD,GA/MU;AAgNX0B,kBAAgB,EAAG,SAASC,eAAT,CAA0BvQ,OAA1B,EAAmCwQ,EAAnC,EAAwC;AAE1D,QAAIvJ,IAAI,GAAG,MAAX;AAAA,QAAmBwJ,IAAI,GAAGxJ,IAAI,IAAI,MAAlC;AAEAjH,WAAO,CAACjF,gBAAR,CAAyB,mBAAmBD,MAAnB,GAA4B,iBAA5B,GAAgDmM,IAAI,GAAG,MAAhF,EACyB,UAAWhT,CAAX,EAAe;AACd,UAAKA,CAAC,CAACgT,IAAF,IAAWA,IAAI,GAAG,MAAlB,IACFhT,CAAC,CAACyc,MAAF,IAAY,CAAZ,IAAiBzc,CAAC,CAAC0c,kBAAF,IAAwBF,IAA1C,IACCxc,CAAC,CAACyc,MAAF,IAAY,CAAZ,IAAiBzc,CAAC,CAAC2c,gBAAF,IAAsBH,IADxC,IAECxc,CAAC,CAACyc,MAAF,IAAY,CAAZ,IAAiBzc,CAAC,CAAC0c,kBAAF,IAAwBF,IAAzC,IACAxc,CAAC,CAAC2c,gBAAF,IAAsBH,IAJzB,EAIkC;AACjC,eAAOD,EAAE,CAACb,IAAH,CAAQ,IAAR,EAAc1b,CAAd,CAAP;AACA;AACD,KAT1B,EAS4B,KAT5B;AAWA,GA/NU;AAgOX0L,UAAQ,EAAW,kBAAWpG,IAAX,EAAiB0N,IAAjB,EAAuBuJ,EAAvB,EAA2BK,MAA3B,EAAoC;AACtD,QAAKtX,IAAI,CAACwB,gBAAV,EAA6B;AAC5BxB,UAAI,CAACwB,gBAAL,CAAsBkM,IAAtB,EAA4BuJ,EAA5B,EAAgCK,MAAhC;AACA,KAFD,MAGK,IAAKtX,IAAI,CAACuX,WAAV,EAAwB;AAC5BvX,UAAI,CAACuX,WAAL,CAAiB,OAAO7J,IAAxB,EACiBuJ,EAAE,CAACO,OAAH,GAAa,UAAW9c,CAAX,EAAe;AAC3B,eAAOuc,EAAE,CAACb,IAAH,CAAQpW,IAAR,EAActF,CAAd,CAAP;AACA,OAHlB;AAIA;AACD,GA1OU;AA2OX8O,aAAW,EAAQ,qBAAWxJ,IAAX,EAAiB0N,IAAjB,EAAuBuJ,EAAvB,EAA2BK,MAA3B,EAAoC;AACtD,QAAKtX,IAAI,CAACsJ,mBAAV,EAAgC;AAC/BtJ,UAAI,CAACsJ,mBAAL,CAAyBoE,IAAzB,EAA+BuJ,EAA/B,EAAmCK,MAAnC;AACA,KAFD,MAGK,IAAKtX,IAAI,CAACuX,WAAV,EAAwB;AAC5BvX,UAAI,CAACyX,WAAL,CAAiB,OAAO/J,IAAxB,EAA8BuJ,EAAE,CAACO,OAAjC;AACA;AACD,GAlPU;AAmPXE,UAAQ,EAAW,kBAAWC,GAAX,EAAgBV,EAAhB,EAAoBW,KAApB,EAA4B;AAC9C,SAAM,IAAI/hB,CAAC,GAAG,CAAR,EAAWuH,EAAE,GAAGua,GAAG,CAAC1hB,MAA1B,EAAkCJ,CAAC,GAAGuH,EAAtC,EAA0CvH,CAAC,EAA3C,EAAgD;AAC/C,UAAK8hB,GAAG,CAAC9hB,CAAD,CAAH,CAAO,CAAP,MAAcohB,EAAnB,EACC,OAAOU,GAAG,CAACnb,MAAJ,CAAW3G,CAAX,EAAc,CAAd,CAAP;AACD;;AAEDoN,WAAO,CAACC,IAAR,CAAa,kCAAb;AACA,GA1PU;AA2PX2U,gBAAc,EAAK,wBAAWC,GAAX,EAAgBzM,GAAhB,EAAqBpN,IAArB,EAA2B8Z,MAA3B,EAAoC;AACtD,QAAIC,CAAJ;AAAA,QAAO7b,CAAP;AAAA,QAAUtG,CAAV;AAAA,QAAauH,EAAb;AAAA,QACI4C,IAAI,GAAG+X,MAAM,IAAIxT,QAAQ,CAAC0T,aAAT,CAAuBH,GAAvB,CADrB,CADsD,CAItD;;AAEA,QAAKzM,GAAL,EACC,KAAMlP,CAAN,IAAWkP,GAAX;AACC,UAAKA,GAAG,CAAC/Q,cAAJ,CAAmB6B,CAAnB,KAAyBkP,GAAG,CAAClP,CAAD,CAAH,KAAWhD,SAApC,IACD,CAAC+e,kBAAkB,CAAC5d,cAAnB,CAAkC6B,CAAlC,CADL,EAC4C;AAC3C6b,SAAC,GAASzT,QAAQ,CAAC4T,eAAT,CAAyBhc,CAAzB,CAAV;AACA6b,SAAC,CAAC1V,KAAF,GAAU+I,GAAG,CAAClP,CAAD,CAAb;AACA6D,YAAI,CAACoY,gBAAL,CAAsBJ,CAAtB;AACA;AANF;AAQD/Z,QAAI,IAAIoN,GAAG,CAACgN,GAAZ,KAAoBpa,IAAI,CAACoN,GAAG,CAACgN,GAAL,CAAJ,GAAgBrY,IAApC;AAEAqL,OAAG,CAAC7R,KAAJ,IAAaic,GAAG,CAAC6C,QAAJ,CAAatY,IAAb,EAAmBqL,GAAG,CAAC7R,KAAvB,CAAb;AAEA6R,OAAG,CAACkN,GAAJ,IAAW9C,GAAG,CAAC+C,MAAJ,CAAWxY,IAAX,EAAiBqL,GAAG,CAACkN,GAArB,CAAX;;AAEA,QAAKlN,GAAG,CAACoN,MAAT,EAAkB;AACjB,WAAMtc,CAAN,IAAWkP,GAAG,CAACoN,MAAf;AACC,YAAKpN,GAAG,CAACoN,MAAJ,CAAWne,cAAX,CAA0B6B,CAA1B,KAAgCA,CAAC,KAAK,QAA3C,EACCsZ,GAAG,CAACrP,QAAJ,CAAapG,IAAb,EAAmB7D,CAAnB,EAAsBkP,GAAG,CAACoN,MAAJ,CAAWtc,CAAX,CAAtB,EAAqCkP,GAAG,CAACoN,MAAJ,CAAWC,MAAhD;AAFF;AAGA;;AACD,QAAKrN,GAAG,CAACsN,OAAT,EAAmB;AAClB,UAAK,OAAOtN,GAAG,CAACsN,OAAX,KAAuB,QAAvB,IAAmC,OAAOtN,GAAG,CAACsN,OAAJ,CAAYxc,CAAZ,CAAP,IAAyB,QAAjE,EAA4E;AAC3E6D,YAAI,CAAC4Y,SAAL,GAAiBvN,GAAG,CAACsN,OAArB;AACA,OAFD,MAGK,IAAKtN,GAAG,CAACsN,OAAJ,YAAuBrK,KAA5B,EAAoC;AACxC,aAAMzY,CAAC,GAAG,CAAJ,EAAOuH,EAAE,GAAGiO,GAAG,CAACsN,OAAJ,CAAY1iB,MAA9B,EAAsCJ,CAAC,GAAGuH,EAA1C,EAA8CvH,CAAC,EAA/C;AACCmK,cAAI,CAAC6Y,WAAL,CACC,OAAOxN,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CAAP,IAAyB,QAAzB,IAAqC,OAAOwV,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CAAP,IAAyB,QAA9D,IAA0E,CAACwV,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CAA3E,GACA0O,QAAQ,CAACuU,cAAT,CAAwBzN,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,KAAkB,EAA1C,CADA,GAEAkjB,SAAS,CAAC1N,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CAAD,CAAT,GACAwV,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CADA,GAEAmjB,eAAe,CAAC3N,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,EAAeojB,OAAf,IAA0B,KAA3B,EAAkC5N,GAAG,CAACsN,OAAJ,CAAY9iB,CAAZ,CAAlC,EAAkDoI,IAAlD,CALhB;AADD;AAQA,OATI,MAUA;AACJ+B,YAAI,CAAC6Y,WAAL,CACCxN,GAAG,CAACsN,OAAJ,YAAuBO,WAAvB,GACA7N,GAAG,CAACsN,OADJ,GACcK,eAAe,CAC5B3N,GAAG,CAACsN,OAAJ,CAAYM,OAAZ,IAAuB,KADK,EACE5N,GAAG,CAACsN,OADN,EACe1a,IADf,CAF9B;AAKA;AACD;;AAED,WAAO+B,IAAP;AACA;AA7SU,CAtBb;AAAA,IAqUCyV,GAAG,GAAS;AACXrP,UAAQ,EAAO,kBAAWpG,IAAX,EAAiB0N,IAAjB,EAAuBuJ,EAAvB,EAA2BR,SAA3B,EAAsCa,MAAtC,EAA+C;AAC7D,QAAKpd,EAAE,CAACkZ,MAAH,CAAU1F,IAAV,CAAL,EAAuB;AACtB,WAAM,IAAIvR,CAAV,IAAeuR,IAAf;AACC,YAAKA,IAAI,CAACpT,cAAL,CAAoB6B,CAApB,CAAL,EACC,KAAKiK,QAAL,CAAcpG,IAAd,EAAoB7D,CAApB,EAAuBuR,IAAI,CAACvR,CAAD,CAA3B,EAAgCsa,SAAhC,EAA2Ca,MAA3C;AAFF;;AAGA;AACA,KALD,MAMK,IAAK5J,IAAI,IAAI,WAAb,EAA2B;AAC/BmH,QAAE,CAAC8B,YAAH,CAAgB3W,IAAhB,EAAsByW,SAAtB,EAAiCN,SAAjC,CAA2Cta,IAA3C,CAAgD,CAACob,EAAD,EAAKR,SAAL,CAAhD;AACA,KAFI,MAGA,IAAK/I,IAAI,IAAI,MAAb,EAAsB;AAC1BmH,QAAE,CAAC8B,YAAH,CAAgB3W,IAAhB,EAAsByW,SAAtB,EAAiCH,IAAjC,CAAsCza,IAAtC,CAA2C,CAACob,EAAD,EAAKR,SAAL,CAA3C;AACA,KAFI,MAGA,IAAK/I,IAAI,IAAI,SAAb,EAAyB;AAC7BmH,QAAE,CAAC8B,YAAH,CAAgB3W,IAAhB,EAAsByW,SAAtB,EAAiCC,OAAjC,CAAyC7a,IAAzC,CAA8C,CAACob,EAAD,EAAKR,SAAL,CAA9C;AACA,KAFI,MAGA;AACJ,UAAKzW,IAAI,CAACwB,gBAAV,EAA6B;AAC5BxB,YAAI,CAACwB,gBAAL,CAAsBkM,IAAtB,EAA4BuJ,EAA5B,EAAgC;AAAEkC,iBAAO,EAAE;AAAX,SAAhC;AACA,OAFD,MAGK,IAAKnZ,IAAI,CAACuX,WAAV,EAAwB;AAC5BvX,YAAI,CAACuX,WAAL,CAAiB,OAAO7J,IAAxB,EACiBuJ,EAAE,CAACO,OAAH,GAAa,UAAW9c,CAAX,EAAe;AAC3B,iBAAOuc,EAAE,CAACb,IAAH,CAAQpW,IAAR,EAActF,CAAd,CAAP;AACA,SAHlB;AAIA;AACD;AAED,GA7BU;AA8BX8O,aAAW,EAAI,qBAAWxJ,IAAX,EAAiB0N,IAAjB,EAAuBuJ,EAAvB,EAA2BW,KAA3B,EAAkCN,MAAlC,EAA2C;AACzD,QAAIzhB,CAAJ,EAAO2f,IAAP;;AAEA,QAAKtb,EAAE,CAACkZ,MAAH,CAAU1F,IAAV,CAAL,EAAuB;AACtB,WAAM,IAAIvR,CAAV,IAAeuR,IAAf;AACC,YAAKA,IAAI,CAACpT,cAAL,CAAoB6B,CAApB,CAAL,EACC,KAAKqN,WAAL,CAAiBxJ,IAAjB,EAAuB7D,CAAvB,EAA0BuR,IAAI,CAACvR,CAAD,CAA9B,EAAmCyb,KAAnC;AAFF;AAIA,KALD,MAMK,IAAK,eAAejR,IAAf,CAAoB+G,IAApB,CAAL,EAAiC;AACrC8H,UAAI,GAAGX,EAAE,CAAC8B,YAAH,CAAgB3W,IAAhB,CAAP;;AACA6U,QAAE,CAAC6C,QAAH,CAAYlC,IAAI,CAAC9H,IAAD,CAAhB,EAAwBuJ,EAAxB,EAA4BW,KAA5B;;AACA,UAAK,CAACpC,IAAI,CAACW,SAAL,CAAelgB,MAAhB,IACD,CAACuf,IAAI,CAACc,IAAL,CAAUrgB,MADV,IAED,CAACuf,IAAI,CAACqB,OAAL,CAAa5gB,MAFb,IAGD,CAACuf,IAAI,CAACkB,OAAL,CAAazgB,MAHlB,EAIC4e,EAAE,CAACiC,aAAH,CAAiB9W,IAAjB;AACD,KARI,MASA;AACJ,UAAKA,IAAI,CAACsJ,mBAAV,EAAgC;AAC/BtJ,YAAI,CAACsJ,mBAAL,CAAyBoE,IAAzB,EAA+BuJ,EAA/B,EAAmCK,MAAnC;AACA,OAFD,MAGK,IAAKtX,IAAI,CAACuX,WAAV,EAAwB;AAC5BvX,YAAI,CAACyX,WAAL,CAAiB,OAAO/J,IAAxB,EAA8BuJ,EAAE,CAACO,OAAjC;AACA;AACD;AAED,GAzDU;AA0DXhG,QAAM,EAAS,gBAAW4H,IAAX,EAAkB;AAAC;AACjC,QAAIC,IAAI,GAAG;AAAErK,SAAG,EAAE,CAAP;AAAUF,UAAI,EAAE,CAAhB;AAAmBI,WAAK,EAAEkK,IAAI,CAACrR,WAA/B;AAA4CoH,YAAM,EAAEiK,IAAI,CAACvR;AAAzD,KAAX;;AACA,WAAQuR,IAAR,EAAe;AACdC,UAAI,CAACrK,GAAL,GAAYqK,IAAI,CAACrK,GAAL,GAAWgF,QAAQ,CAACoF,IAAI,CAACE,SAAN,CAA/B;AACAD,UAAI,CAACvK,IAAL,GAAYuK,IAAI,CAACvK,IAAL,GAAYkF,QAAQ,CAACoF,IAAI,CAAC/Q,UAAN,CAAhC;AACA+Q,UAAI,GAAQA,IAAI,CAACG,YAAjB;AACA;;AACD,WAAOF,IAAP;AACA,GAlEU;AAmEXnU,eAAa,EAAEoP,SAAS,IAAK,UAAW/S,MAAX,EAAmBgD,QAAnB,EAA8B;AAE1D,QAAIiQ,MAAM,GAAG,EAAb;AAAA,QAAiBgF,iBAAjB;AAAA,QAAoCC,gBAApC;AAAA,QAAsDC,OAAtD;AAAA,QAA+DC,OAA/D,CAF0D,CAI1D;;;AACA,QAAKpY,MAAM,CAACC,gBAAZ,EAA+B;AAC9BgY,uBAAiB,GAAG,kBAApB;AACAC,sBAAgB,GAAI,qBAApB;AACA,KAHD,MAIK;AACJD,uBAAiB,GAAG,aAApB;AACAC,sBAAgB,GAAI,aAApB;AACAjF,YAAM,GAAc,IAApB;AACA,KAbyD,CAe1D;;;AACAmF,WAAO,GAAG,aAAapV,QAAQ,CAAC0T,aAAT,CAAuB,KAAvB,CAAb,GAA6C,OAA7C,GAAuD;AACvD1T,YAAQ,CAACqV,YAAT,KAA0BzgB,SAA1B,GAAsC,YAAtC,GAAqD;AACrD,oBAFV,CAhB0D,CAkB9B;;AAE5B,QAAM0gB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAWT,IAAX,EAAiBU,QAAjB,EAA2BlC,KAA3B,EAAkCmC,UAAlC,EAA+C;AACvEC,uBAAiB,CAACZ,IAAD,EAAOO,OAAP,EAAgBG,QAAhB,EAA0BlC,KAA1B,EAAiCmC,UAAjC,CAAjB,CADuE,CAGvE;;;AACA,UAAKJ,OAAO,IAAI,gBAAhB,EAAmC;AAClCK,yBAAiB,CAACZ,IAAD,EAAO,qBAAP,EAA8BU,QAA9B,EAAwClC,KAAxC,EAA+CmC,UAA/C,CAAjB;AACA;AACD,KAPD,CApB0D,CA4B1D;;;AACA,QAAIE,UAAU,GAAW,EAAzB;AACA,QAAIC,WAAW,GAAU,EAAzB;AACA,QAAIC,WAAW,GAAU,GAAzB;;AAEA,aAASC,cAAT;AAAyB;AAAWC,SAApC;AAA4C;AAAW;AACtD,UAAIC,EAAE,GAAG,CAAT;AAAA,UAAYC,EAAE,GAAG,CAAjB;AAAA,UAA0B;AACtBC,QAAE,GAAW,CADjB;AAAA,UACoBC,EAAE,GAAG,CADzB,CADsD,CAEpB;AAElC;;AACA,UAAK,YAAYJ,KAAjB,EAAyB;AACxBE,UAAE,GAAGF,KAAK,CAACK,MAAX;AACA;;AACD,UAAK,gBAAgBL,KAArB,EAA6B;AAC5BE,UAAE,GAAG,CAACF,KAAK,CAACM,UAAP,GAAoB,GAAzB;AACA;;AACD,UAAK,iBAAiBN,KAAtB,EAA8B;AAC7BE,UAAE,GAAG,CAACF,KAAK,CAACO,WAAP,GAAqB,GAA1B;AACA;;AACD,UAAK,iBAAiBP,KAAtB,EAA8B;AAC7BC,UAAE,GAAG,CAACD,KAAK,CAACQ,WAAP,GAAqB,GAA1B;AACA,OAhBqD,CAkBtD;;;AACA,UAAK,UAAUR,KAAV,IAAmBA,KAAK,CAAC9R,IAAN,KAAe8R,KAAK,CAACS,eAA7C,EAA+D;AAC9DR,UAAE,GAAGC,EAAL;AACAA,UAAE,GAAG,CAAL;AACA;;AAEDC,QAAE,GAAGF,EAAE,GAAGL,UAAV;AACAQ,QAAE,GAAGF,EAAE,GAAGN,UAAV;;AAEA,UAAK,YAAYI,KAAjB,EAAyB;AACxBI,UAAE,GAAGJ,KAAK,CAAChV,MAAX;AACA;;AACD,UAAK,YAAYgV,KAAjB,EAAyB;AACxBG,UAAE,GAAGH,KAAK,CAAC/U,MAAX;AACA;;AAED,UAAK,CAACkV,EAAE,IAAIC,EAAP,KAAcJ,KAAK,CAACU,SAAzB,EAAqC;AACpC,YAAKV,KAAK,CAACU,SAAN,IAAmB,CAAxB,EAA4B;AAAW;AACtCP,YAAE,IAAIN,WAAN;AACAO,YAAE,IAAIP,WAAN;AACA,SAHD,MAIK;AAA8B;AAClCM,YAAE,IAAIL,WAAN;AACAM,YAAE,IAAIN,WAAN;AACA;AACD,OA3CqD,CA6CtD;;;AACA,UAAKK,EAAE,IAAI,CAACF,EAAZ,EAAiB;AAChBA,UAAE,GAAIE,EAAE,GAAG,CAAN,GAAW,CAAC,CAAZ,GAAgB,CAArB;AACA;;AACD,UAAKC,EAAE,IAAI,CAACF,EAAZ,EAAiB;AAChBA,UAAE,GAAIE,EAAE,GAAG,CAAN,GAAW,CAAC,CAAZ,GAAgB,CAArB;AACA;;AAED,aAAO;AACNO,aAAK,EAAGV,EADF;AAENW,aAAK,EAAGV,EAFF;AAGNW,cAAM,EAAEV,EAHF;AAINW,cAAM,EAAEV;AAJF,OAAP;AAMA;;AAED,aAAST,iBAAT,CAA4BZ,IAA5B,EAAkCgC,SAAlC,EAA6CtB,QAA7C,EAAuDlC,KAAvD,EAA8DmC,UAA9D,EAA2E;AAC1EX,UAAI,CAACI,iBAAD,CAAJ,CAAwBhF,MAAM,GAAG4G,SAAjC,EAA4CtB,QAAQ,CAACuB,UAAT,GAAsB,UAAW9V,aAAX,EAA2B;AAC5F,SAACA,aAAD,KAAmBA,aAAa,GAAGhE,MAAM,CAAC8Y,KAA1C,EAD4F,CAG5F;;AACA,YAAIA,KAAK,GAAG;AACX;AACA9U,uBAAa,EAAGA,aAFL;AAGX1O,gBAAM,EAAU0O,aAAa,CAAC1O,MAAd,IAAwB0O,aAAa,CAAC+V,UAH3C;AAIX5N,cAAI,EAAY,OAJL;AAKXqN,mBAAS,EAAOxV,aAAa,CAACmI,IAAd,IAAsB,qBAAtB,GAA8C,CAA9C,GAAkD,CALvD;AAMXpI,gBAAM,EAAU,CANL;AAOXiW,gBAAM,EAAU,CAPL;AAQX1V,wBAAc,EAAE,0BAAY;AAC3BN,yBAAa,CAACM,cAAd,GACAN,aAAa,CAACM,cAAd,EADA,GAEAN,aAAa,CAACiW,WAAd,GAA4B,KAF5B;AAGA,WAZU;AAaXC,oBAAU,EAAMrB,cAAc,CAAC7U,aAAD;AAbnB,SAAZ,CAJ4F,CAoB5F;;AACA,YAAKoU,OAAO,IAAI,YAAhB,EAA+B;AAC9BU,eAAK,CAAChV,MAAN,GAAe,CAAC,CAAD,GAAK,EAAL,GAAUE,aAAa,CAACoV,UAAvC,CAD8B,CAE9B;AACA;AACA;AACA,SALD,MAMK,IAAKhB,OAAO,IAAI,OAAX,IAAsBpF,IAAI,CAACC,MAAL,IAAe,KAA1C,EAAkD;AACtD6F,eAAK,CAAChV,MAAN,GAAeE,aAAa,CAACF,MAAd,GAAuB,CAAtC;AACA,SAFI,MAGA,IAAKsU,OAAO,IAAI,OAAhB,EAA0B;AAC9BU,eAAK,CAAChV,MAAN,GAAeE,aAAa,CAACF,MAAd,GAAuB,GAAtC;AACA,SAFI,MAGA;AACJgV,eAAK,CAAChV,MAAN,GAAeE,aAAa,CAACF,MAA7B;AACA,SAnC2F,CAoC5F;AACA;AAEA;AAEA;;;AACA,eAAOyU,QAAQ,CAAC1D,IAAT,CAAcwB,KAAK,IAAI,IAAvB,EAA6ByC,KAA7B,CAAP;AAEA,OA5CD,EA4CGN,UAAU,IAAI,KA5CjB;AA6CA;;AAED,WAAOF,gBAAP;AACA,GA/I2B,CA+IzBtY,MA/IyB,EA+IjBgD,QA/IiB,CAnEjB;AAmNXgF,cAAY,EAAG+K,SAAS,IAAK,UAAW/S,MAAX,EAAmBgD,QAAnB,EAA8B;AAE1D,QAAIiQ,MAAM,GAAG,EAAb;AAAA,QAAiBiF,gBAAjB;AAAA,QAAmCC,OAAnC;AAAA,QAA4CC,OAA5C,CAF0D,CAI1D;;;AACA,QAAKnY,gBAAL,EAAwB;AACvBiY,sBAAgB,GAAG,qBAAnB;AACA,KAFD,MAGK;AACJA,sBAAgB,GAAG,aAAnB;AACAjF,YAAM,GAAa,IAAnB;AACA,KAXyD,CAa1D;;;AACAmF,WAAO,GAAG,aAAapV,QAAQ,CAAC0T,aAAT,CAAuB,KAAvB,CAAb,GAA6C,OAA7C,GAAuD;AACvD1T,YAAQ,CAACqV,YAAT,KAA0BzgB,SAA1B,GAAsC,YAAtC,GAAqD;AACrD,oBAFV,CAd0D,CAgB9B;;AAE5B,QAAIuiB,eAAe,GAAG,SAAlBA,eAAkB,CAAWtC,IAAX,EAAiBU,QAAjB,EAA2BlC,KAA3B,EAAkCmC,UAAlC,EAA+C;AACpE4B,oBAAc,CAACvC,IAAD,EAAOO,OAAP,EAAgBG,QAAhB,EAA0BlC,KAA1B,EAAiCmC,UAAjC,CAAd,CADoE,CAGpE;;;AACA,UAAKJ,OAAO,IAAI,gBAAhB,EAAmC;AAClCgC,sBAAc,CAACvC,IAAD,EAAO,qBAAP,EAA8BU,QAA9B,EAAwClC,KAAxC,EAA+CmC,UAA/C,CAAd;AACA;AACD,KAPD;;AASA,aAAS4B,cAAT,CAAyBvC,IAAzB,EAA+BgC,SAA/B,EAA0CtB,QAA1C,EAAoDlC,KAApD,EAA2DmC,UAA3D,EAAwE;AACvEX,UAAI,CAACK,gBAAD,CAAJ,CAAuBjF,MAAM,GAAG4G,SAAhC,EAA2CtB,QAAQ,CAACuB,UAApD;AACA;;AAED,WAAOK,eAAP;AACA,GAhC2B,CAgCzBna,MAhCyB,EAgCjBgD,QAhCiB,CAnNjB;;AAsPX;;;;;AAKAJ,kBA3PW,4BA2POsC,OA3PP,EA2PiB;AAC3B,QAAImV,SAAJ;AAAA,QAAeC,KAAK,GAAG,EAAvB;;AACA,SAAM,IAAMpmB,GAAZ,IAAmBgR,OAAnB,EAA6B;AAC5B,UAAKhR,GAAG,CAACqmB,UAAJ,CAAe,0BAAf,CAAL,EAAkD;AACjDF,iBAAS,GAAGnV,OAAO,CAAChR,GAAD,CAAP,UAAZ;;AACA,eAAQmmB,SAAS,UAAjB,EAA2B;AAC1BA,mBAAS,GAAGA,SAAS,UAArB;AACA,cAAKA,SAAS,CAACG,SAAf,EACCF,KAAK,CAAChgB,IAAN,CAAW+f,SAAS,CAACG,SAArB;AACD;;AACD,eAAOF,KAAP;AACA;AACD;;AACD,WAAOpV,OAAO,CAACuV,UAAR,IAAsB,KAAK7X,gBAAL,CAAsBsC,OAAO,CAACuV,UAA9B,CAA7B;AACA;AAzQU,CArUb;;AAilBevG,kEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/lBA;;;;;;;;;;;;;;;;;AAkBA;AACA;AAEA;AAGA,IAAMta,iBAAiB,GAAI,EAAD,CAAKC,WAA/B;AAGA;;;;;;AAKe,SAAS6gB,WAAT,GAAgC;AAAA,oCAAPvf,IAAO;AAAPA,QAAO;AAAA;;AAE9C,MAAIC,aAAa,GAAG,CAAC,CAACD,IAAI,CAAC,CAAD,CAAL,IAAYA,IAAI,CAAC,CAAD,CAAJ,CAAQE,SAAR,YAA6BvE,4CAAK,CAACC,SAA/C,IAA4DoE,IAAI,CAAC,CAAD,CAAJ,KAAYrE,4CAAK,CAACC,SAA/E,KAA6FoE,IAAI,CAACG,KAAL,EAAjH;AAAA,MACIC,IAAI,GAAY,CAAC,CAACJ,IAAI,CAAC,CAAD,CAAL,IAAYA,IAAI,CAAC,CAAD,CAAJ,YAAmBvB,iBAAhC,KAAsDuB,IAAI,CAACG,KAAL,EAAtD,IAAsE,EAD1F;;AAGA,MAAK,EAAEF,aAAa,KAAKA,aAAa,CAACC,SAAd,YAAmCvE,4CAAK,CAACC,SAAzC,IAAsDqE,aAAa,KAAKtE,4CAAK,CAACC,SAAnF,CAAf,CAAL,EAAqH;AACpH,WAAO,UAAWqE,aAAX,EAA2B;AACjC,aAAOsf,WAAW,CAACtf,aAAD,EAAgBG,IAAhB,CAAlB;AACA,KAFD;AAGA;;AAT6C,MAWxCof,cAXwC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAcpC;AAAA;;AACR,eAAO,2DAAC,uDAAD,CAAgB,QAAhB,QAEL,UAAAnkB,OAAO,EAAI;AACV,iBAAO,2DAAC,aAAD,4EAAoB,KAAI,CAACR,KAAzB;AAAiC,mBAAO,EAAGQ,OAA3C;AAAqD,eAAG,EAAG,KAAI,CAACR,KAAL,CAAW4kB;AAAtE,aAAP;AACA,SAJI,CAAP;AAOA;AAtB4C;;AAAA;AAAA,IAWjB9jB,4CAAK,CAACC,SAXW;;AAWxC4jB,gBAXwC,CAYtCnS,WAZsC,GAYvBpN,aAAa,CAACoN,WAAd,IAA6BpN,aAAa,CAAChH,IAZpB;AA0B9C,MAAIymB,OAAO,GAAW/jB,4CAAK,CAACgkB,UAAN,CAAiB,UAAE9kB,KAAF,EAASwI,GAAT,EAAkB;AACxD,WAAO,2DAAC,cAAD,4EAAqBxI,KAArB;AAA6B,kBAAY,EAAGwI;AAA5C,OAAP;AACA,GAFqB,CAAtB;AAGAqc,SAAO,CAACrS,WAAR,GAAsBmS,cAAc,CAACnS,WAArC;AACA,SAAOqS,OAAP;AACA,C;;;;;;;;;;;AC/DD,6E;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,yE","file":"react-rtween.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/* This is a virtual file generated by webpack-inherit */let req, _exports = {}, root;\n\t\t\t\t\t\treq = require.context(\"G:\\\\n8tz\\\\various\\\\www.mamasound.fr\\\\libs\\\\react-rtween\\\\src\\\\helpers\\\\css\\\\demux\", true, /^\\.\\/([^\\\\\\/]+)\\.js$/);\n\t\t\t\t\t\t\n\t\t\t\t\t\treq.keys().forEach(function (key) {\n\t\t\t\t\t\t    let mod,\n\t\t\t\t\t\t        name=key.match( /^\\.\\/([^\\\\\\/]+)\\.js$/),\n\t\t\t\t\t\t        i=0,\n\t\t\t\t\t\t        modExport=_exports;\n\t\t\t\t\t\t    name = name&&name[1]||key.substr(2);\n\t\t\t\t\t\t    name = name.split('/');\n\t\t\t\t\t\t    mod  = req(key);\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    while(i<name.length-1)\n\t\t\t\t\t\t       modExport=modExport[name[i]]=modExport[name[i]]||{}, i++;\n\t\t\t\t\t\t    modExport[name[i]] = Object.keys(mod).length === 1 && mod.default || mod;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\nexport const $all = _exports.$all;\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const filter = _exports.filter;\n\nexport const transform = _exports.transform;\n\nexport default _exports;","/* This is a virtual file generated by webpack-inherit */let req, _exports = {}, root;\n\t\t\t\t\t\treq = require.context(\"G:\\\\n8tz\\\\various\\\\www.mamasound.fr\\\\libs\\\\react-rtween\\\\src\\\\helpers\\\\css\\\\demux\\\\typed\", true, /^\\.\\/([^\\\\\\/]+)\\.js$/);\n\t\t\t\t\t\t\n\t\t\t\t\t\treq.keys().forEach(function (key) {\n\t\t\t\t\t\t    let mod,\n\t\t\t\t\t\t        name=key.match( /^\\.\\/([^\\\\\\/]+)\\.js$/),\n\t\t\t\t\t\t        i=0,\n\t\t\t\t\t\t        modExport=_exports;\n\t\t\t\t\t\t    name = name&&name[1]||key.substr(2);\n\t\t\t\t\t\t    name = name.split('/');\n\t\t\t\t\t\t    mod  = req(key);\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    while(i<name.length-1)\n\t\t\t\t\t\t       modExport=modExport[name[i]]=modExport[name[i]]||{}, i++;\n\t\t\t\t\t\t    modExport[name[i]] = Object.keys(mod).length === 1 && mod.default || mod;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport default _exports;","/*\r\n *\r\n * Copyright (C) 2019 Nathanael Braun\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React     from 'react';\r\nimport shortid   from 'shortid';\r\nimport PropTypes from \"prop-types\";\r\nimport is        from \"is\";\r\n\r\nimport TweenerContext from \"./TweenerContext\";\r\n\r\nfunction setTarget( anims, target ) {\r\n\treturn anims.map(\r\n\t\ttween => ({\r\n\t\t\t...tween,\r\n\t\t\ttarget\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport default class TweenAxis extends React.Component {\r\n\tstatic propTypes = {\r\n\t\taxe            : PropTypes.string.isRequired,\r\n\t\titems          : PropTypes.array,\r\n\t\tinertia        : PropTypes.any,\r\n\t\tdefaultPosition: PropTypes.number,\r\n\t\tsize           : PropTypes.any\r\n\t};\r\n\tstate            = {};\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\t\r\n\t\tif ( this._tweenLines ) {\r\n\t\t\tObject.keys(this._tweenLines)\r\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\r\n\t\t\t\r\n\t\t}\r\n\t\tdelete this._previousTweener;\r\n\t\tdelete this._previousScrollable;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {\r\n\t\t\t    children,\r\n\t\t\t    axe, scrollFirst,\r\n\t\t\t    scrollableWindow, inertia, size, defaultPosition,\r\n\t\t\t    items = [],\r\n\t\t    } = this.props;\r\n\t\treturn <TweenerContext.Consumer>\r\n\t\t\t{\r\n\t\t\t\ttweener => {\r\n\t\t\t\t\t//if ( React.isValidElement(children) ) {\r\n\t\t\t\t\t//\tchildren = React.cloneElement(\r\n\t\t\t\t\t//\t\tchildren,\r\n\t\t\t\t\t//\t\t{\r\n\t\t\t\t\t//\t\t\t...tweener.tweenRef(id, style || children.props.style, initial, pos, noRef, reset),\r\n\t\t\t\t\t//\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, tweener)),\r\n\t\t\t\t\t//\t\t\tonClick      : onClick && (e => onClick(e, tweener))\r\n\t\t\t\t\t//\t\t}\r\n\t\t\t\t\t//\t);\r\n\t\t\t\t\t//\r\n\t\t\t\t\t//}\r\n\t\t\t\t\tif ( !this._previousInertia || this._previousInertia !== inertia ) {//....\r\n\t\t\t\t\t\tthis._previousInertia = inertia;\r\n\t\t\t\t\t\ttweener.initAxis(axe, { inertia, size, scrollableWindow, defaultPosition, scrollFirst });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( !this._previousTweener || this._previousTweener !== tweener ) {// mk axe not modifiable\r\n\t\t\t\t\t\tthis._previousTweener && this._lastTL && this._previousTweener.rmScrollableAnim(this._lastTL, axe);\r\n\t\t\t\t\t\tif ( items.length )\r\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\r\n\t\t\t\t\t\tthis._previousTweener = tweener;\r\n\t\t\t\t\t\tthis._previousTweens  = items;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( this._previousTweens !== items ) {\r\n\t\t\t\t\t\tthis._lastTL && tweener.rmScrollableAnim(this._lastTL, axe);\r\n\t\t\t\t\t\tthis._lastTL = null;\r\n\t\t\t\t\t\tif ( items.length )\r\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\r\n\t\t\t\t\t\tthis._previousTweens = items;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn <React.Fragment/>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t</TweenerContext.Consumer>;\r\n\t}\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport React   from 'react';\r\nimport shortid from 'shortid';\r\n\r\nimport is from \"is\";\r\n\r\nimport TweenerContext from \"./TweenerContext\";\r\n\r\nfunction setTarget( anims, target ) {\r\n\treturn anims.map(\r\n\t\ttween => ({\r\n\t\t\t...tween,\r\n\t\t\ttarget\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport default class TweenRef extends React.Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t};\r\n\tstate            = {};\r\n\t__tweenableId    = shortid.generate();\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\t\r\n\t\tif ( this._tweenLines ) {\r\n\t\t\tObject.keys(this._tweenLines)\r\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\r\n\t\t\t\r\n\t\t}\r\n\t\tif ( this._previousTweener ) {\r\n\t\t\tthis._previousTweener.rmTweenRef(this.__tweenableId)\r\n\t\t\tthis._previousTweener.setRootRef(undefined);\r\n\t\t}\r\n\t\tdelete this._previousTweener;\r\n\t\tdelete this._previousScrollable;\r\n\t}\r\n\t\r\n\tcomponentDidUpdate( prevProps, prevState, snapshot ) {\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {\r\n\t\t\t    children,\r\n\t\t\t    id            = this.__tweenableId,\r\n\t\t\t    style, initial, pos, noRef, reset, tweener,\r\n\t\t\t    isRoot,\r\n\t\t\t    tweenLines,\r\n\t\t\t    onClick       = children && children.props && children.props.onClick,\r\n\t\t\t    onDoubleClick = children && children.props && children.props.onDoubleClick\r\n\t\t    } = this.props;\r\n\t\treturn <TweenerContext.Consumer>\r\n\t\t\t{\r\n\t\t\t\tparentTweener => {//@todo : should use didmount ?\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tparentTweener = tweener || parentTweener;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( this._previousTweener !== parentTweener || this._previousScrollable !== tweenLines ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( this._tweenLines ) {\r\n\t\t\t\t\t\t\tObject.keys(this._tweenLines)\r\n\t\t\t\t\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( tweenLines && is.array(tweenLines) )\r\n\t\t\t\t\t\t\tthis._tweenLines = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenLines, id)) };\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis._tweenLines = tweenLines &&\r\n\t\t\t\t\t\t\t\tObject.keys(tweenLines)\r\n\t\t\t\t\t\t\t\t      .reduce(( h, axe ) => (h[axe] = parentTweener.addScrollableAnim(setTarget(tweenLines[axe], id), axe), h), {});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( this._previousTweener !== parentTweener )\r\n\t\t\t\t\t\t\tthis._previousTweener && this._previousTweener.rmTweenRef(this.__tweenableId)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( this.props.hasOwnProperty(\"isRoot\") ) {\r\n\t\t\t\t\t\t\tthis._previousTweener && this._previousTweener.setRootRef(undefined);\r\n\t\t\t\t\t\t\ttweener.setRootRef(id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._previousTweener    = parentTweener;\r\n\t\t\t\t\t\tthis._previousScrollable = tweenLines;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( React.isValidElement(children) ) {\r\n\t\t\t\t\t\tchildren = React.cloneElement(\r\n\t\t\t\t\t\t\tchildren,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t...parentTweener.tweenRef(id, style || children.props.style, initial, pos, noRef, reset),\r\n\t\t\t\t\t\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, parentTweener)),\r\n\t\t\t\t\t\t\t\tonClick      : onClick && (e => onClick(e, parentTweener))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn children;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t</TweenerContext.Consumer>;\r\n\t}\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport React from 'react';\r\n\r\nconst TweenerContext = React.createContext(null);\r\nexport default TweenerContext","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React                             from \"react\";\nimport is                                from \"is\";\nimport utils                             from \"./utils\";\nimport Inertia, {applyInertia}           from './helpers/Inertia';\nimport TweenerContext                    from \"./TweenerContext\";\nimport rTween                            from \"rtween\";\nimport * as easingFn                     from \"d3-ease\";\nimport ReactDom                          from \"react-dom\";\nimport {deMuxTween, muxToCss, deMuxLine} from \"./helpers/css\";\n\n/**\n * @todo : clean & comments\n */\n\n\nlet isBrowserSide           = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\n    isArray                 = is.array,\n    _live, lastTm, _running = [];\n\nconst SimpleObjectProto = ({}).constructor;\n\nconst Runner = {\n\trun  : function ( tl, ctx, duration, cb ) {\n\t\tlet apply = ( pos, size ) => tl.go(pos / size, ctx);\n\t\t_running.push({ apply, duration, cpos: 0, cb });\n\t\ttl.go(0, ctx, true);//reset tl\n\t\t\n\t\tif ( !_live ) {\n\t\t\t_live  = true;\n\t\t\tlastTm = Date.now();\n\t\t\t// console.log(\"TL runner On\");\n\t\t\tsetTimeout(this._tick, 16);\n\t\t}\n\t},\n\t_tick: function _tick() {\n\t\tvar i  = 0, o, tm = Date.now(), delta = tm - lastTm;\n\t\tlastTm = tm;\n\t\tfor ( ; i < _running.length; i++ ) {\n\t\t\t_running[i].cpos = Math.min(delta + _running[i].cpos, _running[i].duration);//cpos\n\t\t\t_running[i].apply(\n\t\t\t\t_running[i].cpos, _running[i].duration\n\t\t\t);\n\t\t\t// console.log(\"TL runner \",_running[i][3]);\n\t\t\tif ( _running[i].cpos == _running[i].duration ) {\n\t\t\t\t\n\t\t\t\t_running[i].cb && setTimeout(_running[i].cb);\n\t\t\t\t_running.splice(i, 1), i--;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif ( _running.length )\n\t\t\tsetTimeout(_tick, 16);\n\t\telse {\n\t\t\t// console.log(\"TL runner Off\");\n\t\t\t_live = false;\n\t\t}\n\t},\n};\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !BaseComponent ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn asTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\topts = {\n\t\t...opts,\n\t\twheelRatio: 5,\n\t};\n\t\n\treturn class TweenableComp extends BaseComponent {\n\t\tstatic displayName = String.fromCharCode(0xD83E, 0xDDD9) + (BaseComponent.displayName || BaseComponent.name);\n\t\t\n\t\tconstructor() {\n\t\t\tsuper(...arguments);\n\t\t\tthis._           = {\n\t\t\t\trefs       : {},\n\t\t\t\tmuxByTarget: {},\n\t\t\t};\n\t\t\tthis._.box       = {\n\t\t\t\tx: 100,\n\t\t\t\ty: 100,\n\t\t\t\tz: 800\n\t\t\t};\n\t\t\tthis._._rafLoop  = this._rafLoop.bind(this);\n\t\t\tthis.__isTweener = true;\n\t\t\t\n\t\t}\n\t\t\n\t\tresetTweenable( ...targets ) {\n\t\t\tlet _ = this._;\n\t\t\ttargets.forEach(\n\t\t\t\t( t ) => {\n\t\t\t\t\tthis.tweenRef(t, _.tweenRefOriginCss[t], _.iMapOrigin[t], null, null, true)\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis._updateTweenRefs();\n\t\t}\n\t\t\n\t\t/**\n\t\t * Register tweenable element\n\t\t * return its current style\n\t\t * @param id\n\t\t * @param iStyle\n\t\t * @param iMap\n\t\t * @param pos\n\t\t * @param noref\n\t\t * @param mapReset\n\t\t * @returns {style,ref}\n\t\t */\n\t\ttweenRef( id, iStyle, iMap, pos, noref, mapReset ) {// ref initial style\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tlet _            = this._,\n\t\t\t    tweenableMap = {};\n\t\t\t\n\t\t\tlet initials = {};\n\t\t\tif ( !_.tweenRefs[id] )\n\t\t\t\t_.tweenRefTargets.push(id);\n\t\t\t\n\t\t\t\n\t\t\tif ( _.tweenRefs[id] && (_.iMapOrigin[id] !== iMap || mapReset) ) {\n\t\t\t\t// hot switch initial values\n\t\t\t\t\n\t\t\t\t_.iMapOrigin[id] = iMap;\n\t\t\t\tiStyle           = iStyle || {};\n\t\t\t\tiMap             = iMap || {};\n\t\t\t\t\n\t\t\t\tif ( mapReset ) {\n\t\t\t\t\t_.muxByTarget[id]     = {};\n\t\t\t\t\t_.muxDataByTarget[id] = {};\n\t\t\t\t\tObject.keys(_.tweenRefCSS[id])// unset\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (iStyle[key] = iStyle[key] || '')\n\t\t\t\t\t      );\n\t\t\t\t\t_.tweenRefMaps[id] = tweenableMap = { ..._.tweenRefOrigin[id] };\n\t\t\t\t\tiStyle             = {\n\t\t\t\t\t\t...iStyle, ...deMuxTween(iMap, tweenableMap, initials,\n\t\t\t\t\t\t                         _.muxDataByTarget[id], _.muxByTarget[id], true)\n\t\t\t\t\t};\n\t\t\t\t\tObject.assign(_.tweenRefCSS[id], _.tweenRefOriginCss[id]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//_.muxByTarget[id]     = {};\n\t\t\t\t\tdelete _.muxDataByTarget[id].transform_head;\n\t\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true) };\n\t\t\t\t\t// minus initial values\n\t\t\t\t\tObject.keys(_.tweenRefOrigin[id])\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\n\t\t\t\t\t      );\n\t\t\t\t\t// set defaults values in case of\n\t\t\t\t\tObject.keys(initials)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\n\t\t\t\t\t\t                                        ? _.tweenRefMaps[id][key]\n\t\t\t\t\t\t                                        : initials[key])\n\t\t\t\t\t      );\n\t\t\t\t\t// add new initial values\n\t\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] += tweenableMap[key])\n\t\t\t\t\t      );\n\t\t\t\t\t\n\t\t\t\t\tObject.keys(_.tweenRefMaps[id])// unset\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => {\n\t\t\t\t\t\t\t      //key == \"width\" &&\n\t\t\t\t\t\t\t      if ( _.tweenRefOrigin[id].hasOwnProperty(key) && !tweenableMap.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\t\t      delete _.tweenRefMaps[id][key]\n\t\t\t\t\t\t\t\t      delete _.muxByTarget[id][key]\n\t\t\t\t\t\t\t      }\n\t\t\t\t\t\t      }\n\t\t\t\t\t      );\n\t\t\t\t\t_.tweenRefOrigin[id]    = { ...tweenableMap };\n\t\t\t\t\t_.tweenRefOriginCss[id] = { ...iStyle };\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//let newCss        = {};\n\t\t\t\t//_.tweenRefMaps[t] = { ..._.tweenRefOrigin[t] };\n\t\t\t\t\n\t\t\t\tmuxToCss(_.tweenRefMaps[id], _.tweenRefCSS[id], _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t}\n\t\t\telse if ( !_.tweenRefs[id] ) {\n\t\t\t\t_.iMapOrigin[id] = iMap;\n\t\t\t\tiStyle           = iStyle || {};\n\t\t\t\tiMap             = iMap || {};\n\t\t\t\t\n\t\t\t\t_.tweenRefs[id]       = true;\n\t\t\t\t_.muxByTarget[id]     = _.muxByTarget[id] || {};\n\t\t\t\t_.muxDataByTarget[id] = _.muxDataByTarget[id] || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true) };\n\t\t\t\t//_.tweenRefUnits[id] = extractUnits(iMap);\n\t\t\t\t//}\n\t\t\t\t_.tweenRefOrigin[id]    = tweenableMap;\n\t\t\t\t_.tweenRefOriginCss[id] = { ...iStyle };\n\t\t\t\t_.tweenRefCSS[id]       = iStyle;\n\t\t\t\t_.tweenRefMaps[id]      = _.tweenRefMaps[id] || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//Object.keys(initials)\n\t\t\t\t//      .forEach(\n\t\t\t\t//\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\n\t\t\t\t//\t                                        ? _.tweenRefMaps[id][key]\n\t\t\t\t//\t                                        : initials[key])\n\t\t\t\t//      );\n\t\t\t\tif ( tweenableMap.hasOwnProperty(\"opacity\") && _.tweenRefMaps[id].hasOwnProperty(\"opacity\") ) {\n\t\t\t\t\t_.tweenRefMaps[id].opacity -= initials.opacity;\n\t\t\t\t}\n\t\t\t\t// init / reset or get the tweenable view\n\t\t\t\ttweenableMap = Object.assign({ ..._.tweenRefMaps[id] }, initials, tweenableMap || {});\n\t\t\t\t// set defaults values in case of\n\t\t\t\t// add new initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = (_.tweenRefMaps[id][key] || 0) + tweenableMap[key])\n\t\t\t\t      );\n\t\t\t\ttweenableMap = _.tweenRefMaps[id];\n\t\t\t\tmuxToCss(tweenableMap, iStyle, _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t\t\n\t\t\t}\n\t\t\t//console.log('tweenRef::tweenRef:519: ', id, _.tweenRefCSS[id], tweenableMap);\n\t\t\tif ( noref )\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] }\n\t\t\t\t};\n\t\t\telse\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] },\n\t\t\t\t\tref  : node => (_.refs[id] = node)\n\t\t\t\t\t,\n\t\t\t\t\t// __tweenMap : this._.tweenRefMaps[id],\n\t\t\t\t\t// __tweenCSS : this._.tweenRefCSS[id]\n\t\t\t\t};\n\t\t}\n\t\t\n\t\trmTweenRef( id ) {\n\t\t\tif ( this._.tweenRefs[id] ) {\n\t\t\t\tthis._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\n\t\t\t\tdelete this._.tweenRefs[id];\n\t\t\t\tdelete this._.muxByTarget[id];\n\t\t\t\tdelete this._.muxDataByTarget[id];\n\t\t\t\tdelete this._.iMapOrigin[id];\n\t\t\t\tdelete this._.tweenRefOrigin[id];\n\t\t\t\tdelete this._.tweenRefCSS[id];\n\t\t\t\tdelete this._.tweenRefMaps[id];\n\t\t\t\tdelete this._.refs[id];\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tsetRootRef( id ) {\n\t\t\tthis._.rootRef = id;\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// -------------------- Pushable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t/**\n\t\t * Push anims\n\t\t * @param anim\n\t\t * @param then\n\t\t * @param skipInit\n\t\t * @returns {rTween}\n\t\t */\n\t\tpushAnim( anim, then, skipInit ) {\n\t\t\tvar sl, initial, muxed, initials = {};\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl      = anim.anims;\n\t\t\t\tinitial = anim.initial;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rTween) ) {\n\t\t\t\t// tweenLine, initials, data, demuxers\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new rTween(sl, this._.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => (\n\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t      })\n\t\t\t\t\t      )\n\t\t\t\t      )\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t// console.warn(\"Should start anim \", sl);\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\t\n\t\t\t!skipInit && initial && Object.keys(initial).map(\n\t\t\t\t( id ) => this.applyTweenState(id, initial[id], anim.reset)\n\t\t\t);\n\t\t\t\n\t\t\t\n\t\t\tsl.run(this._.tweenRefMaps, () => {\n\t\t\t\tvar i = this._.runningAnims.indexOf(sl);\n\t\t\t\tif ( i != -1 )\n\t\t\t\t\tthis._.runningAnims.splice(i, 1);\n\t\t\t\t\n\t\t\t\tthen && then(sl);\n\t\t\t});//launch\n\t\t\tthis._.runningAnims.push(sl);\n\t\t\t\n\t\t\t\n\t\t\tif ( !this._.live ) {\n\t\t\t\tthis._.live = true;\n\t\t\t\t//console.log(\"RAF On\");\n\t\t\t\trequestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\n\t\t\t}\n\t\t\treturn sl;\n\t\t\t\n\t\t}\n\t\t\n\t\tregisterPropChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByProp                    = this._.rtweensByProp || {};\n\t\t\tthis._.rtween                           = this._.rtween || new rTween();\n\t\t\tthis._.rtweensByProp[propId]            = this._.rtweensByProp[propId] || {};\n\t\t\tthis._.rtweensByProp[propId][propValue] = this._.rtweensByProp[propId][propValue] ||\n\t\t\t\tnew rTween();\n\t\t\t\n\t\t\tthis._.rtweensByProp[propId][propValue].mount(anims);\n\t\t}\n\t\t\n\t\tregisterStateChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByStateProp                    = this._.rtweensByStateProp || {};\n\t\t\tthis._.rtween                                = this._.rtween || new rTween();\n\t\t\tthis._.rtweensByStateProp[propId]            = this._.rtweensByStateProp[propId] || {};\n\t\t\tthis._.rtweensByStateProp[propId][propValue] = this._.rtweensByStateProp[propId][propValue] ||\n\t\t\t\tnew rTween();\n\t\t\t\n\t\t\tthis._.rtweensByStateProp[propId][propValue].mount(anims);\n\t\t}\n\t\t\n\t\tmakeTweenable() {\n\t\t\tif ( !this._.tweenEnabled ) {\n\t\t\t\tthis._.rtweensByProp       = {};\n\t\t\t\tthis._.rtweensByStateProp  = {};\n\t\t\t\tthis._.tweenRefCSS         = {};\n\t\t\t\tthis._.tweenRefs           = {};\n\t\t\t\tthis._.tweenRefMaps        = {};\n\t\t\t\tthis._.iMapOrigin          = {};\n\t\t\t\tthis._.tweenRefInitialData = {};\n\t\t\t\tthis._.tweenEnabled        = true;\n\t\t\t\tthis._.tweenRefOrigin      = {};\n\t\t\t\tthis._.tweenRefOriginCss   = {};\n\t\t\t\tthis._.axes                = {};\n\t\t\t\tthis._.muxDataByTarget     = this._.muxDataByTarget || {};\n\t\t\t\tthis._.tweenRefDemuxed     = this._.tweenRefDemuxed || {};\n\t\t\t\tthis._.tweenRefTargets     = this._.tweenRefTargets || [];\n\t\t\t\tthis._.runningAnims        = this._.runningAnims || [];\n\t\t\t\t\n\t\t\t\tisBrowserSide && window.addEventListener(\n\t\t\t\t\t\"resize\",\n\t\t\t\t\tthis._.onResize = () => {//@todo\n\t\t\t\t\t\tthis._updateBox();\n\t\t\t\t\t\tthis._updateTweenRefs()\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// ------------------ Scrollable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Tween this tween line to 'to' during 'tm' ms using easing fn\n\t\t * @param to {int}\n\t\t * @param tm {int} duration in ms\n\t\t * @param easing {function} easing fn\n\t\t * @param tick {function} fn called at each tick\n\t\t * @param cb {function} fn called on complete\n\t\t */\n\t\t_runScrollGoTo( axe, to, tm, easing = x => x, tick, cb ) {\n\t\t\tlet from   = this._.axes[axe].scrollPos,\n\t\t\t    length = to - from;\n\t\t\t\n\t\t\t_running.push(\n\t\t\t\t{\n\t\t\t\t\tapply   : ( pos, max ) => {\n\t\t\t\t\t\tlet x = (from + (easing(pos / max)) * length);\n\t\t\t\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t\t\t\t//console.log('TweenableComp::setPos:514: ', x);\n\t\t\t\t\t\t\tthis._.axes[axe].tweenLines.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttick && tick(x);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tduration: tm,\n\t\t\t\t\tcpos    : 0,\n\t\t\t\t\tcb\n\t\t\t\t})\n\t\t\t;\n\t\t\t\n\t\t\tif ( !_live ) {\n\t\t\t\t_live  = true;\n\t\t\t\tlastTm = Date.now();\n\t\t\t\t// console.log(\"TL runner On\");\n\t\t\t\tsetTimeout(Runner._tick, 16);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_getAxis( axe = \"scrollY\" ) {\n\t\t\tlet _ = this._;\n\t\t\t\n\t\t\t_.axes[axe] = _.axes[axe] || {\n\t\t\t\ttweenLines      : [],\n\t\t\t\tscrollPos       : opts.initialScrollPos && opts.initialScrollPos[axe] || 0,\n\t\t\t\ttargetPos       : 0,\n\t\t\t\tscrollableWindow: 0,\n\t\t\t\tscrollableArea  : 0,\n\t\t\t\tinertia         : new Inertia({\n\t\t\t\t\t                              value: opts.initialScrollPos && opts.initialScrollPos[axe] || 0,\n\t\t\t\t\t                              ...(opts.axes && opts.axes[axe] && opts.axes[axe].inertia || {})\n\t\t\t\t                              }),\n\t\t\t};\n\t\t\t\n\t\t\treturn _.axes[axe];\n\t\t}\n\t\t\n\t\tgetAxisState() {\n\t\t\tlet _ = this._, state = {};\n\t\t\t_.axes && Object.keys(_.axes)\n\t\t\t                .forEach(\n\t\t\t\t                axe => (state[axe] = _.axes[axe].targetPos || _.axes[axe].scrollPos)\n\t\t\t                );\n\t\t\treturn state;\n\t\t}\n\t\t\n\t\tinitAxis( axe, { inertia: _inertia, scrollableArea: _scrollableArea = 0, scrollableWindow: _scrollableWindow, defaultPosition, scrollFirst } ) {\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\tlet _                = this._,\n\t\t\t    dim              = _.axes[axe],\n\t\t\t    scrollPos        = dim ? dim.scrollPos : defaultPosition || 0,\n\t\t\t    scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\n\t\t\t    scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\n\t\t\t    targetPos        = dim ? dim.targetPos : scrollPos,\n\t\t\t    inertia          = _inertia !== false && (\n\t\t\t\t    dim ? dim.inertia : new Inertia({// todo mk pure\n\t\t\t\t\t                                    ...(_inertia || {}),\n\t\t\t\t\t                                    value: scrollPos\n\t\t\t\t                                    })),\n\t\t\t    nextDescr        = {\n\t\t\t\t    ...(_inertia || {}),\n\t\t\t\t    scrollFirst,\n\t\t\t\t    tweenLines: dim && dim.tweenLines || [],\n\t\t\t\t    scrollPos,\n\t\t\t\t    targetPos,\n\t\t\t\t    inertia,\n\t\t\t\t    scrollableWindow,\n\t\t\t\t    scrollableArea\n\t\t\t    }\n\t\t\t;\n\t\t\t\n\t\t\tdim = this._.axes[axe] = nextDescr;\n\t\t\t//console.log('TweenableComp::initAxis:519: ', axe, dim.scrollPos);\n\t\t\t(_inertia) && (dim.inertia._.wayPoints = _inertia.wayPoints);\n\t\t}\n\t\t\n\t\taddScrollableAnim( anim, axe = \"scrollY\", size ) {\n\t\t\tvar sl,\n\t\t\t    _        = this._,\n\t\t\t    initials = {},\n\t\t\t    dim      = this._getAxis(axe);\n\t\t\t\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl   = anim.anims;\n\t\t\t\tsize = anim.length;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rTween) ) {\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new rTween(sl, _.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => {\n\t\t\t\t\t\t      this._.tweenRefMaps[id] = this._.tweenRefMaps[id] || {},\n\t\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t\t      })\n\t\t\t\t\t      }\n\t\t\t\t      )\n\t\t\t}\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\t\n\t\t\t// init scroll\n\t\t\tdim.tweenLines.push(sl);\n\t\t\tdim.scrollPos      = dim.scrollPos || 0;\n\t\t\tdim.scrollableArea = dim.scrollableArea || 0;\n\t\t\tdim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\n\t\t\tdim.inertia.setBounds(0, dim.scrollableArea);\n\t\t\tsl.goTo(dim.scrollPos, this._.tweenRefMaps);\n\t\t\tthis._updateTweenRefs();\n\t\t\t//console.log('TweenableComp::addScrollableAnim:519: ', axe, dim.scrollPos);\n\t\t\treturn sl;\n\t\t}\n\t\t\n\t\trmScrollableAnim( sl, axe = \"scrollY\" ) {\n\t\t\tvar _   = this._, found,\n\t\t\t    dim = this._getAxis(axe);\n\t\t\tlet i   = dim.tweenLines.indexOf(sl);\n\t\t\tif ( i != -1 ) {\n\t\t\t\tdim.tweenLines.splice(i, 1);\n\t\t\t\tdim.scrollableArea = Math.max(...dim.tweenLines.map(tl => tl.duration), 0);\n\t\t\t\tdim.inertia.setBounds(0, dim.scrollableArea || 0);\n\t\t\t\tsl.goTo(0, this._.tweenRefMaps)\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t\t!found && console.warn(\"TweenAxis not found !\")\n\t\t}\n\t\t\n\t\tscrollTo( newPos, ms = 0, axe = \"scrollY\", ease ) {\n\t\t\treturn new Promise(\n\t\t\t\t(( resolve, reject ) => {\n\t\t\t\t\t\n\t\t\t\t\tif ( this._.axes && this._.axes[axe] ) {\n\t\t\t\t\t\tlet oldPos = this._.axes[axe].targetPos,\n\t\t\t\t\t\t    setPos = pos => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t    //console.log('TweenableComp::setPos:514: ', this.constructor.displayName);\n\t\t\t\t\t\t\t    this._.axes[axe].targetPos = this._.axes[axe].scrollPos = pos;\n\t\t\t\t\t\t\t    if ( this._.axes[axe].inertia ) {\n\t\t\t\t\t\t\t\t    this._.axes[axe].inertia.setPos(pos);\n\t\t\t\t\t\t\t\t    //this._.axes[axe].inertia._doSnap()\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t    this.componentDidScroll && this.componentDidScroll(~~pos, axe);\n\t\t\t\t\t\t\t    this._updateTweenRefs()\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t;\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewPos                     = Math.max(0, newPos);\n\t\t\t\t\t\tnewPos                     = Math.min(newPos, this._.axes[axe].scrollableArea || 0);\n\t\t\t\t\t\tthis._.axes[axe].targetPos = newPos;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !ms ) {\n\t\t\t\t\t\t\tthis._.axes[axe].tweenLines.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(newPos, this._.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetPos(newPos);\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis._runScrollGoTo(axe, newPos, ms, easingFn[ease], setPos, resolve)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !this._.live ) {\n\t\t\t\t\t\t\tthis._.live = true;\n\t\t\t\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//return !(oldPos - newPos);\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t}\n\t\t\n\t\tmakeScrollable() {\n\t\t\tif ( !this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = true;\n\t\t\t\tthis._.scrollHook    = [];\n\t\t\t\tthis._.activeInertia = [];\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetScrollableNodes( node ) {\n\t\t\tlet scrollable = utils.findReactParents(node);\n\t\t\tscrollable     = this.hookScrollableTargets && this.hookScrollableTargets(scrollable) || scrollable;\n\t\t\t\n\t\t\treturn scrollable.map(\n\t\t\t\tid => (is.string(id)\n\t\t\t\t       ? this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]) || this.refs[id] || document.getElementById(id)\n\t\t\t\t       : id));\n\t\t}\n\t\t\n\t\t_registerScrollListeners() {\n\t\t\tlet _static = this.constructor,\n\t\t\t    _       = this._;\n\t\t\tif ( this._.rendered ) {\n\t\t\t\tlet rootNode   = this.getRootNode(),\n\t\t\t\t    debounceTm = 0,\n\t\t\t\t    debounceTr = 0,\n\t\t\t\t    scrollLoad = { x: 0, y: 0 },\n\t\t\t\t    lastScrollEvt;\n\t\t\t\tif ( !this._parentTweener && isBrowserSide ) {\n\t\t\t\t\t\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering scroll listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tutils.addWheelEvent(\n\t\t\t\t\t\t\trootNode,\n\t\t\t\t\t\t\tthis._.onScroll = ( e ) => {//@todo\n\t\t\t\t\t\t\t\tlet now       = Date.now(), prevent;\n\t\t\t\t\t\t\t\tscrollLoad.y += e.deltaY;\n\t\t\t\t\t\t\t\tscrollLoad.x += e.deltaX;\n\t\t\t\t\t\t\t\tlastScrollEvt = e.originalEvent;\n\t\t\t\t\t\t\t\t//debounceTm    = debounceTm || now;\n\t\t\t\t\t\t\t\t//if ( debounceTr && debounceTm + 500 < now ) {\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t//\tclearTimeout(debounceTr)\n\t\t\t\t\t\t\t\t//\tthis._doDispatch(document.elementFromPoint(lastScrollEvt.clientX,\n\t\t\t\t\t\t\t\t// lastScrollEvt.clientY), scrollLoad.x * 5, scrollLoad.y * 5) scrollLoad.y = 0;\n\t\t\t\t\t\t\t\t// scrollLoad.x = 0; debounceTm   = 0; //debounceTm = now; return; }\n\t\t\t\t\t\t\t\t// clearTimeout(debounceTr) //debounceTm = now; debounceTr = setTimeout( tm => {\n\t\t\t\t\t\t\t\t// debugger\n\t\t\t\t\t\t\t\tprevent      = this._doDispatch(document.elementFromPoint(lastScrollEvt.clientX, lastScrollEvt.clientY), scrollLoad.x * 5, scrollLoad.y * 5)\n\t\t\t\t\t\t\t\tscrollLoad.y = 0;\n\t\t\t\t\t\t\t\tscrollLoad.x = 0;\n\t\t\t\t\t\t\t\tdebounceTm   = 0;\n\t\t\t\t\t\t\t\tdebounceTr   = lastScrollEvt = undefined;\n\t\t\t\t\t\t\t\tif ( prevent ) {\n\t\t\t\t\t\t\t\t\te.originalEvent.stopPropagation();\n\t\t\t\t\t\t\t\t\te.originalEvent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//\t},\n\t\t\t\t\t\t\t\t//\t50\n\t\t\t\t\t\t\t\t//)\n\t\t\t\t\t\t\t\t// check if there scrollable stuff in dom targets\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tlet lastStartTm,\n\t\t\t\t\t    cLock, dX,\n\t\t\t\t\t    parents, dY,\n\t\t\t\t\t    parentsState;\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering drag listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tutils.addEvent(\n\t\t\t\t\t\t\trootNode, this._.dragList = {\n\t\t\t\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x,\n\t\t\t\t\t\t\t\t\t    y, i, style;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tparents      = this.getScrollableNodes(e.target);\n\t\t\t\t\t\t\t\t\t//console.log(parents)\n\t\t\t\t\t\t\t\t\tlastStartTm  = Date.now();\n\t\t\t\t\t\t\t\t\tdX           = 0;\n\t\t\t\t\t\t\t\t\tdY           = 0;\n\t\t\t\t\t\t\t\t\tparentsState = [];\n\t\t\t\t\t\t\t\t\t//document.body.style.touchAction = 'none';\n\t\t\t\t\t\t\t\t\t//document.body.style.userSelect  = 'none';\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t//x.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t//y.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t//parentsState[i] = { x: x.scrollPos, y: y.scrollPos };\n\t\t\t\t\t\t\t\t\t\t\t//!x.inertiaFrame && tweener.applyInertia(x, \"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t//!y.inertiaFrame && tweener.applyInertia(y, \"scrollY\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\tstyle = getComputedStyle(tweener, null);\n\t\t\t\t\t\t\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\t\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = {\n\t\t\t\t\t\t\t\t\t\t\t\t\ty: tweener.scrollTop,\n\t\t\t\t\t\t\t\t\t\t\t\t\tx: tweener.scrollLeft,\n\t\t\t\t\t\t\t\t\t\t\t\t\t//inertia: this._activateNodeInertia(tweener)\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t//parentsState[i].inertia.x.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t//parentsState[i].inertia.y.startMove();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._updateNodeInertia()\n\t\t\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'click'    : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && !(lastStartTm > Date.now() - 350 && Math.abs(dY) < 10 && Math.abs(dX) < 10) )// skip tap & click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'drag'     : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tdX = -(descr._lastPos.x - descr._startPos.x);\n\t\t\t\t\t\t\t\t\tdY = -(descr._lastPos.y - descr._startPos.y);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif ( lastStartTm > Date.now() - 350 && Math.abs(dY) < 10 && Math.abs(dX) < 10 )// skip tap & click\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\txDispatched = !dX;\n\t\t\t\t\t\t\t\t\tyDispatched = !dY;\n\t\t\t\t\t\t\t\t\tif ( opts.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\t\tif ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n\t\t\t\t\t\t\t\t\t\t\tcLock       = \"Y\";\n\t\t\t\t\t\t\t\t\t\t\tdX          = 0;\n\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n\t\t\t\t\t\t\t\t\t\t\tcLock       = \"X\";\n\t\t\t\t\t\t\t\t\t\t\tdY          = 0;\n\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//console.log(\"drag\", dX, dY, cLock, opts.dragDirectionLock);\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tif ( !parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = { x: x.scrollPos, y: y.scrollPos };\n\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t!x.inertiaFrame && tweener.applyInertia(x, \"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t\t!y.inertiaFrame && tweener.applyInertia(y, \"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdeltaX = dX && (dX / tweener._.box.x) * (x.scrollableWindow || x.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\tdeltaY = dY && (dY / tweener._.box.y) * (y.scrollableWindow || y.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched && !tweener.isAxisOut(\"scrollX\", parentsState[i].x + deltaX, true)\n\t\t\t\t\t\t\t\t\t\t\t\t&& (!tweener.componentShouldScroll || tweener.componentShouldScroll(\"scrollX\", deltaX)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.hold(parentsState[i].x + deltaX);\n\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//console.log(\"scrollY\", tweener.isAxisOut(\"scrollY\", parentsState[i].y +\n\t\t\t\t\t\t\t\t\t\t\t// deltaY, true));\n\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched && !tweener.isAxisOut(\"scrollY\", parentsState[i].y + deltaY, true)\n\t\t\t\t\t\t\t\t\t\t\t\t&& (!tweener.componentShouldScroll || tweener.componentShouldScroll(\"scrollY\", deltaY)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.hold(parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t((dY < 0 && tweener.scrollTop !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dY > 0 && tweener.scrollTop !== (tweener.scrollHeight - tweener.offsetHeight)))\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastY = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 top: cState.y + dY,\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //left    : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.y.hold(cState.y + dY)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTop = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//yDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t((dX < 0 && tweener.scrollLeft !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dX > 0 && tweener.scrollLeft !== (tweener.scrollWidth - tweener.offsetWidth)))\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastX = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 left: cState.x + dX,\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo(style.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.x.hold(cState.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollLeft = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( yDispatched && xDispatched ) {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//dX = 0;\n\t\t\t\t\t\t\t\t\t//dY = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t\t'dropped': ( e, touch, descr ) => {\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tcLock = undefined;\n\t\t\t\t\t\t\t\t\t//lastStartTm                     = undefined;\n\t\t\t\t\t\t\t\t\t//document.body.style.userSelect  = '';\n\t\t\t\t\t\t\t\t\t//document.body.style.touchAction = '';\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled && parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollY\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollX\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//else if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t//\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t//\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.x.release();\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.y.release();\n\t\t\t\t\t\t\t\t\t\t//\t}\n\t\t\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tparents = parentsState = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\topts.enableMouseDrag\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tthis._.doRegister = !!rootNode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._.doRegister = true;\n\t\t\t}\n\t\t}\n\n// ------------------------------------------------------------\n// --------------- Inertia & scroll modifiers -----------------\n// ------------------------------------------------------------\n\t\t\n\t\t\n\t\tapplyInertia( dim, axe ) {\n\t\t\tlet x = dim.inertia.update();\n\t\t\t\n\t\t\tthis._.axes[axe].tweenLines.forEach(\n\t\t\t\tsl => {\n\t\t\t\t\tthis._.axes[axe].targetPos = this._.axes[axe].scrollPos = x;\n\t\t\t\t\tsl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t}\n\t\t\t);\n\t\t\t//console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\n\t\t\t//this.scrollTo(x, 0, axe);\n\t\t\tthis.componentDidScroll && this.componentDidScroll(x, axe);\n\t\t\tthis._updateTweenRefs()\n\t\t\tif ( dim.inertia.active || dim.inertia.holding ) {\n\t\t\t\tdim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdim.inertiaFrame = null;\n\t\t\t\t//console.log(\"complete\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tisInertiaActive() {//todo\n\t\t\tlet _ = this._, active = false;\n\t\t\t_.axes &&\n\t\t\tObject.keys(_.axes)\n\t\t\t      .forEach(\n\t\t\t\t      axe => (active = active || _.axes[axe] && _.axes[axe].inertia.active)\n\t\t\t      );\n\t\t\treturn active;\n\t\t}\n\t\t\n\t\t_activateNodeInertia( node ) {\n\t\t\tlet _ = this._,\n\t\t\t    i = _.activeInertia.findIndex(item => (item.target === node));\n\t\t\tif ( i === -1 ) {\n\t\t\t\t_.activeInertia.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tinertia: {\n\t\t\t\t\t\t\tx: new Inertia({ max: node.scrollWidth - node.offsetLeft, value: node.scrollLeft }),\n\t\t\t\t\t\t\ty: new Inertia({ max: node.scrollHeight - node.offsetHeight, value: node.scrollTop })\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget : node\n\t\t\t\t\t});\n\t\t\t\ti = _.activeInertia.length - 1;\n\t\t\t}\n\t\t\treturn _.activeInertia[i].inertia;\n\t\t\t\n\t\t}\n\t\t\n\t\t_updateNodeInertia = () => {\n\t\t\tlet _ = this._, current, ln = _.activeInertia.length;\n\t\t\t\n\t\t\tif ( this._inertiaRaf )\n\t\t\t\tcancelAnimationFrame(this._inertiaRaf);\n\t\t\t\n\t\t\tfor ( let i = 0; ln > i; i++ ) {\n\t\t\t\tcurrent = _.activeInertia[i];\n\t\t\t\tif ( current.inertia.x.active || current.inertia.x.holding ) {\n\t\t\t\t\tcurrent.target.scrollLeft = ~~current.inertia.x.update()\n\t\t\t\t}\n\t\t\t\tif ( current.inertia.y.active || current.inertia.y.holding ) {\n\t\t\t\t\tcurrent.target.scrollTop = ~~current.inertia.y.update()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\n\t\t\t\t\t_.activeInertia.slice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t\tln--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( ln !== 0 )\n\t\t\t\tthis._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\n\t\t\telse this._inertiaRaf = null;\n\t\t}\n\t\t\n\t\tdispatchScroll( delta, axe = \"scrollY\" ) {\n\t\t\tlet prevent,\n\t\t\t    dim    = this._.axes[axe],\n\t\t\t    oldPos = dim && dim.scrollPos,\n\t\t\t    newPos = oldPos + delta;\n\t\t\t\n\t\t\tif ( dim && oldPos !== newPos ) {\n\t\t\t\t\n\t\t\t\t//console.log(\"dispatch \" + delta, this.constructor.displayName);\n\t\t\t\tdim.inertia.dispatch(delta, 100);\n\t\t\t\t!dim.inertiaFrame && this.applyInertia(dim, axe);\n\t\t\t\t\n\t\t\t\t//this.scrollTo(newPos, 0, axe)\n\t\t\t}\n\t\t\t\n\t\t\treturn prevent;\n\t\t}\n\t\t\n\t\tisAxisOut( axis, v, abs ) {\n\t\t\tlet _   = this._,\n\t\t\t    dim = _.axes && _.axes[axis],\n\t\t\t    pos = abs ? v : dim && (dim.scrollPos + v);\n\t\t\treturn !dim || (pos <= 0 || pos >= dim.scrollableArea);\n\t\t}\n\t\t\n\t\t_doDispatch( target, dx, dy, holding ) {\n\t\t\tlet style,\n\t\t\t    Comps,\n\t\t\t    headTarget = target,\n\t\t\t    nodeInertia,\n\t\t\t    i;\n\t\t\t\n\t\t\t// check if there scrollable stuff in dom targets\n\t\t\t// get all the parents components & dom node of an dom element ( from fibers )\n\t\t\t\n\t\t\tComps = this.getScrollableNodes(headTarget);\n\t\t\t//console.log(\"dispatching \", dx, dy, Comps);\n\t\t\tfor ( i = 0; i < Comps.length; i++ ) {\n\t\t\t\t// react comp with tweener support\n\t\t\t\tif ( Comps[i].__isTweener ) {\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollX\", dx) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollX\", dx)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dx, \"scrollX\", holding);\n\t\t\t\t\t\tdx = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollY\", dy) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollY\", dy)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dy, \"scrollY\", holding);\n\t\t\t\t\t\tdy = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// dom element\n\t\t\t\telse if ( is.element(Comps[i]) ) {\n\t\t\t\t\tstyle = getComputedStyle(Comps[i], null)\n\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")\n\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(dy < 0 && Comps[i].scrollTop !== 0)\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t(dy > 0 && Comps[i].scrollTop !== (Comps[i].scrollHeight - Comps[i].offsetHeight))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t//nodeInertia.y.dispatch(dy * 10)\n\t\t\t\t\t\t\t//dy = 0;\n\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t//if ( nodeInertia.x.isOutbound(dx) ) {\n\t\t\t\t\t\t//\tnodeInertia.x.dispatch(dx * 10)\n\t\t\t\t\t\t//\tdx = 0;\n\t\t\t\t\t\t//} // let the node do this scroll\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//headTarget = headTarget.parentNode;\n\t\t\t\t\t//if ( headTarget === document || headTarget === target )\n\t\t\t\t\t//\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( !dx && !dy )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._updateNodeInertia();\n\t\t\tif ( !dx && !dy )\n\t\t\t\treturn true;\n\t\t}\n\n// ------------------------------------------------------------\n// ------------------ Motion/FSM anims ------------------------\n// ------------------------------------------------------------\n\t\t\n\t\tapplyTweenState( id, map, reset ) {\n\t\t\tlet tmap = {}, initials = {};\n\t\t\tdeMuxTween(map, tmap, initials, this._.muxDataByTarget[id], this._.muxByTarget[id])\n\t\t\tObject.keys(tmap).map(\n\t\t\t\t( p ) => this._.tweenRefMaps[id][p] = (!reset && this._.tweenRefMaps[id][p] || initials[p]) + tmap[p]\n\t\t\t);\n\t\t}\n\t\t\n\t\tupdateRefStyle( target, style, postPone ) {\n\t\t\tlet _ = this._, initials = {}, map = {};\n\t\t\tif ( isArray(target) && isArray(style) )\n\t\t\t\treturn target.map(( m, i ) => this.updateRefStyle(m, style[i], postPone));\n\t\t\tif ( isArray(target) )\n\t\t\t\treturn target.map(( m ) => this.updateRefStyle(m, style, postPone));\n\t\t\t\n\t\t\tif ( !this._.tweenRefCSS )\n\t\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tdeMuxTween(style, _.tweenRefMaps[target], initials, _.muxDataByTarget[target], _.muxByTarget[target], true);\n\t\t\tthis._updateTweenRefs();\n\t\t\t//Object.assign(initials, _.tweenRefCSS[target]);\n\t\t\t//_.tweenRefCSS[target] = initials;\n\t\t}\n\t\t\n\t\t_updateBox() {\n\t\t\tvar node = this.getRootNode();\n\t\t\tif ( node ) {\n\t\t\t\tthis._.box.inited = true;\n\t\t\t\tthis._.box.x      = node.offsetWidth;\n\t\t\t\tthis._.box.y      = node.offsetHeight;\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetTweenableRef( id ) {\n\t\t\treturn this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]);\n\t\t}\n\t\t\n\t\tgetRootNode() {\n\t\t\treturn this._.rootRef && this.getTweenableRef(this._.rootRef) || ReactDom.findDOMNode(this);\n\t\t}\n\t\t\n\t\t_rafLoop() {\n\t\t\tthis._updateTweenRefs();\n\t\t\tif ( this._.runningAnims.length ) {\n\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//this._.live && console.log(\"RAF off\", this.constructor.displayName);\n\t\t\t\tthis._.live = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateTweenRefs() {\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t//let now = Date.now();\n\t\t\t\t//console.log(now - this._lf)\n\t\t\t\t//this._lf = now;\n\t\t\t\tfor ( let i = 0, target, node; i < this._.tweenRefTargets.length; i++ ) {\n\t\t\t\t\ttarget = this._.tweenRefTargets[i];\n\t\t\t\t\tmuxToCss(this._.tweenRefMaps[target], this._.tweenRefCSS[target], this._.muxByTarget[target], this._.muxDataByTarget[target], this._.box);\n\t\t\t\t\tnode = this.getTweenableRef(target);\n\t\t\t\t\tnode && Object.assign(node.style, this._.tweenRefCSS[target]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tlet node = this.getRootNode();\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._.tweenEnabled = false;\n\t\t\t\twindow.removeEventListener(\"resize\", this._.onResize);\n\t\t\t}\n\t\t\t\n\t\t\tif ( this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = false;\n\t\t\t\t\n\t\t\t\t//this._.axes          = undefined;\n\t\t\t\tnode && this._.onScroll && !this._parentTweener && utils.rmWheelEvent(\n\t\t\t\t\tnode,\n\t\t\t\t\tthis._.onScroll);\n\t\t\t\tnode && this._.dragList && utils.removeEvent(node\n\t\t\t\t\t, this._.dragList)\n\t\t\t}\n\t\t\t\n\t\t\tsuper.componentWillUnmount && super.componentWillUnmount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidMount() {\n\t\t\tlet _static = this.constructor;\n\t\t\t\n\t\t\tthis._.rendered = true;\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t// debugger;\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t}\n\t\t\tif ( this._.delayedMotionTarget ) {\n\t\t\t\tthis.goToMotionStateId(this._.delayedMotionTarget);\n\t\t\t\tdelete this._.delayedMotionTarget;\n\t\t\t}\n\t\t\tif ( _static.scrollableAnim ) {\n\t\t\t\tif ( is.array(_static.scrollableAnim) )\n\t\t\t\t\tthis.addScrollableAnim(_static.scrollableAnim);\n\t\t\t\telse\n\t\t\t\t\tObject.keys(_static.scrollableAnim)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      axe => this.addScrollableAnim(_static.scrollableAnim[axe], axe)\n\t\t\t\t\t      )\n\t\t\t}\n\t\t\tif ( this._.doRegister || this.__isFirst ) {\n\t\t\t\t\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t\tthis._.doRegister = false;\n\t\t\t}\n\t\t\tsuper.componentDidMount && super.componentDidMount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidUpdate( prevProps, prevState ) {\n\t\t\t\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t\t\n\t\t\t\tthis._.rtweensByProp\n\t\t\t\t&& Object.keys(prevProps)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByProp[k]\n\t\t\t\t\t\t         && (this.props[k] !== prevProps[k])\n\t\t\t\t\t\t         && this._.rtweensByProp[k][this.props[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByProp[k][this.props[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t\tthis._.rtweensByStateProp\n\t\t\t\t&& prevState\n\t\t\t\t&& Object.keys(prevState)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByStateProp[k]\n\t\t\t\t\t\t         && (this.state[k] !== prevState[k])\n\t\t\t\t\t\t         && this._.rtweensByStateProp[k][this.state[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByStateProp[k][this.state[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t}\n\t\t\tsuper.componentDidUpdate && super.componentDidUpdate(...arguments);\n\t\t}\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\tparentTweener => {\n\t\t\t\t\t\tthis._parentTweener = parentTweener;\n\t\t\t\t\t\treturn <TweenerContext.Provider value={this}>\n\t\t\t\t\t\t\t{super.render()}\n\t\t\t\t\t\t</TweenerContext.Provider>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst\n\tis       = require('is'),\n\teasingFn = require('d3-ease'),\n\tsignOf   = function sign( x ) {\n\t\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n\t},\n\tabs      = Math.abs,\n\tfloor    = Math.floor,\n\tround    = Math.round,\n\tmin      = Math.min,\n\tmax      = Math.max,\n\tconsts   = {\n\t\tvelocityResetTm: 150,\n\t\tclickTm        : 250\n\t};\n\nexport function applyInertia( _ ) {\n\tlet velSign = signOf(_.lastVelocity);\n\t// calc momentum distance...\n\t// get nb loop needed to get vel < .05\n\t_.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n\t\n\t// get velocity sum basing on nb loops needed\n\t_.loopsVelSum    = (Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity)) / (.9 - 1);\n\t// deduce real dist of momentum\n\t_.targetDist     = (_.loopsVelSum * _.refFPS * velSign) / 1000 || 0;\n\t_.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n}\n\nconst inertiaByNode = {\n\tnodes  : [],\n\tinertia: []\n};\n/**\n * Main inertia class\n * @class Caipi slideshow\n * @type {module.exports}\n */\nexport default class Inertia {\n\t\n\tconstructor( opt ) {\n\t\tlet _  = this._ = {};\n\t\t_.conf = {\n\t\t\t...this.constructor.config,\n\t\t\t...opt\n\t\t};\n\t\t\n\t\tthis.active           = false;\n\t\t_.pos                 = opt.value || 0;\n\t\t_.refFPS              = 16;\n\t\t_.min                 = opt.min || 0;\n\t\t_.max                 = opt.max || 0;\n\t\t_.currentStop         = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t_.stops               = _.conf.stops;\n\t\t_.wayPoints           = _.conf.wayPoints;\n\t\t_.inertiaFn           = easingFn.easePolyOut;\n\t\t_.targetWayPointIndex = 0;\n\t}\n\t\n\tupdate( at = Date.now() ) {\n\t\tlet _ = this._, nextValue, loop;\n\t\tif ( !_.inertia ) {\n\t\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t\tthis.teleport(loop);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _.pos;\n\t\t}\n\t\tlet\n\t\t\tpos          = _.inertiaFn((at - _.inertiaStartTm) / _.targetDuration) * _.targetDist,\n\t\t\tdelta        = pos - _.lastInertiaPos;\n\t\t_.lastInertiaPos = pos;\n\t\tif ( (at - _.inertiaStartTm) >= _.targetDuration ) {\n\t\t\t_.inertia        = this.active = false;\n\t\t\t_.lastInertiaPos = delta = 0;\n\t\t\t\n\t\t\tif ( _.conf.onInertiaEnd ) {\n\t\t\t\t_.conf.onInertiaEnd(_.pos, _.targetWayPoint)\n\t\t\t}\n\t\t}\n\t\tdelta     = delta || 0;\n\t\t//console.log(_.pos + delta);\n\t\tnextValue = _.pos + delta;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tnextValue += loop;\n\t\t\t\tthis.teleport(loop);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = nextValue;\n\t\t\n\t\treturn nextValue;\n\t}\n\t\n\tsetPos( pos ) {\n\t\tlet _            = this._, nextValue;\n\t\t_.inertia        = false;\n\t\tthis.active      = false;\n\t\t_.lastInertiaPos = 0;\n\t\t_.targetDist     = 0;\n\t\t_.pos            = pos;\n\t\t_.pos            = max(_.pos, _.max);\n\t\t_.pos            = min(_.pos, _.min);\n\t}\n\t\n\tteleport( loopDist ) {\n\t\tlet _ = this._, nextValue;\n\t\tif ( !_.inertia )\n\t\t\treturn _.pos += loopDist;\n\t\t\n\t\t_.lastInertiaPos += loopDist;\n\t\t_.pos += loopDist\n\t}\n\t\n\tdispatch( delta, tm = 500 ) {\n\t\tlet _       = this._, now = Date.now(), pos;\n\t\tthis.active = true;\n\t\t//console.log(\"dispatch\", delta);\n\t\tif ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t\n\t\t\t_.targetDist     = delta;\n\t\t\t_.targetDuration = tm;\n\t\t}\n\t\telse {\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.targetDist += delta;\n\t\t\t_.targetDuration += tm;\n\t\t}\n\t\tthis._doSnap(signOf(delta), 750)\n\t}\n\t\n\tisOutbound( delta ) {\n\t\tlet _   = this._, loop,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)) + delta;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t}\n\t\treturn pos > _.min && pos < _.max;\n\t}\n\t\n\t_doSnap( forceSnap, maxDuration = 2000 ) {\n\t\tlet _   = this._,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)), target, mid, i, i2\n\t\t;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( _.wayPoints[i].at > pos )\n\t\t\t\t\tbreak;\n\t\t\t\n\t\t\tif ( i == _.wayPoints.length ) {\n\t\t\t\ti--\n\t\t\t}\n\t\t\telse if ( i === 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmid = _.wayPoints[i - 1].at + (_.wayPoints[i].at - _.wayPoints[i - 1].at) / 2;\n\t\t\t\tif ( forceSnap ) forceSnap < 0 && i--;\n\t\t\t\telse if ( pos < mid ) i--;\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.maxJump && is.number(_.targetWayPointIndex) ) {\n\t\t\t\tlet d = (i - _.targetWayPointIndex);\n\t\t\t\t//console.log('Inertia::_doSnap:154: ', i);\n\t\t\t\tif ( d ) {\n\t\t\t\t\ti -= d;\n\t\t\t\t\ti += _.conf.maxJump * (d / abs(d))\n\t\t\t\t}//console.log('Inertia::_doSnap:154: ', i);\n\t\t\t}\n\t\t\ttarget = _.wayPoints[i].at;\n\t\t\t\n\t\t\tif ( _.conf.willSnap ) {\n\t\t\t\t_.conf.willSnap(i, _.wayPoints[i]);\n\t\t\t}\n\t\t\t\n\t\t\t_.lastInertiaPos      = _.lastInertiaPos || 0;\n\t\t\ttarget                = target - (_.pos - _.lastInertiaPos);\n\t\t\t_.targetDuration      = max(50, min(maxDuration, abs((_.targetDuration / _.targetDist) * target))) || 0;\n\t\t\t//console.log(\"do snap\", i, target, _.targetDist, _.targetDuration);\n\t\t\t_.targetDist          = target;\n\t\t\t_.targetWayPoint      = _.wayPoints[i];\n\t\t\t_.targetWayPointIndex = i;\n\t\t}\n\t\telse {\n\t\t\ttarget = ~~(_.pos - _.lastInertiaPos);\n\t\t\t\n\t\t\tif ( !_.conf.infinite ) {\n\t\t\t\tif ( target > _.max ) {\n\t\t\t\t\ttarget           = _.max - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t\telse if ( target < _.min ) {\n\t\t\t\t\ttarget           = _.min - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tsetBounds( min, max ) {\n\t\tlet _ = this._;\n\t\t_.min = min;\n\t\t_.max = max;\n\t}\n\t\n\tstartMove() {\n\t\tlet _          = this._;\n\t\t_.baseTS       = _.startTS = Date.now() / 1000;\n\t\t_.lastVelocity = _.lastIVelocity = 0;\n\t\t_.lastAccel    = 0;\n\t\t_.posDiff      = 0;\n\t\tthis.active    = true;\n\t\tthis.holding   = true;\n\t\t_.inertia      = false;\n\t}\n\t\n\thold( pos ) {\n\t\tlet _ = this._,\n\t\t    loop;\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\t_.pos += loop;\n\t\t\t}\n\t\t}\n\t\tlet now          = Date.now() / 1000,//e.timeStamp,\n\t\t    sinceLastPos = (now - _.baseTS),\n\t\t    delta        = pos - _.pos,\n\t\t    iVel         = delta / sinceLastPos;\n\t\t//if (is.nan(pos))\n\t\t//\tdebugger\n\t\t//console.log(\"hold\", pos, _.pos);\n\t\t_.lastIVelocity = iVel;\n\t\t_.lastVelocity  = iVel;\n\t\t_.baseTS        = now;\n\t\t\n\t\tif ( !_.conf.infinite ) {\n\t\t\tif ( pos > _.max ) {\n\t\t\t\tpos = _.max + min((pos - _.max) / 10, 10);\n\t\t\t}\n\t\t\telse if ( pos < _.min ) {\n\t\t\t\tpos = _.min - min((_.min - pos) / 10, 10);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = pos;\n\t\t\n\t}\n\t\n\trelease() {\n\t\tlet _        = this._,\n\t\t    velSign  = signOf(_.lastVelocity);\n\t\tthis.holding = false;\n\t\tif ( _.pos > _.max ) {\n\t\t\tthis.active      = true;\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = Date.now();\n\t\t\t\n\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t}\n\t\telse if ( _.pos < _.min ) {\n\t\t\tthis.active      = true;\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = Date.now();\n\t\t\t\n\t\t\t_.targetDist     = _.pos - _.min;\n\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t}\n\t\telse {\n\t\t\t// calc momentum distance...\n\t\t\tapplyInertia(_);\n\t\t\t\n\t\t\tif ( !_.targetDuration )\n\t\t\t\t_.targetDuration = 50;\n\t\t\t\n\t\t\t//console.log(_);\n\t\t\tthis.active      = true;\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = Date.now();\n\t\t}\n\t\tthis._doSnap(null, 500)\n\t}\n}\n","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nvar props = {\r\n\t\"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\r\n\t\"marginBottom\"               : { \"types\": [\"length\"] },\r\n\t\"marginLeft\"                 : { \"types\": [\"length\"] },\r\n\t\"marginRight\"                : { \"types\": [\"length\"] },\r\n\t\"marginTop\"                  : { \"types\": [\"length\"] },\r\n\t\"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\r\n\t\"paddingBottom\"              : { \"types\": [\"length\"] },\r\n\t\"paddingLeft\"                : { \"types\": [\"length\"] },\r\n\t\"paddingRight\"               : { \"types\": [\"length\"] },\r\n\t\"paddingTop\"                 : { \"types\": [\"length\"] },\r\n\t\"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"left\"                       : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"right\"                      : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"top\"                        : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"zIndex\"                     : { \"types\": [\"integer\"] },\r\n\t\"width\"                      : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"height\"                     : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\r\n\t\"verticalAlign\"              : { \"types\": [\"length\"] },\r\n\t\"visibility\"                 : { \"types\": [\"visibility\"] },\r\n\t\"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\r\n\t\"color\"                      : { \"types\": [\"color\"] },\r\n\t\"opacity\"                    : { \"types\": [\"number\"] },\r\n\t\"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\r\n\t\"backgroundColor\"            : { \"types\": [\"color\"] },\r\n\t\"backgroundPosition\"         : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\r\n\t\"backgroundSize\"             : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\r\n\t\"border\"                     : { \"properties\": [\"borderColor\", \"borderWidth\"] },\r\n\t\"borderBottom\"               : { \"properties\": [\"borderBottomColor\", \"borderBottomWidth\"] },\r\n\t\"borderLeft\"                 : { \"properties\": [\"borderLeftColor\", \"borderLeftWidth\"] },\r\n\t\"borderRight\"                : { \"properties\": [\"borderRightColor\", \"borderRightWidth\"] },\r\n\t\"borderTop\"                  : { \"properties\": [\"borderTopColor\", \"borderTopWidth\"] },\r\n\t\"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\r\n\t\"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\r\n\t\"borderBottomColor\"          : { \"types\": [\"color\"] },\r\n\t\"borderLeftColor\"            : { \"types\": [\"color\"] },\r\n\t\"borderRightColor\"           : { \"types\": [\"color\"] },\r\n\t\"borderTopColor\"             : { \"types\": [\"color\"] },\r\n\t\"borderBottomWidth\"          : { \"types\": [\"length\"] },\r\n\t\"borderLeftWidth\"            : { \"types\": [\"length\"] },\r\n\t\"borderRightWidth\"           : { \"types\": [\"length\"] },\r\n\t\"borderTopWidth\"             : { \"types\": [\"length\"] },\r\n\t\"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\r\n\t\"borderTopLeftRadius\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"borderTopRightRadius\"       : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"borderBottomRightRadius\"    : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"borderBottomLeftRadius\"     : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\r\n\t\"caretColor\"                 : { \"types\": [\"color\"] },\r\n\t\"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\r\n\t\"outlineColor\"               : { \"types\": [\"color\"] },\r\n\t\"outlineWidth\"               : { \"types\": [\"length\"] },\r\n\t\"outlineOffset\"              : { \"types\": [\"length\"] },\r\n\t\"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\r\n\t\"flexGrow\"                   : { \"types\": [\"number\"] },\r\n\t\"flexShrink\"                 : { \"types\": [\"number\"] },\r\n\t\"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"order\"                      : { \"types\": [\"integer\"] },\r\n\t\"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\r\n\t\"fontWeight\"                 : { \"types\": [\"font-weight\"] },\r\n\t\"fontStretch\"                : { \"types\": [\"font-stretch\"] },\r\n\t\"fontSize\"                   : { \"types\": [\"length\"] },\r\n\t\"fontSizeAdjust\"             : { \"types\": [\"number\"] },\r\n\t\"gridTemplateColumns\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"gridTemplateRows\"           : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\r\n\t\"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\r\n\t\"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\r\n\t\"clip\"                       : { \"types\": [\"rectangle\"] },\r\n\t\"clipPath\"                   : { \"types\": [\"basic-shape\"] },\r\n\t\"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\r\n\t\"maskPosition\"               : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\r\n\t\"maskSize\"                   : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\r\n\t\"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\r\n\t\"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"shapeImageThreshold\"        : { \"types\": [\"number\"] },\r\n\t\"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\r\n\t\"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\r\n\t\"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\r\n\t\"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\r\n\t\"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\r\n\t\"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\r\n\t\"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\r\n\t\"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\r\n\t\"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\r\n\t\"textDecorationColor\"        : { \"types\": [\"color\"] },\r\n\t\"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\r\n\t\"textEmphasisColor\"          : { \"types\": [\"color\"] },\r\n\t\"textShadow\"                 : { \"types\": [\"shadow-list\"] },\r\n\t\"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\r\n\t\"columnWidth\"                : { \"types\": [\"length\"] },\r\n\t\"columnCount\"                : { \"types\": [\"integer\"] },\r\n\t\"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\r\n\t\"columnRuleColor\"            : { \"types\": [\"color\"] },\r\n\t\"columnRuleWidth\"            : { \"types\": [\"length\"] },\r\n\t\"letterSpacing\"              : { \"types\": [\"length\"] },\r\n\t\"tabSize\"                    : { \"types\": [\"length\"] },\r\n\t\"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\r\n\t\"transform\"                  : { \"types\": [\"transform\"] },\r\n\t\"transformOrigin\"            : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\r\n\t\"perspective\"                : { \"types\": [\"length\"] },\r\n\t\"perspectiveOrigin\"          : { \"types\": [\"length-percentage-calc\"], \"multiple\": true }\r\n}\r\n\r\n//\r\n///**\r\n// * List of animatable types used by properties, with descriptions of how to interpolate each type.\r\n// * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types and some other W3C specs.\r\n// *\r\n// * @type {Object}\r\n// */\r\n//exports.types = {\r\n//\t'color'                 : {\r\n//\t\tname: 'color',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\r\n//\t},\r\n//\t'length'                : {\r\n//\t\tname: 'length',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-length'\r\n//\t},\r\n//\t'percentage'            : {\r\n//\t\tname: 'percentage',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-percentage'\r\n//\t},\r\n//\t'length-percentage-calc': {\r\n//\t\tname: 'length, percentage, or calc',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc'\r\n//\t},\r\n//\t'integer'               : {\r\n//\t\tname: 'integer',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-integer'\r\n//\t},\r\n//\t'font-weight'           : {\r\n//\t\tname: 'font weight',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight'\r\n//\t},\r\n//\t'number'                : {\r\n//\t\tname: 'number',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\r\n//\t},\r\n//\t'rectangle'             : {\r\n//\t\tname: 'rectangle',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-rect'\r\n//\t},\r\n//\t'visibility'            : {\r\n//\t\tname: 'visibility',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-visibility'\r\n//\t},\r\n//\t'shadow-list'           : {\r\n//\t\tname: 'shadow list',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list'\r\n//\t},\r\n//\t// Other specs\r\n//\t'transform'             : {\r\n//\t\tname: 'transform',\r\n//\t\thref: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms'\r\n//\t},\r\n//\t'font-stretch'          : {\r\n//\t\tname: 'font stretch',\r\n//\t\thref: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation'\r\n//\t},\r\n//\t'basic-shape'           : {\r\n//\t\tname: 'basic shape',\r\n//\t\thref: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation'\r\n//\t},\r\n//};\r\n//\r\nexport function expandShorthandProperty( property, value, target = {} ) {\r\n\tlet type       = props[property],\r\n\t    childProps = type && type.properties,\r\n\t    values     = value.split(' ');\r\n\t\r\n\tchildProps && childProps.forEach(\r\n\t\t( k, i ) => {\r\n\t\t\ttarget[k] = values[i % values.length];\r\n\t\t}\r\n\t)\r\n\treturn target;\r\n};\r\n\r\nexport function isShorthandProperty( property ) {\r\n\tlet type       = props[property],\r\n\t    childProps = type && type.properties;\r\n\treturn childProps && !!childProps.length;\r\n};\r\n\r\n\r\nexport function isValidDeclaration( property, value ) {\r\n\treturn !!props[property];\r\n};\r\n\r\n/**\r\n * Check if a CSS property can be animated\r\n * @param  {string} property CSS property name\r\n * @return {boolean}         True if the property can be animated\r\n */\r\nexport function canAnimate( property ) {\r\n\treturn props.hasOwnProperty(property);\r\n};\r\n\r\n/**\r\n * Get a definition of how a CSS property can be animated\r\n * @param  {string} property CSS property name\r\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\r\n * @return {object}          Property definition, or null if it can't be animated\r\n */\r\nexport function getProperty( property, expand ) {\r\n\tif ( !exports.canAnimate(property) ) {\r\n\t\treturn null;\r\n\t}\r\n\tvar prop = props[property];\r\n\tvar ret  = { name: property };\r\n\tObject.keys(prop).forEach(function ( key ) {\r\n\t\tvar value = prop[key];\r\n\t\tif ( Array.isArray(value) ) {\r\n\t\t\tif ( key === 'properties' && expand ) {\r\n\t\t\t\tvalue = value.map(function ( subProp ) {\r\n\t\t\t\t\treturn exports.getProperty(subProp, expand);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvalue = value.slice(); // clone\r\n\t\t\t}\r\n\t\t}\r\n\t\tret[key] = value;\r\n\t});\r\n\treturn ret;\r\n};\r\n","var map = {\n\t\"./$all.js\": \"./src/helpers/css/demux/$all.js\",\n\t\"./backgroundColor.js\": \"./src/helpers/css/demux/backgroundColor.js\",\n\t\"./filter.js\": \"./src/helpers/css/demux/filter.js\",\n\t\"./transform.js\": \"./src/helpers/css/demux/transform.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/helpers/css/demux sync recursive ^\\\\.\\\\/([^\\\\\\\\\\\\/]+)\\\\.js$\";","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nconst\r\n\tunitsRe         = new RegExp(\r\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\r\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\r\n\t\t+ \")\"\r\n\t),\r\n\tfloatCut        = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tdefaultUnits    = {\r\n\t\tleft  : 'px',\r\n\t\tright : 'px',\r\n\t\ttop   : 'px',\r\n\t\tbottom: 'px',\r\n\t\twidth : 'px',\r\n\t\theight: 'px',\r\n\t}, defaultValue = {\r\n\t\topacity: 1\r\n\t};\r\n\r\nfunction demux( key, tweenable, target, data, box ) {\r\n\ttarget[key] = data[key] ? floatCut(tweenable[key], 2) + data[key] : floatCut(tweenable[key], 2);\r\n}\r\n\r\nexport default ( key, value, target, data, initials, forceUnits ) => {\r\n\t\r\n\tlet match = is.string(value) ? value.match(unitsRe) : false;\r\n\t\r\n\tinitials[key] = is.number(initials[key]) ? initials[key] : defaultValue[key] || 0;\r\n\tif ( match ) {\r\n\t\tif ( !forceUnits && data[key] && data[key] !== match[2] ) {\r\n\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", key, \"present:\" + data[key], \"new:\" + match[2]);\r\n\t\t\ttarget[key] = 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdata[key]   = match[2];\r\n\t\t\ttarget[key] = parseFloat(match[1]);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\ttarget[key] = value;\r\n\t\tif ( !data[key] && key in defaultUnits )\r\n\t\t\tdata[key] = defaultUnits[key];\r\n\t}\r\n\t\r\n\treturn demux;\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\nexport {default} from \"./typed/color\";","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nconst\r\n\tunitsRe      = new RegExp(\r\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\r\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\r\n\t\t+ \")\"\r\n\t),\r\n\tfloatCut     = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tdefaultUnits = {\r\n\t\tblur      : 'px',\r\n\t\tbrightness: '%',\r\n\t\tcontrast  : '%',\r\n\t\tdropShadow: true,\r\n\t\tgrayscale : '%',\r\n\t\thueRotate : 'deg',\r\n\t\tinvert    : \"%\",\r\n\t\topacity   : \"%\",\r\n\t\tsaturate  : \"%\",\r\n\t\tsepia     : \"%\"\r\n\t};\r\nconst filters    = {};\r\n\r\nfunction demux( key, tweenable, target, data, box ) {\r\n\t\r\n\tif ( data[\"filter_head\"] === key ) {\r\n\t\tlet filters = \"\";\r\n\t\tObject.keys(data[key]).forEach(\r\n\t\t\tfkey => {\r\n\t\t\t\tlet dkey        = key + '_' + fkey;\r\n\t\t\t\tdata[key][fkey] = true;\r\n\t\t\t\tfilters += fkey + \"(\" + floatCut(tweenable[dkey], 2) + data[dkey] + \") \";\r\n\t\t\t}\r\n\t\t)\r\n\t\ttarget.filter = filters;\r\n\t}\r\n\t\r\n}\r\n\r\nexport default ( key, value, target, data, initials ) => {\r\n\t\r\n\tdata[\"filter_head\"] = data[\"filter_head\"] || key;\r\n\tdata[key]           = data[key] || {};\r\n\tinitials[key]       = 0;\r\n\t\r\n\tObject.keys(value).forEach(\r\n\t\tfkey => {\r\n\t\t\tlet fValue      = value[fkey],\r\n\t\t\t    dkey        = key + '_' + fkey,\r\n\t\t\t    match       = is.string(fValue) ? fValue.match(unitsRe) : false;\r\n\t\t\tdata[key][fkey] = true;\r\n\t\t\tinitials[dkey]  = 0;\r\n\t\t\tif ( match ) {\r\n\t\t\t\tif ( data[dkey] && data[dkey] !== match[2] ) {\r\n\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\r\n\t\t\t\t\ttarget[dkey] = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdata[dkey]   = match[2];\r\n\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttarget[dkey] = fValue;\r\n\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\r\n\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\r\n\t\t\t}\r\n\t\t}\r\n\t)\r\n\treturn demux;\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nconst\r\n\tunitsRe      = new RegExp(\r\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\r\n\t\t['\\\\w+', 'cap', 'ch', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\r\n\t\t+ \")\"\r\n\t),\r\n\tfloatCut     = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tdefaultUnits = {\r\n\t\t//matrix     : true,\r\n\t\t//translate  : 'px',\r\n\t\ttranslateX : 'px',\r\n\t\ttranslateY : 'px',\r\n\t\ttranslateZ : 'px',\r\n\t\tscale      : '',\r\n\t\t//scaleX     : 'px',\r\n\t\t//scaleY     : 'px',\r\n\t\trotate     : 'deg',\r\n\t\t//skew       : 'deg',\r\n\t\tskewX      : 'deg',\r\n\t\tskewY      : 'deg',\r\n\t\t//matrix3d   : true,\r\n\t\t//translate3d: true,\r\n\t\t//scale3d    : true,\r\n\t\tscaleZ     : 'px',\r\n\t\t//rotate3d   : true,\r\n\t\trotateX    : 'deg',\r\n\t\trotateY    : 'deg',\r\n\t\trotateZ    : 'deg',\r\n\t\tperspective: 'px',\r\n\t};\r\n\r\nfunction demux( key, tweenable, target, data, box ) {\r\n\t\r\n\tif ( data[\"transform_head\"] === key ) {\r\n\t\tlet transforms = \"\";\r\n\t\tdata[key].forEach(\r\n\t\t\t( tmap, i ) => Object.keys(tmap).forEach(\r\n\t\t\t\tfkey => {\r\n\t\t\t\t\tlet dkey = key + '_' + fkey + '_' + i, value;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( data[dkey] === 'deg' )\r\n\t\t\t\t\t\ttweenable[dkey] = tweenable[dkey] % 360;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( data[dkey] === 'box' ) {\r\n\t\t\t\t\t\tif ( fkey === \"translateX\" )\r\n\t\t\t\t\t\t\tvalue = tweenable[dkey] * box.x;\r\n\t\t\t\t\t\telse if ( fkey === \"translateY\" )\r\n\t\t\t\t\t\t\tvalue = tweenable[dkey] * box.y;\r\n\t\t\t\t\t\telse if ( fkey === \"translateZ\" )\r\n\t\t\t\t\t\t\tvalue = tweenable[dkey] * box.z;\r\n\t\t\t\t\t\ttransforms += fkey + \"(\" + floatCut(value, 2) + \"px) \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = tweenable[dkey];\r\n\t\t\t\t\t\ttransforms += fkey + \"(\" + floatCut(value, 2) + data[dkey] + \") \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t)\r\n\t\ttarget.transform = transforms;\r\n\t}\r\n\t\r\n}\r\n\r\nexport default ( key, value, target, data, initials, forceUnits ) => {\r\n\t\r\n\tdata[\"transform_head\"] = data[\"transform_head\"] || key;\r\n\tdata[key]              = data[key] || [{}];\r\n\tinitials[key]          = 0;\r\n\t\r\n\tif ( !is.array(value) )\r\n\t\tvalue = [value];\r\n\t\r\n\tvalue.forEach(\r\n\t\t( tmap, i ) =>\r\n\t\t\tObject.keys(tmap).forEach(\r\n\t\t\t\tfkey => {\r\n\t\t\t\t\tlet fValue         = tmap[fkey],\r\n\t\t\t\t\t    dkey           = key + '_' + fkey + '_' + i,\r\n\t\t\t\t\t    match          = is.string(fValue) ? fValue.match(unitsRe) : false;\r\n\t\t\t\t\tdata[key][i]       = data[key][i] || {};\r\n\t\t\t\t\tdata[key][i][fkey] = true;\r\n\t\t\t\t\tinitials[dkey]     = 0;\r\n\t\t\t\t\tif ( match ) {\r\n\t\t\t\t\t\tif ( !forceUnits && data[dkey] && data[dkey] !== match[2] ) {\r\n\t\t\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\r\n\t\t\t\t\t\t\ttarget[dkey] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tdata[dkey]   = match[2];\r\n\t\t\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttarget[dkey] = fValue;\r\n\t\t\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\r\n\t\t\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\treturn demux;\r\n}","var map = {\n\t\"./color.js\": \"./src/helpers/css/demux/typed/color.js\",\n\t\"./int.js\": \"./src/helpers/css/demux/typed/int.js\",\n\t\"./multi.js\": \"./src/helpers/css/demux/typed/multi.js\",\n\t\"./number.js\": \"./src/helpers/css/demux/typed/number.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/helpers/css/demux/typed sync recursive ^\\\\.\\\\/([^\\\\\\\\\\\\/]+)\\\\.js$\";","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport rgba from \"color-rgba\";\r\n\r\nfunction demux( key, tweenable, target, data ) {\r\n\ttarget[key] = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\r\n}\r\n\r\nexport default ( key, value, target, data, initials ) => {\r\n\tlet vect           = rgba(value);\r\n\ttarget[key + '_r'] = vect[0];\r\n\ttarget[key + '_g'] = vect[1];\r\n\ttarget[key + '_b'] = vect[2];\r\n\ttarget[key + '_a'] = vect[3];\r\n\t\r\n\tinitials[key + '_r'] = 0;\r\n\tinitials[key + '_g'] = 0;\r\n\tinitials[key + '_b'] = 0;\r\n\tinitials[key + '_a'] = 1;\r\n\t\r\n\treturn demux;\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nconst\r\n\tunitsRe      = new RegExp(\r\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\r\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\r\n\t\t+ \")\"\r\n\t),\r\n\tfloatCut     = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tdefaultUnits = {\r\n\t\tleft  : 'px',\r\n\t\tright : 'px',\r\n\t\ttop   : 'px',\r\n\t\tbottom: 'px',\r\n\t\twidth : 'px',\r\n\t\theight: 'px',\r\n\t};\r\n\r\nfunction demux( key, tweenable, target, data, box ) {\r\n\ttarget[key] = ~~(data[key] ? tweenable[key] + data[key] : tweenable[key]);\r\n}\r\n\r\nexport default ( key, value, target, data, initials, forceUnits ) => {\r\n\t\r\n\t\r\n\t//if ( cssAnimProps.canAnimate(key) ) {\r\n\tlet match = is.string(value) ? value.match(unitsRe) : false;\r\n\t\r\n\t//let how = cssAnimProps.getProperty(key);\r\n\t//console.log(how);\r\n\tinitials[key] = 0;\r\n\tif ( match ) {\r\n\t\tif ( !forceUnits && data[key] && data[key] !== match[2] ) {\r\n\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", key, \"present:\" + data[key], \"new:\" + match[2]);\r\n\t\t\ttarget[key] = 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdata[key]   = match[2];\r\n\t\t\ttarget[key] = ~~match[1];\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\ttarget[key] = ~~value;\r\n\t\tif ( !data[key] && key in defaultUnits )\r\n\t\t\tdata[key] = defaultUnits[key];\r\n\t}\r\n\t//}\r\n\t//else {\r\n\t//\t// just do nothing\r\n\t//\t//data[key]=\r\n\t//}\r\n\t\r\n\treturn demux;\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is     from \"is\";\r\nimport number from \"./number\";\r\n\r\nconst\r\n\tfloatCut = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\talias    = {\r\n\t\ttop   : '0%',\r\n\t\tbottom: '100%',\r\n\t\tcenter: '50%',\r\n\t\tleft  : '0%',\r\n\t\tright : '100%'\r\n\t};\r\n\r\nfunction demux( key, tweenable, target, data, box, offset ) {\r\n\t\r\n\tlet count = data[key], v = '';\r\n\t\r\n\tfor ( let i = 0; i < count; i++ )\r\n\t\tv += (\r\n\t\t\tdata[key + '_' + i]\r\n\t\t\t? floatCut(tweenable[key + '_' + i], 2) + data[key + '_' + i]\r\n\t\t\t: floatCut(tweenable[key + '_' + i], 2)\r\n\t\t) + ' ';\r\n\t\r\n\ttarget[key] = v;\r\n}\r\n\r\nexport default ( count ) => ( key, value, target, data, initials ) => {\r\n\tlet values = value.split(' '), v;\r\n\t\r\n\tdata[key] = count;\r\n\t\r\n\tfor ( let i = 0; i < count; i++ ) {\r\n\t\tv = values[i % values.length];\r\n\t\tv = is.string(v) && alias[v] || v;\r\n\t\tnumber(key + '_' + i, v, target, data, initials)\r\n\t}\r\n\t\r\n\treturn demux;\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nconst\r\n\tunitsRe      = new RegExp(\r\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\r\n\t\t['box', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\r\n\t\t+ \")\"\r\n\t),\r\n\tfloatCut     = function ( v, l ) {\r\n\t\tlet p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tdefaultUnits = {\r\n\t\tleft  : 'px',\r\n\t\tright : 'px',\r\n\t\ttop   : 'px',\r\n\t\tbottom: 'px',\r\n\t\twidth : 'px',\r\n\t\theight: 'px',\r\n\t},\r\n\tdefaultBox   = {\r\n\t\tleft  : 'x',\r\n\t\tright : 'x',\r\n\t\ttop   : 'y',\r\n\t\tbottom: 'y',\r\n\t\twidth : 'x',\r\n\t\theight: 'y',\r\n\t};\r\n\r\nfunction demux( key, tweenable, target, data, box ) {\r\n\tlet value = tweenable[key],\r\n\t    unit  = data[key];\r\n\t\r\n\tif ( unit === 'box' ) {\r\n\t\tvalue = floatCut(value * (box[defaultBox[key]] || box.x), 3);\r\n\t\tunit  = 'px';\r\n\t}\r\n\t\r\n\ttarget[key] = unit ? value + unit : floatCut(value, 3);\r\n}\r\n\r\nfunction muxer( key, value, target, data, initials, forceUnits ) {\r\n\t\r\n\t\r\n\tlet match     = is.string(value) ? value.match(unitsRe) : false;\r\n\tinitials[key] = 0;\r\n\tif ( match ) {\r\n\t\tif ( !forceUnits && data[key] && data[key] !== match[2] ) {\r\n\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", key, \"present:\" + data[key], \"new:\" + match[2]);\r\n\t\t\ttarget[key] = 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdata[key]   = match[2];\r\n\t\t\ttarget[key] = parseFloat(match[1]);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\ttarget[key] = parseFloat(value);\r\n\t\tif ( !data[key] && key in defaultUnits )\r\n\t\t\tdata[key] = defaultUnits[key];\r\n\t}\r\n\t\r\n\treturn demux;\r\n};\r\nmuxer.demux = demux;\r\nexport default muxer;","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\n\r\nimport {expandShorthandProperty, isShorthandProperty, isValidDeclaration} from \"./cssUtils\";\r\nimport * as cssDemuxers                                                   from \"./demux/(*).js\";\r\n\r\nimport {number, int, multi} from \"./demux/typed/(*).js\";\r\n\r\n\r\nconst cssDemux = {\r\n\t...cssDemuxers,\r\n\theight         : number,\r\n\twidth          : number,\r\n\ttop            : number,\r\n\tleft           : number,\r\n\tright          : number,\r\n\tbottom         : number,\r\n\tmarginTop      : number,\r\n\tmarginLeft     : number,\r\n\tmarginRight    : number,\r\n\tmarginBottom   : number,\r\n\tpaddingTop     : number,\r\n\tpaddingLeft    : number,\r\n\tpaddingRight   : number,\r\n\tpaddingBottom  : number,\r\n\ttransformOrigin: multi(2),\r\n\tzIndex         : int,\r\n\t//rotate       : transforms,\r\n\t//rotateX      : transforms,\r\n\t//rotateY      : transforms,\r\n\t//x            : transforms,\r\n\t//y            : transforms,\r\n\t//z            : transforms,\r\n\t//_x           : transforms,\r\n\t//_y           : transforms,\r\n\t//_z           : transforms,\r\n\t//blur         : transforms,\r\n\t//perspective  : transforms\r\n};\r\n\r\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\r\n\tObject.keys(demuxers)\r\n\t      .forEach(\r\n\t\t      ( key ) => {\r\n\t\t\t      //if ( key === 'zIndex' ) debugger\r\n\t\t\t      demuxers[key](key, tweenable, css, data, box)\r\n\t\t      }\r\n\t      )\r\n}\r\n\r\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, forceUnits ) {\r\n\tlet fTween = {}, excluded = {};\r\n\tObject.keys(tween)\r\n\t      .forEach(\r\n\t\t      ( key ) => {\r\n\t\t\t      if ( cssDemux[key] )\r\n\t\t\t\t      fTween[key] = tween[key];\r\n\t\t\t      else if ( isValidDeclaration(key, tween[key]) ) {\r\n\t\t\t\t      if ( isShorthandProperty(key) ) {\r\n\t\t\t\t\t      expandShorthandProperty(key, tween[key], fTween);\r\n\t\t\t\t      }\r\n\t\t\t\t      else fTween[key] = tween[key];\r\n\t\t\t      }\r\n\t\t\t      else excluded[key] = tween[key];\r\n\t\t      });\r\n\t\r\n\tObject.keys(fTween)\r\n\t      .forEach(\r\n\t\t      ( key ) => {\r\n\t\t\t      if ( cssDemux[key] ) {//key, value, target, data, initials\r\n\t\t\t\t      demuxers[key] = cssDemux[key](key, fTween[key], deMuxedTween, data, initials, forceUnits)\r\n\t\t\t      }\r\n\t\t\t      else\r\n\t\t\t\t      demuxers[key] = cssDemux.$all(key, fTween[key], deMuxedTween, data, initials, forceUnits)\r\n\t\t      }\r\n\t      )\r\n\treturn excluded;\r\n}\r\n\r\nexport function deMuxLine( tweenLine, initials, data, demuxers ) {\r\n\treturn tweenLine.reduce(\r\n\t\t( line, tween ) => {\r\n\t\t\tlet demuxedTween       = {};\r\n\t\t\tdemuxers[tween.target] = demuxers[tween.target] || {};\r\n\t\t\tinitials[tween.target] = initials[tween.target] || {};\r\n\t\t\tdata[tween.target]     = data[tween.target] || {};\r\n\t\t\t\r\n\t\t\tdeMuxTween(tween.apply, demuxedTween, initials[tween.target], data[tween.target], demuxers[tween.target]);\r\n\t\t\tline.push(\r\n\t\t\t\t{\r\n\t\t\t\t\t...tween,\r\n\t\t\t\t\tapply: demuxedTween\r\n\t\t\t\t});\r\n\t\t\treturn line\r\n\t\t},\r\n\t\t[]\r\n\t)\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport is from \"is\";\r\n\r\nexport function offset( items, start = 0 ) {\r\n\titems = is.array(items) ? items : items && [items] || items;\r\n\treturn items.map(\r\n\t\titem => (\r\n\t\t\t{\r\n\t\t\t\t...item,\r\n\t\t\t\tfrom: item.from + start\r\n\t\t\t}\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport function scale( items, duration = 0 ) {\r\n\titems = is.array(items) ? items : items && [items] || items;\r\n\t\r\n\t// get items current duration\r\n\tlet iDuration = 0;\r\n\titems.forEach(\r\n\t\titem => {\r\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\r\n\t\t}\r\n\t)\r\n\t\r\n\treturn items.map(\r\n\t\titem => (\r\n\t\t\t{\r\n\t\t\t\t...item,\r\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\r\n\t\t\t\tduration: (item.duration / iDuration) * duration\r\n\t\t\t}\r\n\t\t)\r\n\t)\r\n}\r\n\r\nfunction inverseValues( v ) {\r\n\tif ( is.number(v) )\r\n\t\treturn -v;\r\n\tif ( is.object(v) )\r\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\r\n\tif ( is.array(v) )\r\n\t\treturn v.map(( item ) => (inverseValues(item)));\r\n\t\r\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\r\n\t\r\n\treturn values.map(\r\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\r\n\t).join(\"\");\r\n}\r\n\r\nexport function reverse( items ) {\r\n\titems         = is.array(items) ? items : items && [items] || items;\r\n\t// get items current duration\r\n\tlet iDuration = 0;\r\n\titems.forEach(\r\n\t\titem => {\r\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\r\n\t\t}\r\n\t)\r\n\t\r\n\treturn items.map(\r\n\t\titem => {\r\n\t\t\titem =\r\n\t\t\t\t{\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\tfrom : iDuration - (item.from + item.duration),\r\n\t\t\t\t\tapply: inverseValues(item.apply)\r\n\t\t\t\t};\r\n\t\t\treturn item;\r\n\t\t}\r\n\t)\r\n}\r\n\r\nexport function addCss( target, ...sources ) {\r\n\tlet source = sources.shift();\r\n\tfor ( const key in source ) {\r\n\t\tif ( !source.hasOwnProperty(key) )\r\n\t\t\tcontinue;\r\n\t\tif ( is.object(source[key]) ) {\r\n\t\t\tif ( !target[key] ) {\r\n\t\t\t\ttarget[key] = {};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taddCss(target[key], source[key]);\r\n\t\t}\r\n\t\telse if ( is.array(source[key]) ) {\r\n\t\t\tif ( !target[key] ) {\r\n\t\t\t\ttarget[key] = [];\r\n\t\t\t}\r\n\t\t\taddCss(target[key], source[key]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttarget[key] = addAllType(target[key], source[key])\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn sources.length && addCss(target, ...sources) || target;\r\n}\r\n\r\nfunction addAllType( v1, v2 ) {\r\n\tif ( !v1 )\r\n\t\treturn v2;\r\n\tif ( !v2 )\r\n\t\treturn v1;\r\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\r\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\r\n\t    r       = values1.map(\r\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\r\n\t    ).filter(i => (i !== ''));\r\n\t\r\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\r\n}\r\n\r\nexport function extractCss( items, inverse ) {\r\n\tlet css = {};\r\n\titems   = is.array(items) ? items : items && [items] || items;\r\n\titems.forEach(\r\n\t\titem => {\r\n\t\t\taddCss(css, item.apply)\r\n\t\t}\r\n\t);\r\n\tif ( inverse )\r\n\t\tcss = inverseValues(css);\r\n\t\r\n\t\r\n\t//if ( inverse && css.hasOwnProperty('opacity') )\r\n\t//\tcss.opacity -= 1;\r\n\treturn css;\r\n}\r\n\r\nexport function target( items, target ) {\r\n\titems = is.array(items) ? items : items && [items] || items;\r\n\treturn items.map(\r\n\t\titem => (\r\n\t\t\t{\r\n\t\t\t\t...item,\r\n\t\t\t\ttarget\r\n\t\t\t}\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport function shiftTransforms( items, shift = 1 ) {\r\n\titems = is.array(items) ? items : items && [items] || items;\r\n\treturn items.map(\r\n\t\titem => {\r\n\t\t\tlet t = item.apply && item.apply.transform;\r\n\t\t\tif ( t ) {\r\n\t\t\t\tt = is.array(t) ? t : [t];\r\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\r\n\t\t\t\t\tt.unshift({});\r\n\t\t\t\t\r\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\r\n\t\t\t}\r\n\t\t\treturn item;\r\n\t\t}\r\n\t)\r\n}","/*\n *\n * Copyright (C) 2019 Nathan Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {Component}     from 'react';\nimport asTweener       from './asTweener';\nimport TweenAxis       from './TweenAxis';\nimport TweenRef        from './TweenRef';\nimport withTweener     from './withTweener';\nimport TweenerContext  from './TweenerContext';\nimport * as tweenTools from './helpers/tweenTools.js';\n\n@asTweener\nclass Tweenable extends Component {\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\n\nexport {asTweener, withTweener, tweenTools, Tweenable, TweenRef, TweenerContext, TweenAxis};\nexport default Tweenable;","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nvar\r\n\tis        = require('is'),\r\n\tfloatCut  = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tmin       = Math.min,\r\n\tmax       = Math.max,\r\n\tisBrowser = typeof window !== 'undefined',\r\n\t_dom      = isBrowser ? {\r\n\t\tprefix      : (/webkit/i).test(navigator.appVersion) ? 'webkit' :\r\n\t\t              (/firefox/i).test(navigator.userAgent) ? 'Moz' :\r\n\t\t              (/trident/i).test(navigator.userAgent) ? 'ms' :\r\n\t\t              'opera' in window ? 'O' : '',\r\n\t\tdashedPrefix: (/webkit/i).test(navigator.appVersion) ? '-webkit-' :\r\n\t\t              (/firefox/i).test(navigator.userAgent) ? '-moz-' :\r\n\t\t              (/trident/i).test(navigator.userAgent) ? '-ms-' :\r\n\t\t              'opera' in window ? '-o-' : ''\r\n\t} : {\r\n\t\tprefix      : '',\r\n\t\tdashedPrefix: ''\r\n\t},\r\n\t__        = {\r\n\t\tonPageHided      : [],\r\n\t\tonPageShown      : [],\r\n\t\tdragging         : [],\r\n\t\tdragEnabled      : [],\r\n\t\tdragEnabledDesc  : [],\r\n\t\tfingers          : {},\r\n\t\tnbFingers        : 0,\r\n\t\tdragstartAnywhere: function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me            = __,\r\n\t\t\t    i             = me.dragEnabled.indexOf(this),\r\n\t\t\t    finger,\r\n\t\t\t    desc, fingers = [];\r\n\t\t\t\r\n\t\t\tif ( i === -1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//e.preventDefault();\r\n\t\t\t//e.stopPropagation();\r\n\t\t\t\r\n\t\t\tif ( !me.nbFingers ) {\r\n\t\t\t\tDom.addEvent(document,\r\n\t\t\t\t             {\r\n\t\t\t\t\t             'touchmove': me.dragAnywhere,\r\n\t\t\t\t\t             'mousemove': me.dragAnywhere,\r\n\t\t\t\t\t             'touchend' : me.dropAnywhere,\r\n\t\t\t\t\t             'mouseup'  : me.dropAnywhere,\r\n\t\t\t\t             });\r\n\t\t\t\tDom.addEvent(this,\r\n\t\t\t\t             {\r\n\t\t\t\t\t             'click': me.dropWithoutClick\r\n\t\t\t\t             }, null, null, true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var t = 0, ln = fingers.length; t < ln; t++ ) {\r\n\t\t\t\tfinger = fingers[t];\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdesc = me.dragEnabledDesc[i];\r\n\t\t\t\t\r\n\t\t\t\tif ( desc.nbFingers ) continue;\r\n\t\t\t\t\r\n\t\t\t\tme.nbFingers++;\r\n\t\t\t\t\r\n\t\t\t\tme.fingers[finger.identifier] = me.fingers[finger.identifier] || [];\r\n\t\t\t\tme.fingers[finger.identifier].push(desc);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdesc.nbFingers++;\r\n\t\t\t\t\r\n\t\t\t\tdesc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\tdesc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\tdesc._startTs    = e.timeStamp;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\r\n\t\t\t\tfor ( o = 0; o < desc.dragstart.length; o++ )\r\n\t\t\t\t\tdesc.dragstart[o][0].call(desc.dragstart[o][1] ||\r\n\t\t\t\t\t\t                          this, e, finger, desc);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdragAnywhere     : function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me              = __,\r\n\t\t\t    finger, fingers = [], stopped,\r\n\t\t\t    desc            = __.dragging[0];\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\r\n\t\t\t\tfinger = fingers[i];\r\n\t\t\t\tdesc   = me.fingers[finger.identifier];\r\n\t\t\t\tme.fingers[finger.identifier] &&\r\n\t\t\t\tme.fingers[finger.identifier].forEach(\r\n\t\t\t\t\tdesc => {\r\n\t\t\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\t\t\tdesc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\t\tdesc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor ( o = 0; o < desc.drag.length; o++ )\r\n\t\t\t\t\t\t\tstopped = desc.drag[o][0].call(desc.drag[o][1] || this, e,\r\n\t\t\t\t\t\t\t                               finger,\r\n\t\t\t\t\t\t\t                               desc) === false;\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tdropWithoutClick : function ( e ) {\r\n\t\t\tif ( __.preventNextClick ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t__.preventNextClick = false;\r\n\t\t\t}\r\n\t\t\tDom.removeEvent(this,\r\n\t\t\t                {\r\n\t\t\t\t                'click': this.dropWithoutClick\r\n\t\t\t                });\r\n\t\t},\r\n\t\tdropAnywhere     : function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me = __, finger, fingers = [],\r\n\t\t\t    prevent;\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\r\n\t\t\t\tfinger = fingers[i];\r\n\t\t\t\tme.nbFingers--;\r\n\t\t\t\tme.fingers[finger.identifier] &&\r\n\t\t\t\tme.fingers[finger.identifier].forEach(\r\n\t\t\t\t\tdesc => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdesc.nbFingers--;\r\n\t\t\t\t\t\tprevent         = prevent || desc.mouseDrag && (e.timeStamp - desc._startTs > 250);\r\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor ( o = 0; o < desc.dropped.length; o++ )\r\n\t\t\t\t\t\t\tdesc.dropped[o][0].call(desc.dropped[o][1] ||\r\n\t\t\t\t\t\t\t\t                        this, e,\r\n\t\t\t\t\t\t\t                        finger, desc);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tme.fingers[finger.identifier] = null;\r\n\t\t\t}\r\n\t\t\tif ( prevent ) {\r\n\t\t\t\tme.preventNextClick = true;\r\n\t\t\t}\r\n\t\t\tif ( !me.nbFingers ) {\r\n\t\t\t\tDom.removeEvent(document,\r\n\t\t\t\t                {\r\n\t\t\t\t\t                'touchmove': me.dragAnywhere,\r\n\t\t\t\t\t                'mousemove': me.dragAnywhere,\r\n\t\t\t\t\t                'touchend' : me.dropAnywhere,\r\n\t\t\t\t\t                'mouseup'  : me.dropAnywhere\r\n\t\t\t\t                });\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDraggable     : function ( node, mouseDrag ) {\r\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\r\n\t\t\tif ( i === -1 ) {\r\n\t\t\t\tthis.dragEnabled.push(node);\r\n\t\t\t\tthis.dragEnabledDesc.push(\r\n\t\t\t\t\tdesc = {\r\n\t\t\t\t\t\tmouseDrag,\r\n\t\t\t\t\t\tnbFingers: 0,\r\n\t\t\t\t\t\tlocks    : 0,\r\n\t\t\t\t\t\t_startPos: {\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t_lastPos : {\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdragstart: [],\r\n\t\t\t\t\t\tdrag     : [],\r\n\t\t\t\t\t\tdragEnd  : [],\r\n\t\t\t\t\t\tdropped  : []\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t//debugger;\r\n\t\t\t\tDom.addEvent(node,\r\n\t\t\t\t             {\r\n\t\t\t\t\t             'mousedown' : mouseDrag && this.dragstartAnywhere,\r\n\t\t\t\t\t             'touchstart': this.dragstartAnywhere\r\n\t\t\t\t             }, null, null, true);\r\n\t\t\t}\r\n\t\t\telse desc = this.dragEnabledDesc[i];\r\n\t\t\treturn desc;\r\n\t\t},\r\n\t\tfreeDraggable    : function ( node ) {\r\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\r\n\t\t\tif ( i !== -1 ) {\r\n\t\t\t\tthis.dragEnabled.splice(i, 1);\r\n\t\t\t\tthis.dragEnabledDesc.splice(i, 1);\r\n\t\t\t\t\r\n\t\t\t\tDom.removeEvent(node,\r\n\t\t\t\t                {\r\n\t\t\t\t\t                'mousedown' : this.dragstartAnywhere,\r\n\t\t\t\t\t                'touchstart': this.dragstartAnywhere\r\n\t\t\t\t                });\r\n\t\t\t}\r\n\t\t},\r\n\t\taddOverflowEvent : function addFlowListener( element, fn ) {\r\n\t\t\t\r\n\t\t\tvar type = 'over', flow = type == 'over';\r\n\t\t\t\r\n\t\t\telement.addEventListener('OverflowEvent' in window ? 'overflowchanged' : type + 'flow',\r\n\t\t\t                         function ( e ) {\r\n\t\t\t\t                         if ( e.type == (type + 'flow') ||\r\n\t\t\t\t\t                         ((e.orient == 0 && e.horizontalOverflow == flow) ||\r\n\t\t\t\t\t\t                         (e.orient == 1 && e.verticalOverflow == flow) ||\r\n\t\t\t\t\t\t                         (e.orient == 2 && e.horizontalOverflow == flow &&\r\n\t\t\t\t\t\t\t                         e.verticalOverflow == flow)) ) {\r\n\t\t\t\t\t                         return fn.call(this, e);\r\n\t\t\t\t                         }\r\n\t\t\t                         }, false);\r\n\t\t\t\r\n\t\t},\r\n\t\taddEvent         : function ( node, type, fn, bubble ) {\r\n\t\t\tif ( node.addEventListener ) {\r\n\t\t\t\tnode.addEventListener(type, fn, bubble);\r\n\t\t\t}\r\n\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\tnode.attachEvent('on' + type,\r\n\t\t\t\t                 fn.related = function ( e ) {\r\n\t\t\t\t\t                 return fn.call(node, e);\r\n\t\t\t\t                 });\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveEvent      : function ( node, type, fn, bubble ) {\r\n\t\t\tif ( node.removeEventListener ) {\r\n\t\t\t\tnode.removeEventListener(type, fn, bubble);\r\n\t\t\t}\r\n\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\tnode.detachEvent('on' + type, fn.related);\r\n\t\t\t}\r\n\t\t},\r\n\t\trmDragFn         : function ( arr, fn, scope ) {\r\n\t\t\tfor ( var i = 0, ln = arr.length; i < ln; i++ ) {\r\n\t\t\t\tif ( arr[i][0] === fn )\r\n\t\t\t\t\treturn arr.splice(i, 1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.warn(\"Rm event : Listener not found !!\");\r\n\t\t},\r\n\t\t_createElement   : function ( tag, opt, refs, parent ) {\r\n\t\t\tvar a, o, i, ln,\r\n\t\t\t    node = parent || document.createElement(tag);\r\n\t\t\t\r\n\t\t\t//if (parent) opt = {content:opt};\r\n\t\t\t\r\n\t\t\tif ( opt )\r\n\t\t\t\tfor ( o in opt )\r\n\t\t\t\t\tif ( opt.hasOwnProperty(o) && opt[o] !== undefined\r\n\t\t\t\t\t\t&& !_createElementAttr.hasOwnProperty(o) ) {\r\n\t\t\t\t\t\ta       = document.createAttribute(o);\r\n\t\t\t\t\t\ta.value = opt[o];\r\n\t\t\t\t\t\tnode.setAttributeNode(a);\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\trefs && opt.$id && (refs[opt.$id] = node);\r\n\t\t\t\r\n\t\t\topt.style && Dom.applyCss(node, opt.style);\r\n\t\t\t\r\n\t\t\topt.cls && Dom.addCls(node, opt.cls);\r\n\t\t\t\r\n\t\t\tif ( opt.events ) {\r\n\t\t\t\tfor ( o in opt.events )\r\n\t\t\t\t\tif ( opt.events.hasOwnProperty(o) && o !== \"$scope\" )\r\n\t\t\t\t\t\tDom.addEvent(node, o, opt.events[o], opt.events.$scope);\r\n\t\t\t}\r\n\t\t\tif ( opt.content ) {\r\n\t\t\t\tif ( typeof opt.content === 'string' || typeof opt.content[o] == 'number' ) {\r\n\t\t\t\t\tnode.innerHTML = opt.content;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( opt.content instanceof Array ) {\r\n\t\t\t\t\tfor ( i = 0, ln = opt.content.length; i < ln; i++ )\r\n\t\t\t\t\t\tnode.appendChild(\r\n\t\t\t\t\t\t\ttypeof opt.content[i] == 'string' || typeof opt.content[i] == 'number' || !opt.content[i] ?\r\n\t\t\t\t\t\t\tdocument.createTextNode(opt.content[i] || '') :\r\n\t\t\t\t\t\t\tisElement(opt.content[i]) ?\r\n\t\t\t\t\t\t\topt.content[i] :\r\n\t\t\t\t\t\t\t__createElement(opt.content[i].tagName || 'div', opt.content[i], refs)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnode.appendChild(\r\n\t\t\t\t\t\topt.content instanceof HTMLElement ?\r\n\t\t\t\t\t\topt.content : __createElement(\r\n\t\t\t\t\t\t\topt.content.tagName || 'div', opt.content, refs)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn node;\r\n\t\t}\r\n\t},\r\n\tDom       = {\r\n\t\taddEvent     : function ( node, type, fn, mouseDrag, bubble ) {\r\n\t\t\tif ( is.object(type) ) {\r\n\t\t\t\tfor ( var o in type )\r\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\r\n\t\t\t\t\t\tthis.addEvent(node, o, type[o], mouseDrag, bubble);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if ( type == 'dragstart' ) {\r\n\t\t\t\t__.getDraggable(node, mouseDrag).dragstart.push([fn, mouseDrag]);\r\n\t\t\t}\r\n\t\t\telse if ( type == 'drag' ) {\r\n\t\t\t\t__.getDraggable(node, mouseDrag).drag.push([fn, mouseDrag]);\r\n\t\t\t}\r\n\t\t\telse if ( type == 'dropped' ) {\r\n\t\t\t\t__.getDraggable(node, mouseDrag).dropped.push([fn, mouseDrag]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif ( node.addEventListener ) {\r\n\t\t\t\t\tnode.addEventListener(type, fn, { passive: false });\r\n\t\t\t\t}\r\n\t\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\t\tnode.attachEvent('on' + type,\r\n\t\t\t\t\t                 fn.related = function ( e ) {\r\n\t\t\t\t\t\t                 return fn.call(node, e);\r\n\t\t\t\t\t                 });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tremoveEvent  : function ( node, type, fn, scope, bubble ) {\r\n\t\t\tvar i, desc;\r\n\t\t\t\r\n\t\t\tif ( is.object(type) ) {\r\n\t\t\t\tfor ( var o in type )\r\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\r\n\t\t\t\t\t\tthis.removeEvent(node, o, type[o], scope);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( /^(drag|drop)/.test(type) ) {\r\n\t\t\t\tdesc = __.getDraggable(node);\r\n\t\t\t\t__.rmDragFn(desc[type], fn, scope);\r\n\t\t\t\tif ( !desc.dragstart.length\r\n\t\t\t\t\t&& !desc.drag.length\r\n\t\t\t\t\t&& !desc.dragEnd.length\r\n\t\t\t\t\t&& !desc.dropped.length )\r\n\t\t\t\t\t__.freeDraggable(node);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif ( node.removeEventListener ) {\r\n\t\t\t\t\tnode.removeEventListener(type, fn, bubble);\r\n\t\t\t\t}\r\n\t\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\t\tnode.detachEvent('on' + type, fn.related);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\toffset       : function ( elem ) {// @todo\r\n\t\t\tvar dims = { top: 0, left: 0, width: elem.offsetWidth, height: elem.offsetHeight };\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tdims.top  = dims.top + parseInt(elem.offsetTop);\r\n\t\t\t\tdims.left = dims.left + parseInt(elem.offsetLeft);\r\n\t\t\t\telem      = elem.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn dims;\r\n\t\t},\r\n\t\taddWheelEvent: isBrowser && (function ( window, document ) {\r\n\t\t\t\r\n\t\t\tvar prefix = \"\", _addEventListener, _rmEventListener, onwheel, support;\r\n\t\t\t\r\n\t\t\t// detect event model\r\n\t\t\tif ( window.addEventListener ) {\r\n\t\t\t\t_addEventListener = \"addEventListener\";\r\n\t\t\t\t_rmEventListener  = \"removeEventListener\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_addEventListener = \"attachEvent\";\r\n\t\t\t\t_rmEventListener  = \"detachEvent\";\r\n\t\t\t\tprefix            = \"on\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// detect available wheel event\r\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\r\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\r\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\r\n\t\t\t\r\n\t\t\tconst addWheelListener = function ( elem, callback, scope, useCapture ) {\r\n\t\t\t\t_addWheelListener(elem, support, callback, scope, useCapture);\r\n\t\t\t\t\r\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\r\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\r\n\t\t\t\t\t_addWheelListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// Reasonable defaults\r\n\t\t\tvar PIXEL_STEP         = 10;\r\n\t\t\tvar LINE_HEIGHT        = 40;\r\n\t\t\tvar PAGE_HEIGHT        = 800;\r\n\t\t\t\r\n\t\t\tfunction normalizeWheel( /*object*/ event ) /*object*/ {\r\n\t\t\t\tvar sX = 0, sY = 0,       // spinX, spinY\r\n\t\t\t\t    pX         = 0, pY = 0;       // pixelX, pixelY\r\n\t\t\t\t\r\n\t\t\t\t// Legacy\r\n\t\t\t\tif ( 'detail' in event ) {\r\n\t\t\t\t\tsY = event.detail;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDelta' in event ) {\r\n\t\t\t\t\tsY = -event.wheelDelta / 120;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDeltaY' in event ) {\r\n\t\t\t\t\tsY = -event.wheelDeltaY / 120;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDeltaX' in event ) {\r\n\t\t\t\t\tsX = -event.wheelDeltaX / 120;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// side scrolling on FF with DOMMouseScroll\r\n\t\t\t\tif ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\r\n\t\t\t\t\tsX = sY;\r\n\t\t\t\t\tsY = 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpX = sX * PIXEL_STEP;\r\n\t\t\t\tpY = sY * PIXEL_STEP;\r\n\t\t\t\t\r\n\t\t\t\tif ( 'deltaY' in event ) {\r\n\t\t\t\t\tpY = event.deltaY;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'deltaX' in event ) {\r\n\t\t\t\t\tpX = event.deltaX;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( (pX || pY) && event.deltaMode ) {\r\n\t\t\t\t\tif ( event.deltaMode == 1 ) {          // delta in LINE units\r\n\t\t\t\t\t\tpX *= LINE_HEIGHT;\r\n\t\t\t\t\t\tpY *= LINE_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {                             // delta in PAGE units\r\n\t\t\t\t\t\tpX *= PAGE_HEIGHT;\r\n\t\t\t\t\t\tpY *= PAGE_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Fall-back if spin cannot be determined\r\n\t\t\t\tif ( pX && !sX ) {\r\n\t\t\t\t\tsX = (pX < 1) ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pY && !sY ) {\r\n\t\t\t\t\tsY = (pY < 1) ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\tspinX : sX,\r\n\t\t\t\t\tspinY : sY,\r\n\t\t\t\t\tpixelX: pX,\r\n\t\t\t\t\tpixelY: pY\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction _addWheelListener( elem, eventName, callback, scope, useCapture ) {\r\n\t\t\t\telem[_addEventListener](prefix + eventName, callback._wheelList = function ( originalEvent ) {\r\n\t\t\t\t\t!originalEvent && (originalEvent = window.event);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// create a normalized event object\r\n\t\t\t\t\tvar event = {\r\n\t\t\t\t\t\t// keep a ref to the original event object\r\n\t\t\t\t\t\toriginalEvent : originalEvent,\r\n\t\t\t\t\t\ttarget        : originalEvent.target || originalEvent.srcElement,\r\n\t\t\t\t\t\ttype          : \"wheel\",\r\n\t\t\t\t\t\tdeltaMode     : originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\r\n\t\t\t\t\t\tdeltaX        : 0,\r\n\t\t\t\t\t\tdelatZ        : 0,\r\n\t\t\t\t\t\tpreventDefault: function () {\r\n\t\t\t\t\t\t\toriginalEvent.preventDefault ?\r\n\t\t\t\t\t\t\toriginalEvent.preventDefault() :\r\n\t\t\t\t\t\t\toriginalEvent.returnValue = false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnormalized    : normalizeWheel(originalEvent)\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t// calculate deltaY (and deltaX) according to the event\r\n\t\t\t\t\tif ( support == \"mousewheel\" ) {\r\n\t\t\t\t\t\tevent.deltaY = -1 / 40 * originalEvent.wheelDelta;\r\n\t\t\t\t\t\t// Webkit also support wheelDeltaX\r\n\t\t\t\t\t\t//                            originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 *\r\n\t\t\t\t\t\t// originalEvent.wheelDeltaX );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( support == \"wheel\" && _dom.prefix == \"Moz\" ) {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( support == \"wheel\" ) {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//                        if (typeof originalEvent.wheelDeltaY !== 'number')\r\n\t\t\t\t\t//                            event.wheelDeltaY = originalEvent.deltaY/100;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//                        event.wheelDelta = deltaY*120;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// it's time to fire the callback\r\n\t\t\t\t\treturn callback.call(scope || this, event);\r\n\t\t\t\t\t\r\n\t\t\t\t}, useCapture || false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn addWheelListener;\r\n\t\t})(window, document),\r\n\t\trmWheelEvent : isBrowser && (function ( window, document ) {\r\n\t\t\t\r\n\t\t\tvar prefix = \"\", _rmEventListener, onwheel, support;\r\n\t\t\t\r\n\t\t\t// detect event model\r\n\t\t\tif ( addEventListener ) {\r\n\t\t\t\t_rmEventListener = \"removeEventListener\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_rmEventListener = \"detachEvent\";\r\n\t\t\t\tprefix           = \"on\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// detect available wheel event\r\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\r\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\r\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\r\n\t\t\t\r\n\t\t\tlet rmWheelListener = function ( elem, callback, scope, useCapture ) {\r\n\t\t\t\t_EventListener(elem, support, callback, scope, useCapture);\r\n\t\t\t\t\r\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\r\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\r\n\t\t\t\t\t_EventListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tfunction _EventListener( elem, eventName, callback, scope, useCapture ) {\r\n\t\t\t\telem[_rmEventListener](prefix + eventName, callback._wheelList);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn rmWheelListener;\r\n\t\t})(window, document),\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Find the react component that generate element dom node\r\n\t\t * @param element\r\n\t\t * @returns {[React.Component]}\r\n\t\t */\r\n\t\tfindReactParents( element ) {\r\n\t\t\tlet fiberNode, comps = [];\r\n\t\t\tfor ( const key in element ) {\r\n\t\t\t\tif ( key.startsWith('__reactInternalInstance$') ) {\r\n\t\t\t\t\tfiberNode = element[key].return;\r\n\t\t\t\t\twhile ( fiberNode.return ) {\r\n\t\t\t\t\t\tfiberNode = fiberNode.return;\r\n\t\t\t\t\t\tif ( fiberNode.stateNode )\r\n\t\t\t\t\t\t\tcomps.push(fiberNode.stateNode)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn comps;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn element.parentNode && this.findReactParents(element.parentNode);\r\n\t\t}\r\n\t\t\r\n\t};\r\nexport default Dom;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport TweenerContext from \"./TweenerContext\";\n\n\nconst SimpleObjectProto = ({}).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent && (BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component)) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn withTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\tclass TweenerToProps extends React.Component {\n\t\tstatic displayName = (BaseComponent.displayName || BaseComponent.name);\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\ttweener => {\n\t\t\t\t\t\treturn <BaseComponent { ...this.props } tweener={ tweener } ref={ this.props.forwardedRef }/>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n\t\n\tlet withRef         = React.forwardRef(( props, ref ) => {\n\t\treturn <TweenerToProps { ...props } forwardedRef={ ref }/>;\n\t});\n\twithRef.displayName = TweenerToProps.displayName;\n\treturn withRef;\n}\n","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"d3-ease\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"prop-types\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/get\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"is\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"rtween\");","module.exports = require(\"color-rgba\");","module.exports = require(\"shortid\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/objectSpread\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");"],"sourceRoot":""}